{
  "__comment": "保护基定义 + 正交性映射。供 protecting_group_detector.py 加载使用。",

  "definitions": {

    "__comment_amine": "=== 氨基保护基 ===",

    "Boc":       {"smarts": "[NX3][CX3](=O)OC(C)(C)C",                    "type": "amine",
                  "removal": "TFA or HCl/dioxane (acid-labile)"},
    "Cbz":       {"smarts": "[NX3][CX3](=O)OCc1ccccc1",                   "type": "amine",
                  "removal": "H2/Pd-C (hydrogenolysis)"},
    "Fmoc":      {"smarts": "[NX3][CX3](=O)OCC1c2ccccc2-c2ccccc12",       "type": "amine",
                  "removal": "piperidine/DMF (base-labile)"},
    "Alloc":     {"smarts": "[NX3][CX3](=O)OC[CX3]=[CX3]",               "type": "amine",
                  "removal": "Pd(0)/morpholine"},
    "Troc":      {"smarts": "[NX3][CX3](=O)OCC(Cl)(Cl)Cl",               "type": "amine",
                  "removal": "Zn/AcOH (reductive)"},
    "Teoc":      {"smarts": "[NX3][CX3](=O)OCC[Si]",                      "type": "amine",
                  "removal": "TBAF/THF (fluoride-labile)"},
    "Acetyl_N":  {"smarts": "[NX3][CX3](=O)[CH3]",                        "type": "amine",
                  "removal": "NaOH/MeOH or HCl/MeOH"},
    "Benzoyl_N": {"smarts": "[NX3][CX3](=O)c1ccccc1",                     "type": "amine",
                  "removal": "6N HCl reflux or LiOH/H2O2"},
    "Tosyl_N":   {"smarts": "[NX3]S(=O)(=O)c1ccc(C)cc1",                  "type": "amine",
                  "removal": "Na/naphthalene or SmI2"},
    "Nosyl_N":   {"smarts": "[NX3]S(=O)(=O)c1ccc([NX3+](=O)[O-])cc1",    "type": "amine",
                  "removal": "PhSH/K2CO3 (thiolysis)"},
    "Trifluoroacetyl_N": {"smarts": "[NX3][CX3](=O)C(F)(F)F",             "type": "amine",
                  "removal": "K2CO3/MeOH (mild base)"},
    "Phthaloyl_N": {"smarts": "[NX3]1[CX3](=O)c2ccccc2[CX3]1=O",         "type": "amine",
                  "removal": "N2H4 (hydrazinolysis)"},
    "PMB_N":     {"smarts": "[NX3][CH2]c1ccc(OC)cc1",                     "type": "amine",
                  "removal": "DDQ or CAN (oxidative)"},
    "Dde_N":     {"smarts": "[NX3]C(C)=CC1(C)CC(=O)CC(=O)C1",           "type": "amine",
                  "removal": "2% N2H4/DMF (hydrazinolysis)"},
    "Mtt_N":     {"smarts": "[NX3]C(c1ccccc1)(c1ccccc1)c1ccc(C)cc1",      "type": "amine",
                  "removal": "1% TFA/DCM (very acid-labile)"},
    "Bn_N":      {"smarts": "[NX3][CH2]c1ccccc1",                         "type": "amine",
                  "removal": "H2/Pd-C (hydrogenolysis)"},

    "__comment_hydroxyl": "=== 羟基保护基 ===",

    "TBS":       {"smarts": "[OX2][Si]([CH3])([CH3])C([CH3])([CH3])[CH3]", "type": "hydroxyl",
                  "removal": "TBAF/THF or HF/pyridine"},
    "TBDPS":     {"smarts": "[OX2][Si](c1ccccc1)(c1ccccc1)C([CH3])([CH3])[CH3]", "type": "hydroxyl",
                  "removal": "TBAF/THF (slow) or HF/pyridine"},
    "TIPS":      {"smarts": "[OX2][Si]([CH]([CH3])[CH3])([CH]([CH3])[CH3])[CH]([CH3])[CH3]",
                  "type": "hydroxyl",
                  "removal": "TBAF/THF (slower than TBS)"},
    "TMS":       {"smarts": "[OX2][Si]([CH3])([CH3])[CH3]",               "type": "hydroxyl",
                  "removal": "K2CO3/MeOH or dilute acid"},
    "TES":       {"smarts": "[OX2][Si]([CH2][CH3])([CH2][CH3])[CH2][CH3]", "type": "hydroxyl",
                  "removal": "TBAF or AcOH/THF/H2O"},
    "Bn_O":      {"smarts": "[OX2][CH2]c1ccccc1",                         "type": "hydroxyl",
                  "removal": "H2/Pd-C (hydrogenolysis)"},
    "PMB_O":     {"smarts": "[OX2][CH2]c1ccc(OC)cc1",                     "type": "hydroxyl",
                  "removal": "DDQ or CAN (oxidative)"},
    "DMB_O":     {"smarts": "[OX2][CH2]c1cc(OC)c(OC)cc1",                 "type": "hydroxyl",
                  "removal": "DDQ or CAN (oxidative)"},
    "Nap_O":     {"smarts": "[OX2][CH2]c1ccc2ccccc2c1",                   "type": "hydroxyl",
                  "removal": "DDQ (oxidative) or H2/Pd-C"},
    "THP":       {"smarts": "[OX2][CX4H1]1[#6][#6][#6][#6][OX2]1",       "type": "hydroxyl",
                  "removal": "PPTS/MeOH (mild acid)"},
    "MOM":       {"smarts": "[OX2][CH2][OX2][CH3]",                       "type": "hydroxyl",
                  "removal": "HCl/MeOH or TMSBr"},
    "MEM":       {"smarts": "[OX2][CH2][OX2]CC[OX2]C",                     "type": "hydroxyl",
                  "removal": "ZnBr2 or TiCl4"},
    "SEM":       {"smarts": "[OX2][CH2][OX2][CH2][CH2][Si]",              "type": "hydroxyl",
                  "removal": "TBAF or MgBr2"},
    "Acetyl_O":  {"smarts": "[OX2][CX3](=O)[CH3]",                        "type": "hydroxyl",
                  "removal": "K2CO3/MeOH or NaOH"},
    "Benzoyl_O": {"smarts": "[OX2][CX3](=O)c1ccccc1",                     "type": "hydroxyl",
                  "removal": "NaOH/MeOH or LiOH"},
    "Pivaloyl_O":{"smarts": "[OX2][CX3](=O)C([CH3])([CH3])[CH3]",         "type": "hydroxyl",
                  "removal": "DIBAL-H or LiAlH4"},
    "Lev_O":     {"smarts": "[OX2][CX3](=O)[CH2][CH2][CX3](=O)[CH3]",    "type": "hydroxyl",
                  "removal": "N2H4/AcOH (hydrazinolysis)"},
    "Trityl_O":  {"smarts": "[OX2]C(c1ccccc1)(c1ccccc1)c1ccccc1",         "type": "hydroxyl",
                  "removal": "dilute acid (very acid-labile)"},
    "MMTr_O":    {"smarts": "[OX2]C(c1ccc(OC)cc1)(c1ccccc1)c1ccccc1",     "type": "hydroxyl",
                  "removal": "3% TCA/DCM or 1% TFA (very acid-labile)"},
    "Acetonide": {"smarts": "[OX2]C([CH3])([CH3])[OX2]",                  "type": "hydroxyl",
                  "removal": "dilute HCl or AcOH/H2O (diol deprotection)"},
    "Benzylidene":{"smarts": "[OX2][CX4H1](c1ccccc1)[OX2]",              "type": "hydroxyl",
                  "removal": "H2/Pd-C or p-TsOH/MeOH (diol deprotection)"},
    "Pentenyl_O":{"smarts": "[OX2][CH2][CH2][CH2][CX3]=[CX3]",           "type": "hydroxyl",
                  "removal": "NBS/H2O (electrophilic)"},
    "ClAc_O":    {"smarts": "[OX2][CX3](=O)[CH2]Cl",                      "type": "hydroxyl",
                  "removal": "N2H4/AcOH or thiourea"},

    "__comment_carboxyl": "=== 羧酸保护基 ===",

    "MethylEster":  {"smarts": "[CX3](=O)[OX2][CH3]",                     "type": "carboxyl",
                     "removal": "LiOH/THF-H2O or NaOH"},
    "EthylEster":   {"smarts": "[CX3](=O)[OX2][CH2][CH3]",                "type": "carboxyl",
                     "removal": "LiOH/THF-H2O or NaOH"},
    "tBuEster":     {"smarts": "[CX3](=O)[OX2]C([CH3])([CH3])[CH3]",      "type": "carboxyl",
                     "removal": "TFA/DCM (acid-labile)"},
    "BnEster":      {"smarts": "[CX3](=O)[OX2][CH2]c1ccccc1",             "type": "carboxyl",
                     "removal": "H2/Pd-C (hydrogenolysis)"},
    "AllylEster":   {"smarts": "[CX3](=O)[OX2][CH2][CX3]=[CX3]",          "type": "carboxyl",
                     "removal": "Pd(0)/morpholine"},
    "DmabEster":    {"smarts": "[CX3](=O)[OX2][CH2]c1cc(OC)c(OC)cc1",     "type": "carboxyl",
                     "removal": "2% N2H4/DMF (hydrazinolysis, SPPS)"},
    "TMSEEster":    {"smarts": "[CX3](=O)[OX2][CH2][CH2][Si]([CH3])([CH3])[CH3]", "type": "carboxyl",
                     "removal": "TBAF/THF (fluoride-labile)"},
    "PNBEster":     {"smarts": "[CX3](=O)[OX2][CH2]c1ccc([NX3+](=O)[O-])cc1", "type": "carboxyl",
                     "removal": "H2/Pd-C or Na2S (reductive)"},

    "__comment_thiol": "=== 硫醇保护基 ===",

    "Trityl_S":  {"smarts": "[SX2]C(c1ccccc1)(c1ccccc1)c1ccccc1",         "type": "thiol",
                  "removal": "TFA/TIS or AgNO3"},
    "Mtt_S":     {"smarts": "[SX2]C(c1ccccc1)(c1ccccc1)c1ccc(C)cc1",      "type": "thiol",
                  "removal": "1% TFA/DCM (very acid-labile)"},
    "Acm_S":     {"smarts": "[SX2][CH2][NX3][CX3](=O)[CH3]",              "type": "thiol",
                  "removal": "I2 or Hg(OAc)2"},
    "StBu_S":    {"smarts": "[SX2][SX2]C([CH3])([CH3])[CH3]",             "type": "thiol",
                  "removal": "Bu3P or DTT (reductive)"},
    "Mob_S":     {"smarts": "[SX2][CH2]c1ccc(OC)cc1",                     "type": "thiol",
                  "removal": "TFA/TIS or Hg(OAc)2"},
    "Bn_S":      {"smarts": "[SX2][CH2]c1ccccc1",                         "type": "thiol",
                  "removal": "Na/NH3 or HF"},
    "Tmob_S":    {"smarts": "[SX2][CH2]c1c(OC)cc(OC)cc1OC",              "type": "thiol",
                  "removal": "TFA/TIS (acid-labile)"},

    "__comment_carbonyl": "=== 醛酮保护基 ===",

    "Acetal":    {"smarts": "[OX2][CX4H1]([#6])[OX2]",                    "type": "carbonyl",
                  "removal": "dilute HCl or PPTS"},
    "Ketal":     {"smarts": "[OX2][CX4H0]([#6])([#6])[OX2]",              "type": "carbonyl",
                  "removal": "dilute HCl or PPTS"},
    "Dioxolane": {"smarts": "[OX2]1[CX4][CX4][OX2][CX4]1",               "type": "carbonyl",
                  "removal": "dilute HCl or acetone/PPTS"},
    "Dithiane":  {"smarts": "[CX4]1[CX4][SX2][CX4][SX2][CX4]1",          "type": "carbonyl",
                  "removal": "HgCl2/CaCO3 or NBS/AgNO3"},
    "Dithiolane":{"smarts": "[CX4]1[SX2][CX4][SX2][CX4]1",               "type": "carbonyl",
                  "removal": "HgCl2/CaCO3 or NBS/AgNO3"},
    "Oxime_PG":  {"smarts": "[CX3]=[NX2][OX2H]",                          "type": "carbonyl",
                  "removal": "TiCl3 or NaNO2/HCl"},
    "Semicarbazone_PG": {"smarts": "[CX3]=[NX2][NX3H][CX3](=O)[NX3]",    "type": "carbonyl",
                  "removal": "pyruvic acid exchange or HCl/formaldehyde"},
    "Hydrazone_PG": {"smarts": "[CX3]=[NX2][NX3H2]",                      "type": "carbonyl",
                  "removal": "CuCl2 or acetone exchange"},

    "__comment_phosphate": "=== 磷酸保护基 ===",

    "Cyanoethyl_P": {"smarts": "[PX4](=O)[OX2][CH2][CH2][CX2]#[NX1]",    "type": "phosphate",
                     "removal": "DBU or Et3N (beta-elimination)"},
    "Methyl_P":     {"smarts": "[PX4](=O)[OX2][CH3]",                     "type": "phosphate",
                     "removal": "PhSH/Et3N (thiophenolysis)"},
    "BnP":          {"smarts": "[PX4](=O)[OX2][CH2]c1ccccc1",             "type": "phosphate",
                     "removal": "H2/Pd-C (hydrogenolysis)"}
  },

  "orthogonal_map": {
    "Boc":        ["Fmoc", "Cbz", "Alloc", "TBS", "Bn_O", "Troc", "Teoc"],
    "Fmoc":       ["Boc", "Cbz", "TBS", "Bn_O", "tBuEster", "Alloc", "Troc"],
    "Cbz":        ["Boc", "Fmoc", "TBS", "tBuEster", "Alloc"],
    "Alloc":      ["Boc", "Fmoc", "TBS", "Bn_O", "Cbz"],
    "Troc":       ["Boc", "Fmoc", "TBS", "Cbz", "Alloc"],
    "Teoc":       ["Boc", "Fmoc", "Cbz", "Bn_O"],
    "Acetyl_N":   ["Boc", "TBS", "Bn_O"],
    "Benzoyl_N":  ["Boc", "TBS", "Fmoc"],
    "Tosyl_N":    ["Boc", "Fmoc", "TBS"],
    "Nosyl_N":    ["Boc", "Fmoc", "TBS", "Cbz"],
    "Phthaloyl_N":["Boc", "TBS", "Fmoc"],
    "PMB_N":      ["Boc", "Fmoc", "TBS"],
    "Dde_N":      ["Boc", "Fmoc", "TBS", "Alloc"],
    "Mtt_N":      ["Fmoc", "TBS", "Alloc"],
    "Bn_N":       ["Boc", "Fmoc", "TBS"],

    "TBS":        ["Boc", "Fmoc", "Cbz", "Bn_O", "Acetyl_O", "Alloc", "Troc"],
    "TBDPS":      ["Boc", "Fmoc", "Cbz", "Bn_O", "TBS"],
    "TIPS":       ["Boc", "Fmoc", "Cbz", "Bn_O"],
    "TMS":        ["Boc", "Fmoc", "Cbz"],
    "TES":        ["Boc", "Fmoc", "Cbz"],
    "Bn_O":       ["Boc", "Fmoc", "TBS", "tBuEster", "TBDPS"],
    "PMB_O":      ["Boc", "Fmoc", "TBS", "Bn_O"],
    "DMB_O":      ["Boc", "Fmoc", "TBS", "Bn_O"],
    "Nap_O":      ["Boc", "Fmoc", "TBS", "PMB_O"],
    "THP":        ["Boc", "Fmoc", "TBS"],
    "MOM":        ["Boc", "Fmoc", "TBS"],
    "MEM":        ["Boc", "Fmoc", "TBS"],
    "SEM":        ["Boc", "Fmoc", "Cbz"],
    "Acetyl_O":   ["Boc", "TBS", "Bn_O"],
    "Benzoyl_O":  ["Boc", "TBS", "Bn_O"],
    "Pivaloyl_O": ["Boc", "Fmoc", "TBS"],
    "Lev_O":      ["Boc", "Fmoc", "TBS", "Bn_O", "Acetyl_O"],
    "Trityl_O":   ["Boc", "Fmoc", "TBS"],
    "MMTr_O":     ["Fmoc", "TBS", "TBDPS"],
    "Acetonide":  ["Boc", "Fmoc", "TBS"],
    "Benzylidene":["Boc", "Fmoc", "TBS", "Acetyl_O"],
    "Pentenyl_O": ["Boc", "Fmoc", "TBS", "Bn_O"],
    "ClAc_O":     ["Boc", "TBS", "Bn_O", "Fmoc"],

    "tBuEster":   ["Fmoc", "Cbz", "TBS", "Bn_O"],
    "MethylEster":["Boc", "Fmoc", "TBS", "Bn_O"],
    "BnEster":    ["Boc", "Fmoc", "TBS"],
    "AllylEster": ["Boc", "Fmoc", "TBS"],
    "DmabEster":  ["Boc", "Fmoc", "TBS", "Alloc"],
    "TMSEEster":  ["Boc", "Fmoc", "Cbz"],
    "PNBEster":   ["Boc", "Fmoc", "TBS"],

    "Trityl_S":   ["Boc", "Fmoc", "TBS"],
    "Mtt_S":      ["Fmoc", "TBS", "Alloc"],
    "Acm_S":      ["Boc", "Fmoc", "TBS", "Trityl_S"],
    "StBu_S":     ["Boc", "Fmoc", "TBS", "Trityl_S"],
    "Mob_S":      ["Boc", "Fmoc", "TBS"],
    "Bn_S":       ["Boc", "Fmoc", "TBS"],
    "Tmob_S":     ["Boc", "Fmoc", "TBS"],

    "Acetal":     ["Boc", "Fmoc", "TBS", "Cbz", "Bn_O"],
    "Ketal":      ["Boc", "Fmoc", "TBS", "Cbz", "Bn_O"],
    "Dioxolane":  ["Boc", "Fmoc", "TBS", "Cbz", "Bn_O"],
    "Dithiane":   ["Boc", "Fmoc", "TBS"],
    "Dithiolane": ["Boc", "Fmoc", "TBS"],

    "Cyanoethyl_P": ["Boc", "TBS", "Bn_O"],
    "BnP":          ["Boc", "Fmoc", "TBS"]
  }
}
