{
  "A01_ketone_reduction_NaBH4": {
    "brief": "NaBH4 selectively reduces ketone C=O to secondary alcohol (CHOH). Does not reduce esters, amides, or carboxylic acids under standard conditions.",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "[Na]B([H])([H])[H]",
      "NaBH4/MeOH",
      "NaBH4/EtOH"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl"
    ],
    "name": "Ketone Reduction NaBH4 (Forward, oxidation reduction)",
    "note": "NaBH4 is a mild hydride reductant. Chemoselective for aldehydes > ketones >> esters. Compatible with amines, ethers, alkenes. Incompatible with acid chlorides (rapid reaction), strong acids (decomposition). Produces racemic secondary alcohol from prochiral ketone.",
    "prereq": "[C:1](=[O:2])([#6:3])[#6:4]",
    "rxn": "[C:1](=[O:2])([#6:3])[#6:4]>>[C:1]([OH:2])([#6:3])[#6:4]",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "A01_ketone_reduction_NaBH4_retro": {
    "brief": "Substrates: SMARTS([C:1]([OH:2])([#6:3])[#6:4]) -> Products: SMARTS([C:1](=[O:2])([#6:3])[#6:4]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "NaBH4/MeOH",
      "NaBH4/EtOH"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl"
    ],
    "name": "Ketone Reduction NaBH4 (Retro, oxidation reduction)",
    "note": "Retrosynthetic: secondary alcohol disconnects to ketone via hydride reduction. NaBH4/MeOH (mild, selective) is preferred. NaBH4 is chemoselective: aldehydes > ketones >> esters. Produces racemic secondary alcohol from prochiral ketone. Thioethers are generally compatible; free amines do not interfere.",
    "prereq": "[C:1]([OH:2])([#6:3])[#6:4]",
    "rxn": "[C:1]([OH:2])([#6:3])[#6:4]>>[C:1](=[O:2])([#6:3])[#6:4]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "A02_aldehyde_reduction": {
    "brief": "Aldehyde (RCHO) reduced to primary alcohol (RCH2OH) by NaBH4 or LiAlH4. Aldehydes are more reactive than ketones toward hydride reduction.",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "NaBH4/MeOH",
      "LiAlH4/THF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl"
    ],
    "name": "Aldehyde Reduction (Forward, oxidation reduction)",
    "note": "Aldehyde reduction is faster than ketone reduction due to less steric hindrance and greater electrophilicity. Product is primary alcohol, no new stereocenter created.",
    "prereq": "[CH1:1](=[O:2])",
    "rxn": "[CH1:1](=[O:2])>>[CH2:1][OH:2]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "A02_aldehyde_reduction_retro": {
    "brief": "Substrates: SMARTS([CH2:1][OH:2]) -> Products: SMARTS([CH1:1](=[O:2])).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "LiAlH4/THF",
      "NaBH4/MeOH"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl"
    ],
    "name": "Aldehyde Reduction (Retro, oxidation reduction)",
    "note": "Retrosynthetic: primary alcohol disconnects to aldehyde via hydride reduction. NaBH4/MeOH or LiAlH4/THF. Aldehyde reduction is faster than ketone reduction due to less steric hindrance. Product is primary alcohol, no new stereocenter.",
    "prereq": "[CH2:1][OH:2]",
    "rxn": "[CH2:1][OH:2]>>[CH1:1](=[O:2])",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "A03_pri_alcohol_to_aldehyde": {
    "brief": "Selective oxidation of primary alcohol to aldehyde without over-oxidation to carboxylic acid. Requires mild/selective oxidants (PCC, DMP, Swern).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "PCC/DCM",
      "DMP/DCM",
      "TPAP/NMO"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Primary Alcohol to Aldehyde (Forward, oxidation reduction)",
    "note": "Must use selective oxidant to stop at aldehyde stage. PCC (pyridinium chlorochromate), DMP (Dess-Martin periodinane), or TPAP/NMO are standard choices. Jones reagent or KMnO4 would over-oxidize to carboxylic acid. DMP may N-oxidize free amines; thioethers may be oxidized to sulfoxides by DMP.",
    "prereq": "[C:1][CH2:2][OH]",
    "rxn": "[C:1][CH2:2][OH]>>[C:1][CH1:2]=[O]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "A03_pri_alcohol_to_aldehyde_retro": {
    "brief": "Substrates: SMARTS([C:1][CH1:2]=[O]) -> Products: SMARTS([C:1][CH2:2][OH]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "PCC/DCM",
      "DMP/DCM",
      "TPAP/NMO",
      "Swern(DMSO/(COCl)2/Et3N)"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Pri Alcohol To Aldehyde (Retro, oxidation reduction)",
    "note": "Retrosynthetic: aldehyde disconnects to primary alcohol via selective oxidation. Use PCC, DMP (Dess-Martin), Swern, or TPAP/NMO to stop at aldehyde without over-oxidation to carboxylic acid. Jones/KMnO4 would over-oxidize.",
    "prereq": "[C:1][CH1:2]=[O]",
    "rxn": "[C:1][CH1:2]=[O]>>[C:1][CH2:2][OH]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "A04_pri_alcohol_to_acid": {
    "brief": "Full oxidation of primary alcohol to carboxylic acid. Uses strong oxidants (Jones, KMnO4, or Pinnick two-step via aldehyde).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "Jones_reagent(CrO3/H2SO4)",
      "KMnO4/H2O",
      "PCC_then_Pinnick"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[CX4]([OX2][#6])([OX2][#6])"
    ],
    "name": "Primary Alcohol to Carboxylic Acid (Forward, oxidation reduction)",
    "note": "Jones reagent (CrO3/H2SO4/acetone) or KMnO4 oxidize primary alcohols directly to carboxylic acids. Acetals are acid-labile and incompatible. Thioethers may be oxidized to sulfoxides as side reaction.",
    "prereq": "[C:1][CH2:2][OH]",
    "rxn": "[C:1][CH2:2][OH]>>[C:1][C:2](=O)[OH]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "A04_pri_alcohol_to_acid_retro": {
    "brief": "Substrates: SMARTS([C:1][C:2](=O)[OH]) -> Products: SMARTS([C:1][CH2:2][OH]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "Jones_reagent(CrO3/H2SO4)",
      "KMnO4/H2O",
      "PCC_then_Pinnick(NaClO2)"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[CX4]([OX2][#6])([OX2][#6])"
    ],
    "name": "Pri Alcohol To Acid (Retro, oxidation reduction)",
    "note": "Retrosynthetic: carboxylic acid disconnects to primary alcohol via full oxidation. Jones reagent (CrO3/H2SO4) or KMnO4 oxidize directly to COOH. Alternatively, selective oxidation to aldehyde (PCC/DMP) followed by Pinnick (NaClO2). Acetals are acid-labile under Jones conditions. Thioethers may be co-oxidized.",
    "prereq": "[C:1][C:2](=O)[OH]",
    "rxn": "[C:1][C:2](=O)[OH]>>[C:1][CH2:2][OH]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "A05_sec_alcohol_to_ketone": {
    "brief": "Oxidation of secondary alcohol to ketone. No over-oxidation risk (ketones resist further oxidation under mild conditions).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "PCC/DCM",
      "DMP/DCM",
      "Jones_reagent",
      "TPAP/NMO"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[CX4]([OX2][#6])([OX2][#6])",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Secondary Alcohol to Ketone (Forward, oxidation reduction)",
    "note": "Any common oxidant works (PCC, PDC, DMP, Jones, Swern, TPAP/NMO). Ketone product is stable to further oxidation. Thioethers may be co-oxidized by DMP/Jones. Acetals are acid-labile under Jones conditions. DMP may N-oxidize free amines.",
    "prereq": "[C:1][CH1:2]([OH])([#6:3])",
    "rxn": "[C:1][CH1:2]([OH])([#6:3])>>[C:1][C:2](=O)([#6:3])",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "A05_sec_alcohol_to_ketone_retro": {
    "brief": "Substrates: SMARTS([C:1][C:2](=O)([#6:3])) -> Products: SMARTS([C:1][CH1:2]([OH])([#6:3])).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "PCC/DCM",
      "DMP/DCM",
      "Jones_reagent",
      "TPAP/NMO"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[CX4]([OX2][#6])([OX2][#6])",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Sec Alcohol To Ketone (Retro, oxidation reduction)",
    "note": "Retrosynthetic: ketone disconnects to secondary alcohol via oxidation. Any common oxidant works: PCC, PDC, DMP, Jones, Swern, TPAP/NMO. Ketone product is stable to further oxidation. Thioethers may be co-oxidized by DMP/Jones. Acetals are acid-labile under Jones conditions. DMP may N-oxidize free amines.",
    "prereq": "[C:1][C:2](=O)([#6:3])",
    "rxn": "[C:1][C:2](=O)([#6:3])>>[C:1][CH1:2]([OH])([#6:3])",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "A06_baeyer_villiger": {
    "brief": "Ketone oxidized to ester/lactone by peracid (mCPBA, CF3CO3H). Oxygen inserted between carbonyl and more substituted carbon (migratory aptitude: tert > sec > aryl > pri > methyl).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "mCPBA/DCM",
      "CF3CO3H",
      "MMPP"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]",
      "[C]=[C]"
    ],
    "name": "Baeyer-Villiger Oxidation (Forward, oxidation reduction)",
    "note": "Migratory aptitude determines regioselectivity: tertiary alkyl > secondary > aryl > primary > methyl. Migrating group retains its configuration (retention). Peracids also epoxidize alkenes (competing reaction). Thioethers oxidized to sulfoxides. Free amines may be N-oxidized.",
    "prereq": "[#6:1][C:2](=[O:3])[#6:4]",
    "rxn": "[#6:1][C:2](=[O:3])[#6:4]>>[#6:1][O][C:2](=[O:3])[#6:4]",
    "stereo_policy": "retention",
    "type": "forward"
  },
  "A06_baeyer_villiger_retro": {
    "brief": "Substrates: SMARTS([#6;!$([#6]=O):1][O][CX3:2](=[O:3])[#6:4]) (ester where O-alkyl side is not another carbonyl) -> Products: SMARTS([#6:1][C:2](=[O:3])[#6:4]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "mCPBA/DCM",
      "CF3CO3H"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]",
      "[C]=[C]"
    ],
    "name": "Baeyer Villiger (Retro, oxidation reduction)",
    "note": "Retrosynthetic: ester/lactone disconnects to ketone via Baeyer-Villiger oxidation. Peracid (mCPBA, CF3CO3H, MMPP) inserts oxygen between carbonyl and more substituted carbon. Migratory aptitude: tert > sec > aryl > pri > methyl. Migrating group retains configuration. Competing epoxidation of alkenes possible. Prereq tightened: requires ester linkage where the carbonyl carbon is CX3 (sp2) and the alkyl-O side is not itself a carbonyl (excludes anhydrides). Excludes amides (N-C=O) which are not BV products.",
    "prereq": "[#6;!$([#6]=O):1][OX2][CX3:2](=[O:3])[#6;!$([#7]):4]",
    "rxn": "[#6:1][O][CX3:2](=[O:3])[#6:4]>>[#6:1][C:2](=[O:3])[#6:4]",
    "stereo_policy": "retention",
    "type": "retro"
  },
  "A07_oppenauer": {
    "brief": "Secondary alcohol oxidized to ketone via aluminum alkoxide catalyst and sacrificial ketone (e.g., acetone, cyclohexanone). Reverse of MPV reduction.",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "Al(OiPr)3/acetone",
      "Al(OtBu)3/cyclohexanone"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Oppenauer Oxidation (Forward, oxidation reduction)",
    "note": "Oppenauer oxidation uses Al(OiPr)3 catalyst with excess ketone as hydrogen acceptor. Mild, selective for secondary alcohols. Does not affect alkenes, ethers, or amines. Equilibrium-driven by excess sacrificial ketone.",
    "prereq": "[CH1:1]([OH:2])([#6:3])[#6:4]",
    "rxn": "[CH1:1]([OH:2])([#6:3])[#6:4]>>[C:1](=[O:2])([#6:3])[#6:4]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "A07_oppenauer_retro": {
    "brief": "Substrates: SMARTS([C:1](=[O:2])([#6:3])[#6:4]) -> Products: SMARTS([CH1:1]([OH:2])([#6:3])[#6:4]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "Al(OiPr)3/acetone",
      "Al(OtBu)3/cyclohexanone"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Oppenauer (Retro, oxidation reduction)",
    "note": "Retrosynthetic: ketone disconnects to secondary alcohol via Oppenauer oxidation. Al(OiPr)3 catalyst with excess sacrificial ketone (acetone, cyclohexanone) as hydrogen acceptor. Mild, selective for secondary alcohols. Does not affect alkenes, ethers, or amines. Reverse of Meerwein-Ponndorf-Verley reduction.",
    "prereq": "[C:1](=[O:2])([#6:3])[#6:4]",
    "rxn": "[C:1](=[O:2])([#6:3])[#6:4]>>[CH1:1]([OH:2])([#6:3])[#6:4]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "A08_wacker": {
    "brief": "Terminal alkene oxidized to methyl ketone (Markovnikov selectivity) using PdCl2/CuCl2/O2 catalytic system in aqueous DMF.",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "PdCl2/CuCl2/O2/DMF-H2O"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Wacker Oxidation (Forward, oxidation reduction)",
    "note": "Wacker oxidation follows Markovnikov selectivity: terminal alkenes give methyl ketones. PdCl2 is the catalyst, CuCl2 is the co-oxidant, O2 is the terminal oxidant. Internal alkenes react poorly. Thioethers poison the Pd catalyst. Acyl chlorides hydrolyzed under aqueous conditions. Free amines may coordinate Pd(II) and inhibit catalysis.",
    "prereq": "[CH2:1]=[CH:2][#6:3]",
    "rxn": "[CH2:1]=[CH:2][#6:3]>>[CH3:1][C:2](=O)[#6:3]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "A08_wacker_retro": {
    "brief": "Substrates: SMARTS([CH3:1][C:2](=O)[#6:3]) -> Products: SMARTS([CH2:1]=[CH:2][#6:3]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "PdCl2/CuCl2/O2/DMF-H2O"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Wacker (Retro, oxidation reduction)",
    "note": "Retrosynthetic: methyl ketone disconnects to terminal alkene via Wacker oxidation. PdCl2 catalyst, CuCl2 co-oxidant, O2 terminal oxidant in aqueous DMF. Markovnikov selectivity: terminal alkenes give methyl ketones. Internal alkenes react poorly. Thioethers poison Pd catalyst. Acyl chlorides hydrolyzed under aqueous conditions. Free amines may coordinate Pd(II) and inhibit catalysis.",
    "prereq": "[CH3:1][C:2](=O)[#6:3]",
    "rxn": "[CH3:1][C:2](=O)[#6:3]>>[CH2:1]=[CH:2][#6:3]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "A09_swern": {
    "brief": "Alcohol oxidized to aldehyde/ketone using DMSO/(COCl)2/Et3N at -78°C. Mild, no over-oxidation, no heavy metals.",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "DMSO/(COCl)2/Et3N/-78C"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl"
    ],
    "name": "Swern Oxidation (Forward, oxidation reduction)",
    "note": "Swern oxidation: DMSO activated by oxalyl chloride at -78°C, then alcohol added, then Et3N base. Very mild, compatible with most functional groups including thioethers, amines, and epoxides. Must maintain -78°C to avoid Pummerer side products. Primary alcohols give aldehydes without over-oxidation. Acyl chlorides react with Et3N.",
    "prereq": "[C:1]([H])[OH:2]",
    "rxn": "[C:1]([H])[OH:2]>>[C:1]=[O:2]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "A09_swern_retro": {
    "brief": "Substrates: SMARTS([CX3:1](=[O:2])([#6])[#6,H]) (aldehyde/ketone only) -> Products: SMARTS([C:1]([H])[OH:2]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "DMSO/(COCl)2/Et3N/-78C"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl"
    ],
    "name": "Swern (Retro, oxidation reduction)",
    "note": "Retrosynthetic: aldehyde/ketone disconnects to alcohol via Swern oxidation. DMSO activated by oxalyl chloride at -78C, then alcohol added, then Et3N. Very mild, compatible with most functional groups including thioethers, amines, and epoxides. Must maintain -78C to avoid Pummerer side products. Primary alcohols give aldehydes without over-oxidation. Acyl chlorides react with Et3N. Prereq restricted to aldehydes/ketones: carbonyl carbon bonded only to C and H, excluding esters (C-O-C=O), amides (N-C=O), and carboxylic acids (HO-C=O).",
    "prereq": "[CX3;$([CX3](=[O])([#6])[#6]),$([CX3;H1](=[O])[#6]):1](=[O:2])",
    "rxn": "[CX3:1](=[O:2])([#6,H])>>[C:1]([H])[OH:2]",
    "type": "retro"
  },
  "A10_wolff_kishner": {
    "brief": "Carbonyl (C=O) fully reduced to methylene (CH2) via hydrazone intermediate under strongly basic conditions (KOH/ethylene glycol, 200°C).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "NH2NH2/KOH/ethylene_glycol/200C"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])[OX2][#6]",
      "[OX2r3]"
    ],
    "name": "Wolff-Kishner Reduction (Forward, oxidation reduction)",
    "note": "Wolff-Kishner uses NH2NH2/KOH at high temperature (~200C in ethylene glycol). Strongly basic conditions: esters saponified, epoxides opened by base. Complementary to Clemmensen (acidic conditions). Suitable for base-stable substrates. Note: Boc groups are acid-labile, not base-labile, and are compatible with Wolff-Kishner conditions.",
    "prereq": "[#6:1][C:2](=[O])[#6:3]",
    "rxn": "[#6:1][C:2](=[O])[#6:3]>>[#6:1][CH2:2][#6:3]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "A10_wolff_kishner_retro": {
    "brief": "Substrates: SMARTS([#6:1][CH2:2]([!O;!N])[#6:3]) (non-benzylic CH2 flanked by C, not adjacent to O/N) -> Products: SMARTS([#6:1][C:2](=[O])[#6:3]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "NH2NH2/KOH/ethylene_glycol/200C"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])[OX2][#6]",
      "[OX2r3]"
    ],
    "name": "Wolff Kishner (Retro, oxidation reduction)",
    "note": "Retrosynthetic: methylene (CH2) disconnects to carbonyl (C=O) via Wolff-Kishner reduction. NH2NH2/KOH at high temperature (~200C in ethylene glycol). Strongly basic conditions: esters saponified, epoxides opened by base. Complementary to Clemmensen (acidic conditions). Suitable for base-stable substrates. Boc groups are acid-labile and compatible with these basic conditions. Prereq excludes benzylic CH2 (covered by A11 Clemmensen) and CH2 adjacent to O or N (those are ethers/amines, not reduction products).",
    "prereq": "[#6;!$([#6]~[#8,#7]):1][CH2;!$([CH2]~[#8,#7]);!$([CH2](c)c):2][#6;!$([#6]~[#8,#7]):3]",
    "rxn": "[#6:1][CH2:2][#6:3]>>[#6:1][C:2](=[O])[#6:3]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "A11_clemmensen": {
    "brief": "Carbonyl (C=O) fully reduced to methylene (CH2) using Zn(Hg)/conc. HCl under strongly acidic conditions. Complementary to Wolff-Kishner.",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "Zn(Hg)/conc_HCl"
    ],
    "incompatible_groups": [
      "[CX4]([OX2][#6])([OX2][#6])",
      "[OX2r3]",
      "C(=O)OC(C)(C)C",
      "[#6][OX2][Si]"
    ],
    "name": "Clemmensen Reduction (Forward, oxidation reduction)",
    "note": "Clemmensen uses Zn(Hg) amalgam in concentrated HCl. Strongly acidic: acetals hydrolyzed, Boc groups cleaved, epoxides opened. Suitable for acid-stable substrates. Complementary to Wolff-Kishner (basic conditions).",
    "prereq": "[#6:1][C:2](=[O])[#6:3]",
    "rxn": "[#6:1][C:2](=[O])[#6:3]>>[#6:1][CH2:2][#6:3]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "A12_luche_reduction": {
    "brief": "1,2-selective reduction of enone: NaBH4/CeCl3 reduces C=O while preserving C=C. CeCl3 directs 1,2-selectivity over 1,4-addition.",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "NaBH4/CeCl3/MeOH"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Luche Reduction (Forward, oxidation reduction)",
    "note": "Luche reduction: CeCl3·7H2O activates NaBH4 for 1,2-selectivity on α,β-unsaturated carbonyls. Without CeCl3, NaBH4 gives mixture of 1,2- and 1,4-addition products. Produces racemic allylic alcohol from prochiral enone.",
    "prereq": "[C:1]=[C:2][C:3](=[O:4])",
    "rxn": "[C:1]=[C:2][C:3](=[O:4])>>[C:1]=[C:2][C:3]([OH:4])",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "A12_luche_reduction_retro": {
    "brief": "Substrates: SMARTS([C:1]=[C:2][C:3]([OH:4])) -> Products: SMARTS([C:1]=[C:2][C:3](=[O:4])).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "NaBH4/CeCl3/MeOH"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Luche Reduction (Retro, oxidation reduction)",
    "note": "Retrosynthetic: allylic alcohol disconnects to enone via Luche reduction. NaBH4/CeCl3 (Luche conditions) for 1,2-selective reduction of alpha,beta-unsaturated carbonyl. CeCl3 directs 1,2-selectivity over 1,4-addition. Without CeCl3, NaBH4 gives mixture of 1,2- and 1,4-products.",
    "prereq": "[C:1]=[C:2][C:3]([OH:4])",
    "rxn": "[C:1]=[C:2][C:3]([OH:4])>>[C:1]=[C:2][C:3](=[O:4])",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "A13_meerwein_ponndorf_verley": {
    "brief": "Ketone reduced to secondary alcohol via aluminum alkoxide catalyst and sacrificial alcohol (iPrOH). Reverse of Oppenauer oxidation.",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "Al(OiPr)3/iPrOH"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Meerwein-Ponndorf-Verley Reduction (Forward, oxidation reduction)",
    "note": "MPV reduction: Al(OiPr)3 catalyzes hydride transfer from iPrOH to ketone via six-membered transition state. Very mild, chemoselective for ketones/aldehydes. Does not reduce esters, amides, alkenes. Produces racemic alcohol.",
    "prereq": "[C:1](=[O:2])([#6:3])[#6:4]",
    "rxn": "[C:1](=[O:2])([#6:3])[#6:4]>>[C:1]([OH:2])([#6:3])[#6:4]",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "A14_sharpless_dihydroxylation": {
    "brief": "Alkene syn-dihydroxylated to vicinal diol using OsO4 (cat.)/K2[Fe(CN)6]/chiral ligand (AD-mix-α or AD-mix-β). Enantioselective.",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "AD-mix-alpha(OsO4/K3Fe(CN)6/(DHQD)2PHAL)",
      "AD-mix-beta(OsO4/K3Fe(CN)6/(DHQ)2PHAL)"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Sharpless Asymmetric Dihydroxylation (Forward, oxidation reduction)",
    "note": "Sharpless AD: OsO4 catalytic, K3[Fe(CN)6] as stoichiometric reoxidant. Chiral cinchona alkaloid ligands control enantioselectivity. syn-Addition gives cis-diol. AD-mix-α and AD-mix-β give opposite enantiomers. Thioethers may poison OsO4 catalyst.",
    "prereq": "[C;!a:1]=[C;!a:2]",
    "rxn": "[C;!a:1]=[C;!a:2]>>[C:1]([OH])[C:2]([OH])",
    "stereo_policy": "enantioselective",
    "type": "forward"
  },
  "A14_sharpless_dihydroxylation_retro": {
    "brief": "Substrates: SMARTS([C:1]([OH])[C:2]([OH])) -> Products: SMARTS([C:1]=[C:2]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "OsO4(cat)/NMO",
      "AD-mix"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Sharpless Dihydroxylation (Retro, oxidation reduction)",
    "note": "Retrosynthetic: vicinal diol disconnects to alkene via Sharpless asymmetric dihydroxylation. OsO4 (catalytic) with K3[Fe(CN)6] as stoichiometric reoxidant. AD-mix-alpha and AD-mix-beta (chiral cinchona alkaloid ligands) give opposite enantiomers. syn-Addition gives cis-diol. Thioethers may poison OsO4 catalyst.",
    "prereq": "[C;!a:1]([OH])[C;!a:2]([OH])",
    "rxn": "[C;!a:1]([OH])[C;!a:2]([OH])>>[C:1]=[C:2]",
    "stereo_policy": "enantioselective",
    "type": "retro"
  },
  "A15_sharpless_epoxidation": {
    "brief": "Allylic alcohol epoxidized enantioselectively using Ti(OiPr)4/TBHP/diethyl tartrate. Strictly requires allylic alcohol substrate for chelation.",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "Ti(OiPr)4/TBHP/(+)-DET",
      "Ti(OiPr)4/TBHP/(-)-DET"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Sharpless Asymmetric Epoxidation (Forward, oxidation reduction)",
    "note": "Sharpless AE requires allylic alcohol for Ti coordination. (+)-DET and (-)-DET give opposite enantiomers. Non-allylic alkenes use mCPBA (racemic) instead.",
    "prereq": "[C:1]=[C:2][CX4][OH]",
    "rxn": "[C:1]=[C:2][CX4][OH]>>[C:1]1[O][C:2]1[CX4][OH]",
    "stereo_policy": "enantioselective",
    "type": "forward"
  },
  "A15_sharpless_epoxidation_retro": {
    "brief": "Substrates: SMARTS([C:1]1[O][C:2]1) -> Products: SMARTS([C:1]=[C:2]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "Ti(OiPr)4/TBHP/(+)-DET",
      "Ti(OiPr)4/TBHP/(-)-DET"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Sharpless Epoxidation (Retro, oxidation reduction)",
    "note": "Retrosynthetic: epoxide adjacent to allylic alcohol disconnects to allylic alcohol alkene via Sharpless asymmetric epoxidation. Requires allylic alcohol for Ti coordination. Ti(OiPr)4/TBHP with chiral diethyl tartrate. (+)-DET and (-)-DET give opposite enantiomers. Non-allylic alkenes use mCPBA (racemic) instead.",
    "prereq": "[C:1]1[O][C:2]1[CX4][OH]",
    "rxn": "[C:1]1[O][C:2]1[CX4][OH]>>[C:1]=[C:2][CX4][OH]",
    "stereo_policy": "enantioselective",
    "type": "retro"
  },
  "A16_ozonolysis": {
    "brief": "Alkene cleaved by O3 then reductive workup (Me2S or PPh3) to give two carbonyl fragments. Oxidative workup (H2O2) gives carboxylic acids.",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "O3_then_Me2S(reductive)",
      "O3_then_PPh3(reductive)",
      "O3_then_H2O2(oxidative)"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Ozonolysis (Forward, oxidation reduction)",
    "note": "Ozonolysis cleaves C=C completely. Reductive workup (DMS, PPh3, Zn) gives aldehydes/ketones. Oxidative workup (H2O2) gives carboxylic acids from aldehyde fragments. Thioethers and amines may be oxidized by O3. Note: this template covers internal alkenes (both sides substituted). Terminal alkenes (R-CH=CH2) also undergo ozonolysis to give RCHO + HCHO but require a separate template or application logic.",
    "prereq": "[#6:1][C:2]=[C:3][#6:4]",
    "rxn": "[#6:1][C:2]=[C:3][#6:4]>>[#6:1][C:2]=[O].[#6:4][C:3]=[O]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "A16_ozonolysis_retro": {
    "brief": "Substrates: SMARTS([#6:1][C:2]=[O]) + SMARTS([#6:4][C:3]=[O]) -> Products: SMARTS([#6:1][C:2]=[C:3][#6:4]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "O3_then_Me2S"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Ozonolysis (Retro, oxidation reduction)",
    "note": "Retrosynthetic: two carbonyl fragments reconnect to alkene via ozonolysis. O3 cleaves C=C completely. Reductive workup (DMS, PPh3, Zn) gives aldehydes/ketones. Oxidative workup (H2O2) gives carboxylic acids from aldehyde fragments. Thioethers and amines may be oxidized by O3.",
    "prereq": "[#6:1][C:2]=[O].[#6:4][C:3]=[O]",
    "rxn": "[#6:1][C:2]=[O].[#6:4][C:3]=[O]>>[#6:1][C:2]=[C:3][#6:4]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "A17_lemieux_johnson": {
    "brief": "Substrates: SMARTS([#6:1][C:2]=[C:3][#6:4]) -> Products: SMARTS([#6:1][C:2](=O)) + SMARTS([#6:4][C:3](=O)).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "OsO4(cat)/NaIO4/H2O"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Lemieux Johnson (Forward, oxidation reduction)",
    "note": "Lemieux-Johnson oxidation: OsO4 (catalytic) with NaIO4 cleaves alkene to two carbonyls in one pot. First dihydroxylation by OsO4, then periodate cleavage of the diol. Thioethers may poison OsO4. Free amines may interfere. Note: this template covers internal alkenes (both sides substituted). Terminal alkenes also undergo this reaction but require a separate template.",
    "prereq": "[#6:1][C:2]=[C:3][#6:4]",
    "rxn": "[#6:1][C:2]=[C:3][#6:4]>>[#6:1][C:2](=O).[#6:4][C:3](=O)",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "A17_lemieux_johnson_retro": {
    "brief": "Substrates: SMARTS([#6:1][C:2](=O)) + SMARTS([#6:4][C:3](=O)) -> Products: SMARTS([#6:1][C:2]=[C:3][#6:4]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "OsO4(cat)/NaIO4/H2O"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Lemieux Johnson (Retro, oxidation reduction)",
    "note": "Retrosynthetic: two carbonyl fragments reconnect to alkene via Lemieux-Johnson oxidation. OsO4 (catalytic) with NaIO4 as stoichiometric oxidant cleaves alkene to two carbonyls in one pot (dihydroxylation then periodate cleavage). Thioethers may poison OsO4. Free amines may interfere.",
    "prereq": "[#6:1][C:2](=O).[#6:4][C:3](=O)",
    "rxn": "[#6:1][C:2](=O).[#6:4][C:3](=O)>>[#6:1][C:2]=[C:3][#6:4]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "A18_pinnick_oxidation": {
    "brief": "Aldehyde selectively oxidized to carboxylic acid using NaClO2/NaH2PO4/2-methyl-2-butene in tBuOH/H2O. Very mild and chemoselective.",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "NaClO2/NaH2PO4/2-methyl-2-butene/tBuOH-H2O"
    ],
    "incompatible_groups": [
      "[SX2][#6]"
    ],
    "name": "Pinnick Oxidation (Forward, oxidation reduction)",
    "note": "Pinnick (Lindgren) oxidation: NaClO2 is the oxidant, 2-methyl-2-butene scavenges HOCl byproduct. Very selective for aldehydes; does not oxidize alcohols, alkenes, or other functional groups. Thioethers may be oxidized.",
    "prereq": "[CH1:1](=[O:2])",
    "rxn": "[CH1:1](=[O:2])>>[C:1](=[O:2])[OH]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "A18_pinnick_oxidation_retro": {
    "brief": "Substrates: SMARTS([C:1](=[O:2])[OH]) -> Products: SMARTS([CH1:1](=[O:2])).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "NaClO2/NaH2PO4/2-methyl-2-butene/tBuOH-H2O"
    ],
    "incompatible_groups": [
      "[SX2][#6]"
    ],
    "name": "Pinnick Oxidation (Retro, oxidation reduction)",
    "note": "Retrosynthetic: carboxylic acid disconnects to aldehyde via Pinnick oxidation. NaClO2 (sodium chlorite) as mild oxidant, NaH2PO4 buffer, 2-methyl-2-butene as HOCl scavenger. Selective for aldehyde->acid without affecting other functional groups. Mild conditions compatible with most substrates. Free amines are protonated under the acidic buffer conditions (pH 3-4) and are compatible.",
    "prereq": "[C:1](=[O:2])[OH]",
    "rxn": "[C:1](=[O:2])[OH]>>[CH1:1](=[O:2])",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "A19_rubottom_oxidation": {
    "brief": "Silyl enol ether oxidized by mCPBA via Rubottom oxidation to give alpha-hydroxy ketone after acid workup.",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "mCPBA/DCM_then_acid_workup"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Rubottom Oxidation (Forward, oxidation reduction)",
    "note": "Rubottom oxidation: silyl enol ether epoxidized by mCPBA, then Brook rearrangement gives alpha-silyloxy ketone. Acid workup removes silyl to give alpha-hydroxy ketone. This template represents the overall transformation after workup. Thioethers and amines may be oxidized by mCPBA.",
    "prereq": "[C:1]=[C:2][O][Si]",
    "rxn": "[C:1]=[C:2][O][Si]>>[C:1](=O)[C:2]([OH])",
    "stereo_policy": "retention",
    "type": "forward"
  },
  "A19_rubottom_oxidation_retro": {
    "brief": "Retrosynthetic: alpha-hydroxy ketone disconnects to silyl enol ether via Rubottom oxidation.",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "mCPBA/DCM_then_TBAF",
      "DMDO_then_acid_workup"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Rubottom Oxidation (Retro, oxidation reduction)",
    "note": "Retrosynthetic: alpha-hydroxy ketone disconnects to silyl enol ether via Rubottom oxidation. Silyl enol ether epoxidized by mCPBA or DMDO, followed by Brook rearrangement and acid workup to give alpha-hydroxy carbonyl. Requires prior formation of silyl enol ether from ketone.",
    "prereq": "[C:1](=O)[C:2]([OH])",
    "rxn": "[C:1](=O)[C:2]([OH])>>[C:1]=[C:2][O][Si]",
    "stereo_policy": "retention",
    "type": "retro"
  },
  "A20_tamao_fleming": {
    "brief": "C-Si bond oxidized to C-OH using H2O2/KF or mCPBA/BF3. Proceeds with retention of configuration at carbon.",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "H2O2/KF/KHCO3",
      "mCPBA/BF3·Et2O",
      "AcOOH/BF3·Et2O"
    ],
    "incompatible_groups": [
      "[C]=[C]",
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Tamao-Fleming Oxidation (Forward, oxidation reduction)",
    "note": "Tamao-Fleming: oxidative cleavage of C-Si bond with retention of configuration. Requires at least one electronegative substituent on Si (F, OR, OCOR) for activation. Peracids (mCPBA/BF3 conditions) may epoxidize alkenes, oxidize thioethers, and N-oxidize amines as side reactions. H2O2/KF conditions are milder but still incompatible with easily oxidized groups.",
    "prereq": "[C:1][Si;$([Si]~[F,O])]",
    "rxn": "[C:1][Si;$([Si]~[F,O])]>>[C:1][OH]",
    "stereo_policy": "retention",
    "type": "forward"
  },
  "A20_tamao_fleming_retro": {
    "brief": "Substrates: SMARTS([CX4;H1,H2:1][OH]) (sp3 C-OH with at least 1 H) -> Products: SMARTS([C:1][Si]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "H2O2/KF/KHCO3",
      "H2O2/TBAF",
      "mCPBA/BF3.OEt2"
    ],
    "incompatible_groups": [
      "[C]=[C]",
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Tamao Fleming (Retro, oxidation reduction)",
    "note": "Retrosynthetic: C-OH disconnects to C-Si via Tamao-Fleming oxidation. Organosilane oxidized to alcohol by H2O2/KF/KHCO3 or mCPBA/BF3. Retention of configuration at carbon. Requires C-Si bond in substrate. Prereq restricted to sp3 C-OH with at least one H (the C-Si bond was on an sp3 carbon; phenols and tertiary alcohols are not Tamao-Fleming products).",
    "prereq": "[CX4;H1,H2:1][OH]",
    "rxn": "[C:1][OH]>>[C:1][Si]",
    "stereo_policy": "retention",
    "type": "retro"
  },
  "A21_ester_reduction_LiAlH4": {
    "brief": "Substrates: SMARTS([C:1](=[O:2])[O:3][#6:4]) -> Products: SMARTS([CH2:1][OH:2]) + SMARTS([#6:4][OH:3]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "LiAlH4/THF"
    ],
    "incompatible_groups": [
      "[NX3+](=O)[O-]",
      "[CX2]#N",
      "[OX2r3]"
    ],
    "name": "Ester Reduction LiAlH4 (Forward, oxidation reduction)",
    "note": "LiAlH4 reduces esters to primary alcohols (2 equiv hydride consumed). Much stronger than NaBH4 which does NOT reduce esters. DIBAL-H at -78C can stop at aldehyde stage. Incompatible with protic solvents (violent reaction with water/alcohols).",
    "prereq": "[C:1](=[O:2])[O:3][#6:4]",
    "rxn": "[C:1](=[O:2])[O:3][#6:4]>>[CH2:1][OH:2].[#6:4][OH:3]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "A21_ester_reduction_LiAlH4_retro": {
    "brief": "Substrates: SMARTS([CH2:1][OH:2]) + SMARTS([#6:4][OH:3]) -> Products: SMARTS([C:1](=[O:2])[O:3][#6:4]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "LiAlH4/THF",
      "DIBAL-H/toluene/-78C(for_aldehyde)"
    ],
    "incompatible_groups": [
      "[NX3+](=O)[O-]",
      "[CX2]#N",
      "[OX2r3]"
    ],
    "name": "Ester Reduction LiAlH4 (Retro, oxidation reduction)",
    "note": "Retrosynthetic: primary alcohol + alcohol disconnects to ester via LiAlH4 reduction. LiAlH4 reduces esters to primary alcohols (2 equiv hydride). DIBAL-H at -78C can stop at aldehyde stage. NaBH4 does NOT reduce esters under standard conditions.",
    "prereq": "[CH2:1][OH:2].[#6:4][OH:3]",
    "rxn": "[CH2:1][OH:2].[#6:4][OH:3]>>[C:1](=[O:2])[O:3][#6:4]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "A22_carboxylic_acid_reduction_BH3": {
    "brief": "Substrates: SMARTS([C:1](=[O:2])[OH:3]) -> Products: SMARTS([CH2:1][OH:2]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "BH3_THF",
      "BH3_SMe2"
    ],
    "incompatible_groups": [
      "[NX3+](=O)[O-]",
      "[CX2]#N",
      "[OX2r3]",
      "[C]=[C]"
    ],
    "name": "Carboxylic Acid Reduction BH3 (Forward, oxidation reduction)",
    "note": "BH3 (as BH3·THF or BH3·SMe2) reduces carboxylic acids to primary alcohols via fast Lewis acid-base complexation to the acidic OH followed by hydride transfer. BH3 also hydroborates alkenes (classic competing reaction), reduces nitriles and some amides under forcing conditions, and opens epoxides. Treat the incompatible_groups list as a selectivity/side-reaction flag.",
    "prereq": "[C:1](=[O:2])[OH]",
    "rxn": "[C:1](=[O:2])[OH]>>[CH2:1][OH:2]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "A22_carboxylic_acid_reduction_BH3_retro": {
    "brief": "Substrates: SMARTS([CH2:1][OH:2]) -> Products: SMARTS([C:1](=[O:2])[OH:3]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "BH3_THF",
      "BH3_SMe2"
    ],
    "incompatible_groups": [
      "[NX3+](=O)[O-]",
      "[CX2]#N",
      "[OX2r3]",
      "[C]=[C]"
    ],
    "name": "Carboxylic Acid Reduction BH3 (Retro, oxidation reduction)",
    "note": "Retrosynthetic disconnection: a primary alcohol can be traced back to the corresponding carboxylic acid as a plausible precursor because BH3 reagents commonly deliver the acid→alcohol reduction. Mechanistic basis: borane coordinates the acidic OH (forming a borate) and delivers hydride to the carbonyl carbon, then hydrolysis releases the alcohol. Use the incompatible_groups list as a heuristic to avoid concurrent reduction of other borane-reactive motifs (e.g., nitriles, nitro groups) or Lewis-acid-sensitive rings.",
    "prereq": "[CH2:1][OH:2]",
    "rxn": "[CH2:1][OH:2]>>[C:1](=[O:2])[OH]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "A23_nitrile_reduction": {
    "brief": "Substrates: SMARTS([C:1]#[N:2]) -> Products: SMARTS([CH2:1][NH2:2]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "LiAlH4/THF",
      "H2/Raney-Ni"
    ],
    "incompatible_groups": [
      "[NX3+](=O)[O-]",
      "[OX2r3]"
    ],
    "name": "Nitrile Reduction (Forward, oxidation reduction)",
    "note": "Nitrile reduced to primary amine by LiAlH4 or catalytic hydrogenation (H2/Raney-Ni). DIBAL-H at low temperature can stop at aldehyde (via imine intermediate). LiAlH4 gives amine directly. Pd/C hydrogenation may also reduce other unsaturated groups.",
    "prereq": "[C:1]#[N:2]",
    "rxn": "[C:1]#[N:2]>>[CH2:1][NH2:2]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "A23_nitrile_reduction_retro": {
    "brief": "Substrates: SMARTS([CH2:1][NH2:2]) -> Products: SMARTS([C:1]#[N:2]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "LiAlH4/THF",
      "H2/Raney-Ni"
    ],
    "incompatible_groups": [
      "[NX3+](=O)[O-]",
      "[OX2r3]"
    ],
    "name": "Nitrile Reduction (Retro, oxidation reduction)",
    "note": "Retrosynthetic: primary amine disconnects to nitrile via reduction. LiAlH4 or catalytic hydrogenation (H2/Raney-Ni) reduce nitrile to amine. Note: DIBAL-H at low temperature stops at aldehyde (imine) stage and does not give amine; use a separate template for nitrile-to-aldehyde.",
    "prereq": "[CH2:1][NH2:2]",
    "rxn": "[CH2:1][NH2:2]>>[C:1]#[N:2]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "A24_nitro_reduction": {
    "brief": "Nitro group reduced to amine. Multiple methods: H2/Pd-C, Fe/HCl, Zn/HCl, SnCl2/HCl. Chemoselective methods available.",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "H2/Pd-C",
      "Fe/AcOH",
      "SnCl2/HCl",
      "Zn/NH4Cl"
    ],
    "incompatible_groups": [
      "O[CH2]c1ccccc1",
      "[C]=[C]",
      "[C]#[C]"
    ],
    "name": "Nitro Group Reduction (Forward, oxidation reduction)",
    "note": "Nitro reduction: H2/Pd-C reduces nitro, alkenes, alkynes, and cleaves Bn ethers simultaneously. Fe/AcOH or SnCl2 are chemoselective (do not reduce alkenes). For substrates with alkenes, use Fe/AcOH or SnCl2 instead of H2/Pd-C.",
    "prereq": "[#6:1][N+:2](=[O])[O-]",
    "rxn": "[#6:1][N+:2](=[O])[O-]>>[#6:1][NH2:2]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "A24_nitro_reduction_retro": {
    "brief": "Substrates: SMARTS([#6:1][NH2:2]) -> Products: SMARTS([#6:1][N+:2](=[O])[O-]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "H2/Pd-C",
      "Fe/AcOH",
      "SnCl2/HCl",
      "Zn/NH4Cl"
    ],
    "incompatible_groups": [
      "O[CH2]c1ccccc1",
      "[C]=[C]",
      "[C]#[C]"
    ],
    "name": "Nitro Reduction (Retro, oxidation reduction)",
    "note": "Retrosynthetic disconnection: an aniline/alkyl amine can be traced to the corresponding nitro compound because nitro→amine reductions are robust and widely used (H2/Pd-C, Fe/AcOH, SnCl2/HCl, Zn/NH4Cl, etc.). Selectivity follows first principles of redox reactivity: catalytic hydrogenation may also reduce C=C/C#C or cleave benzyl protecting groups, while metal/acid systems can be more chemoselective. This template represents the amine←nitro relationship (not the forward installation of nitro, which typically uses electrophilic nitration conditions).",
    "prereq": "[#6:1][NH2:2]",
    "rxn": "[#6:1][NH2:2]>>[#6:1][N+:2](=[O])[O-]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "A25_alkene_hydrogenation": {
    "brief": "Alkene reduced to alkane by H2 over heterogeneous catalyst (Pd/C, Pt/C, Rh/C). syn-Addition of H2 across C=C.",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "H2/Pd-C",
      "H2/PtO2(Adams_catalyst)",
      "H2/Rh-C"
    ],
    "incompatible_groups": [
      "O[CH2]c1ccccc1",
      "[NX3+](=O)[O-]",
      "[C]#[C]"
    ],
    "name": "Alkene Hydrogenation (Forward, oxidation reduction)",
    "note": "Heterogeneous hydrogenation: syn-addition of H2 from less hindered face. Pd/C also cleaves benzyl ethers (hydrogenolysis) and reduces nitro groups to amines. Alkynes are reduced faster than alkenes by Pd/C. Selectivity: alkyne > alkene >> arene (with Pd/C at 1 atm). Bn ethers are cleaved (incompatible if Bn protection needed).",
    "prereq": "[C;!a:1]=[C;!a:2]",
    "rxn": "[C;!a:1]=[C;!a:2]>>[C:1][C:2]",
    "stereo_policy": "syn",
    "type": "forward",
    "stereo_detail": "syn addition (cis)"
  },
  "A25_alkene_hydrogenation_retro": {
    "brief": "Substrates: SMARTS([CH1,CH2,CH3;!a:1][CH1,CH2,CH3;!a:2]) -> Products: SMARTS([C:1]=[C:2]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "H2/Pd-C",
      "H2/PtO2",
      "H2/Rh-C"
    ],
    "incompatible_groups": [
      "O[CH2]c1ccccc1",
      "[NX3+](=O)[O-]",
      "[C]#[C]"
    ],
    "name": "Alkene Hydrogenation (Retro, oxidation reduction)",
    "note": "Retrosynthetic: alkane disconnects to alkene via catalytic hydrogenation. H2 with Pd/C, PtO2, or Rh/C catalyst. syn-Addition of H2 across double bond. May also reduce other unsaturated groups (alkynes, benzyl, nitro with Pd). Prereq requires both carbons to be sp3 with at least one H each (product of syn H2 addition to C=C), and non-aromatic.",
    "prereq": "[CH1,CH2,CH3;!a:1][CH1,CH2,CH3;!a:2]",
    "rxn": "[C:1][C:2]>>[C:1]=[C:2]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "A26_alkyne_hydrogenation_to_alkene": {
    "brief": "Alkyne partially reduced to cis-alkene using Lindlar catalyst (Pd/CaCO3/PbOAc2/quinoline) or P-2 Ni. syn-Addition gives Z-alkene selectively.",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "H2/Lindlar_catalyst(Pd-CaCO3-PbOAc2-quinoline)",
      "H2/P-2_Ni(NiOAc/NaBH4)"
    ],
    "incompatible_groups": [],
    "name": "Alkyne Partial Hydrogenation to cis-Alkene (Forward, oxidation reduction)",
    "note": "Lindlar catalyst: poisoned Pd on CaCO3 with Pb(OAc)2 and quinoline. Stops at alkene stage (catalyst too poisoned for alkene reduction). syn-Addition gives exclusively Z(cis)-alkene. P-2 Ni is alternative. Lindlar catalyst is compatible with benzyl ethers, nitro groups, and most other functional groups due to its low activity.",
    "prereq": "[C:1]#[C:2]",
    "rxn": "[C:1]#[C:2]>>[C:1]=[C:2]",
    "stereo_policy": "diastereoselective",
    "type": "forward",
    "stereo_detail": "Z (cis) alkene favored"
  },
  "A26_alkyne_hydrogenation_to_alkene_retro": {
    "brief": "Substrates: SMARTS([C:1]=[C:2]) -> Products: SMARTS([C:1]#[C:2]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "H2/Lindlar_catalyst",
      "H2/Pd-BaSO4-quinoline"
    ],
    "incompatible_groups": [],
    "name": "Alkyne Hydrogenation To Alkene (Retro, oxidation reduction)",
    "note": "Retrosynthetic: Z-alkene disconnects to alkyne via Lindlar hydrogenation. Lindlar catalyst (Pd/CaCO3/Pb(OAc)2) or Pd-BaSO4 poisoned with quinoline. Selective partial hydrogenation stops at cis-alkene. syn-Addition gives Z (cis) product.",
    "prereq": "[C:1]=[C:2]",
    "rxn": "[C:1]=[C:2]>>[C:1]#[C:2]",
    "stereo_policy": "diastereoselective",
    "type": "retro",
    "stereo_detail": "Z (cis) alkene favored"
  },
  "A27_alkyne_hydrogenation_to_alkane": {
    "brief": "Substrates: SMARTS([C:1]#[C:2]) -> Products: SMARTS([C:1][C:2]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "H2/Pd-C",
      "H2/PtO2"
    ],
    "incompatible_groups": [
      "O[CH2]c1ccccc1",
      "[NX3+](=O)[O-]",
      "[C]=[C]"
    ],
    "name": "Alkyne Hydrogenation To Alkane (Forward, oxidation reduction)",
    "note": "Full hydrogenation of alkyne to alkane using excess H2 with Pd/C or PtO2. Two equivalents of H2 consumed. Cannot stop at alkene stage with these catalysts (use Lindlar catalyst for partial reduction to Z-alkene instead).",
    "prereq": "[C:1]#[C:2]",
    "rxn": "[C:1]#[C:2]>>[C:1][C:2]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "A27_alkyne_hydrogenation_to_alkane_retro": {
    "brief": "Substrates: SMARTS([CH2:1][CH2:2]) -> Products: SMARTS([C:1]#[C:2]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "H2(excess)/Pd-C",
      "H2(excess)/PtO2"
    ],
    "incompatible_groups": [
      "O[CH2]c1ccccc1",
      "[NX3+](=O)[O-]",
      "[C]=[C]"
    ],
    "name": "Alkyne Hydrogenation To Alkane (Retro, oxidation reduction)",
    "note": "Retrosynthetic: alkane disconnects to alkyne via full hydrogenation. Excess H2 with Pd/C or PtO2 fully reduces alkyne to alkane. Two equivalents of H2 consumed. Prereq requires both carbons to be CH2 (each gained 2H from the former sp triple bond).",
    "prereq": "[CH2:1][CH2:2]",
    "rxn": "[C:1][C:2]>>[C:1]#[C:2]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "A28_sulfide_to_sulfoxide": {
    "brief": "Thioether (R-S-R) oxidized to sulfoxide (R-SO-R) using 1 equiv mCPBA or H2O2. Over-oxidation to sulfone with excess oxidant.",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "mCPBA(1_equiv)/DCM/-78C",
      "H2O2(1_equiv)/AcOH",
      "NaIO4/H2O"
    ],
    "incompatible_groups": [
      "[C]=[C]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Sulfide to Sulfoxide (Forward, oxidation reduction)",
    "note": "Sulfoxide has pyramidal sulfur → chiral center. Racemic with achiral oxidants. NaIO4 is selective for mono-oxidation. mCPBA at -78°C gives good selectivity. Excess oxidant gives sulfone. Alkenes may be epoxidized by mCPBA (competing reaction).",
    "prereq": "[#6:1][S:2][#6:3]",
    "rxn": "[#6:1][S:2][#6:3]>>[#6:1][S:2](=O)[#6:3]",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "A28_sulfide_to_sulfoxide_retro": {
    "brief": "Substrates: SMARTS([#6:1][S:2](=O)[#6:3]) -> Products: SMARTS([#6:1][S:2][#6:3]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "mCPBA(1_equiv)/DCM/-78C",
      "H2O2(1_equiv)/AcOH",
      "NaIO4/H2O"
    ],
    "incompatible_groups": [
      "[C]=[C]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Sulfide To Sulfoxide (Retro, oxidation reduction)",
    "note": "Retrosynthetic: sulfoxide disconnects to sulfide via selective mono-oxidation. mCPBA (1 equiv, -78C for selectivity), H2O2 (1 equiv), or NaIO4. Must control stoichiometry to avoid over-oxidation to sulfone. Low temperature favors sulfoxide selectivity with mCPBA.",
    "prereq": "[#6:1][S:2](=O)[#6:3]",
    "rxn": "[#6:1][S:2](=O)[#6:3]>>[#6:1][S:2][#6:3]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "A29_sulfide_to_sulfone": {
    "brief": "Substrates: SMARTS([#6:1][S:2][#6:3]) -> Products: SMARTS([#6:1][S:2](=O)(=O)[#6:3]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "mCPBA(2_equiv)/DCM",
      "H2O2(excess)/AcOH"
    ],
    "incompatible_groups": [
      "[C]=[C]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Sulfide To Sulfone (Forward, oxidation reduction)",
    "note": "Sulfide fully oxidized to sulfone by excess mCPBA (2+ equiv) or H2O2/AcOH. Proceeds through sulfoxide intermediate. Oxone (KHSO5) also effective. Ensure excess oxidant for complete conversion past sulfoxide stage.",
    "prereq": "[#6:1][S:2][#6:3]",
    "rxn": "[#6:1][S:2][#6:3]>>[#6:1][S:2](=O)(=O)[#6:3]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "A29_sulfide_to_sulfone_retro": {
    "brief": "Substrates: SMARTS([#6:1][S:2](=O)(=O)[#6:3]) -> Products: SMARTS([#6:1][S:2][#6:3]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "mCPBA(2_equiv)/DCM",
      "H2O2(excess)/AcOH"
    ],
    "incompatible_groups": [
      "[C]=[C]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Sulfide To Sulfone (Retro, oxidation reduction)",
    "note": "Retrosynthetic: sulfone disconnects to sulfide via full oxidation. mCPBA (2+ equiv) or excess H2O2/AcOH oxidize sulfide through sulfoxide to sulfone. Oxone (KHSO5) is also effective. Ensure excess oxidant for complete conversion.",
    "prereq": "[#6:1][S:2](=O)(=O)[#6:3]",
    "rxn": "[#6:1][S:2](=O)(=O)[#6:3]>>[#6:1][S:2][#6:3]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "A30_periodate_cleavage_diol": {
    "brief": "Substrates: SMARTS([C:1]([OH:2])[C:3]([OH:4])) -> Products: SMARTS([C:1](=[O:2])) + SMARTS([C:3](=[O:4])).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "NaIO4/H2O"
    ],
    "incompatible_groups": [
      "[SX2][#6]"
    ],
    "name": "Periodate Cleavage Diol (Forward, oxidation reduction)",
    "note": "Vicinal diol cleaved by NaIO4 to give two carbonyl fragments. Selective for 1,2-diols; isolated alcohols not affected. Pb(OAc)4 is an alternative reagent. NaIO4 also oxidizes thioethers to sulfoxides. Free amines are compatible with NaIO4 conditions. Often used after Sharpless dihydroxylation for net alkene cleavage.",
    "prereq": "[C:1]([OH:2])[C:3]([OH:4])",
    "rxn": "[C:1]([OH:2])[C:3]([OH:4])>>[C:1](=[O:2]).[C:3](=[O:4])",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "A30_periodate_cleavage_diol_retro": {
    "brief": "Substrates: SMARTS([C:1](=[O:2])) + SMARTS([C:3](=[O:4])) -> Products: SMARTS([C:1]([OH:2])[C:3]([OH:4])).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "NaIO4/H2O",
      "Pb(OAc)4"
    ],
    "incompatible_groups": [
      "[SX2][#6]"
    ],
    "name": "Periodate Cleavage Diol (Retro, oxidation reduction)",
    "note": "Retrosynthetic: two carbonyl fragments reconnect to vicinal diol via periodate cleavage. NaIO4 or Pb(OAc)4 cleaves 1,2-diols to two carbonyl compounds. Selective for vicinal diols; isolated alcohols are not affected.",
    "prereq": "[C:1](=[O:2]).[C:3](=[O:4])",
    "rxn": "[C:1](=[O:2]).[C:3](=[O:4])>>[C:1]([OH:2])[C:3]([OH:4])",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "A31_hydroboration_oxidation_terminal": {
    "brief": "Terminal alkene converted to anti-Markovnikov primary alcohol via BH3·THF then H2O2/NaOH. syn-Addition of B-H, then oxidation with retention.",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "BH3·THF_then_H2O2/NaOH",
      "9-BBN_then_H2O2/NaOH",
      "disiamylborane_then_H2O2/NaOH"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[CX2]#N",
      "[NX3+](=O)[O-]",
      "[OX2r3]"
    ],
    "name": "Hydroboration-Oxidation (Forward, oxidation reduction)",
    "note": "Hydroboration: syn-addition of B-H (concerted, 4-membered TS). Anti-Markovnikov: B adds to less substituted carbon. Oxidation (H2O2/NaOH) replaces B with OH with retention. Overall: syn, anti-Markovnikov hydration. 9-BBN is more selective for terminal alkenes. BH3 also reduces acyl chlorides, nitriles, nitro groups, and opens epoxides (Lewis acid).",
    "prereq": "[CH2:1]=[CH:2][#6:3]",
    "rxn": "[CH2:1]=[CH:2][#6:3]>>[CH2:1]([OH])[CH2:2][#6:3]",
    "stereo_policy": "syn",
    "type": "forward",
    "stereo_detail": "syn addition (cis)"
  },
  "A31_hydroboration_oxidation_terminal_retro": {
    "brief": "Substrates: SMARTS([CH2:1]([OH])[CH2:2][#6:3]) -> Products: SMARTS([CH2:1]=[CH:2][#6:3]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "BH3.THF_then_H2O2/NaOH",
      "9-BBN_then_H2O2/NaOH"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[CX2]#N",
      "[NX3+](=O)[O-]",
      "[OX2r3]"
    ],
    "name": "Hydroboration Oxidation Terminal (Retro, oxidation reduction)",
    "note": "Retrosynthetic: anti-Markovnikov primary alcohol disconnects to terminal alkene via hydroboration-oxidation. BH3 or 9-BBN adds syn across alkene (anti-Markovnikov), then H2O2/NaOH oxidizes C-B to C-OH with retention. Complementary to acid-catalyzed hydration (Markovnikov).",
    "prereq": "[CH2:1]([OH])[CH2:2][#6:3]",
    "rxn": "[CH2:1]([OH])[CH2:2][#6:3]>>[CH2:1]=[CH:2][#6:3]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "A32_peracid_epoxidation_general": {
    "brief": "Alkene epoxidized by peracid (mCPBA). Concerted, syn-addition. Electron-rich alkenes react faster. Racemic for achiral substrates.",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "mCPBA/DCM",
      "DMDO/acetone",
      "MMPP/MeOH"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Peracid Epoxidation (Forward, oxidation reduction)",
    "note": "mCPBA epoxidation: concerted, syn-addition (cis-alkene → cis-epoxide, trans-alkene → trans-epoxide). Electron-rich alkenes more reactive. Thioethers oxidized to sulfoxides (competing). Free amines may be N-oxidized. DMDO is milder alternative.",
    "prereq": "[C;!a:1]=[C;!a:2]",
    "rxn": "[C;!a:1]=[C;!a:2]>>[C:1]1[O][C:2]1",
    "stereo_policy": "syn",
    "type": "forward",
    "stereo_detail": "syn addition (cis)"
  },
  "A33_brown_allylic_oxidation_SeO2": {
    "brief": "Substrates: SMARTS([C:1]=[C:2][CH:3]) -> Products: SMARTS([C:1]=[C:2][C:3]([OH])).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "SeO2/tBuOOH"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Brown Allylic Oxidation Seo2 (Forward, oxidation reduction)",
    "note": "SeO2 oxidizes allylic position to allylic alcohol via ene reaction mechanism. tBuOOH as co-oxidant makes SeO2 catalytic. Allylic transposition may occur. Selective for allylic C-H over other positions.",
    "prereq": "[C:1]=[C:2][CH:3]",
    "rxn": "[C:1]=[C:2][CH:3]>>[C:1]=[C:2][C:3]([OH])",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "A33_brown_allylic_oxidation_SeO2_retro": {
    "brief": "Substrates: SMARTS([C:1]=[C:2][C:3]([OH])) -> Products: SMARTS([C:1]=[C:2][CH:3]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "SeO2/tBuOOH",
      "SeO2(cat)/tBuOOH"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Brown Allylic Oxidation Seo2 (Retro, oxidation reduction)",
    "note": "Retrosynthetic: allylic alcohol disconnects to alkene via SeO2 allylic oxidation. SeO2 with tBuOOH as co-oxidant. Ene reaction mechanism. Selective for allylic position. Allylic transposition may occur.",
    "prereq": "[C:1]=[C:2][C:3]([OH])",
    "rxn": "[C:1]=[C:2][C:3]([OH])>>[C:1]=[C:2][CH:3]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "B01_demethylation_BBr3": {
    "brief": "Substrates: SMARTS([c:1][O:2][CH3]) -> Products: SMARTS([c:1][OH:2]).",
    "category": "protection",
    "co_reactant_examples": [
      "BBr3/DCM/-78C"
    ],
    "incompatible_groups": [
      "[CX4]([OX2][#6])([OX2][#6])",
      "C(=O)OC(C)(C)C",
      "[O][Si](C)(C)C"
    ],
    "name": "Demethylation Bbr3 (Forward, protection)",
    "note": "Substrates: SMARTS([c:1][O:2][CH3]) -> Products: SMARTS([c:1][OH:2]). Typical co-reactants/conditions: BBr3/DCM/-78C. First-principles: protection/deprotection outcomes are governed by Lewis/Brønsted acidity/basicity, nucleophilicity, and leaving-group ability; acid-/base-labile motifs may be cleaved or rearranged under the same conditions. Incompatible_groups is used as a heuristic flag for motifs likely to be co-transformed, decomposed, or to inhibit the intended pathway under these conditions (SMARTS: [CX4]([OX2][#6])([OX2][#6]); C(=O)OC(C)(C)C; [O][Si](C)(C)C).",
    "prereq": "[c:1][O:2][CH3]",
    "rxn": "[c:1][O:2][CH3]>>[c:1][OH:2]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "B01_demethylation_BBr3_retro": {
    "brief": "Substrates: SMARTS([c:1][OH:2]) -> Products: SMARTS([c:1][O:2][CH3]).",
    "category": "protection",
    "co_reactant_examples": [
      "BBr3/DCM/-78C"
    ],
    "incompatible_groups": [
      "[CX4]([OX2][#6])([OX2][#6])",
      "C(=O)OC(C)(C)C",
      "[O][Si](C)(C)C"
    ],
    "name": "Demethylation Bbr3 (Retro, protection)",
    "note": "Substrates: SMARTS([c:1][OH:2]) -> Products: SMARTS([c:1][O:2][CH3]). Typical co-reactants/conditions: BBr3/DCM/-78C. First-principles: protection/deprotection outcomes are governed by Lewis/Brønsted acidity/basicity, nucleophilicity, and leaving-group ability; acid-/base-labile motifs may be cleaved or rearranged under the same conditions. Incompatible_groups is used as a heuristic flag for motifs likely to be co-transformed, decomposed, or to inhibit the intended pathway under these conditions (SMARTS: [CX4]([OX2][#6])([OX2][#6]); C(=O)OC(C)(C)C; [O][Si](C)(C)C).",
    "prereq": "[c:1][OH:2]",
    "rxn": "[c:1][OH:2]>>[c:1][O:2][CH3]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "B02_methylenedioxy_deprotect": {
    "brief": "Substrates: SMARTS([c:1][O:2][CH2;R][O:3][c:4]) -> Products: SMARTS([c:1][OH:2]) + SMARTS([c:4][OH:3]).",
    "category": "protection",
    "co_reactant_examples": [
      "BBr3/DCM"
    ],
    "incompatible_groups": [
      "C(=O)OC(C)(C)C",
      "[O][Si](C)(C)C"
    ],
    "name": "Methylenedioxy Deprotect (Forward, protection)",
    "note": "Substrates: SMARTS([c:1][O:2][CH2;R][O:3][c:4]) -> Products: SMARTS([c:1][OH:2]) + SMARTS([c:4][OH:3]). Typical co-reactants/conditions: BBr3/DCM. First-principles: protection/deprotection outcomes are governed by Lewis/Brønsted acidity/basicity, nucleophilicity, and leaving-group ability; acid-/base-labile motifs may be cleaved or rearranged under the same conditions. Incompatible_groups is used as a heuristic flag for motifs likely to be co-transformed, decomposed, or to inhibit the intended pathway under these conditions (SMARTS: C(=O)OC(C)(C)C; [O][Si](C)(C)C).",
    "prereq": "[c:1][O:2][CH2;R][O:3][c:4]",
    "rxn": "[c:1][O:2][CH2;R][O:3][c:4]>>[c:1][OH:2].[c:4][OH:3]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "B02_methylenedioxy_deprotect_retro": {
    "brief": "Substrates: SMARTS([c:1][OH:2]) + SMARTS([c:4][OH:3]) -> Products: SMARTS([c:1][O:2][CH2;R][O:3][c:4]).",
    "category": "protection",
    "co_reactant_examples": [
      "BBr3/DCM"
    ],
    "incompatible_groups": [
      "C(=O)OC(C)(C)C",
      "[O][Si](C)(C)C"
    ],
    "name": "Methylenedioxy Deprotect (Retro, protection)",
    "note": "Substrates: SMARTS([c:1][OH:2]) + SMARTS([c:4][OH:3]) -> Products: SMARTS([c:1][O:2][CH2;R][O:3][c:4]). Typical co-reactants/conditions: BBr3/DCM. First-principles: protection/deprotection outcomes are governed by Lewis/Brønsted acidity/basicity, nucleophilicity, and leaving-group ability; acid-/base-labile motifs may be cleaved or rearranged under the same conditions. Incompatible_groups is used as a heuristic flag for motifs likely to be co-transformed, decomposed, or to inhibit the intended pathway under these conditions (SMARTS: C(=O)OC(C)(C)C; [O][Si](C)(C)C).",
    "prereq": "[c:1]([OH:2])[c:4]([OH:3])",
    "rxn": "[c:1]([OH:2])[c:4]([OH:3])>>[c:1][O:2][CH2;R][O:3][c:4]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "B03_methylenedioxy_protect": {
    "brief": "Substrates: SMARTS([c:1]([OH:2])[c:3]([OH:4])) -> Products: SMARTS([c:1]([O:2]C([H])([H])[O:4])[c:3]).",
    "category": "protection",
    "co_reactant_examples": [
      "CH2Br2/K2CO3"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2][#6]"
    ],
    "name": "Methylenedioxy Protect (Forward, protection)",
    "note": "Methylenedioxy protection: ortho-catechol reacts with CH2Br2/K2CO3 to form methylenedioxy bridge. Requires ortho-diol on aromatic ring. Free amines may compete as nucleophiles. Thioethers generally compatible but may interfere under forcing conditions.",
    "prereq": "[c:1]([OH:2])[c:3]([OH:4])",
    "rxn": "[c:1]([OH:2])[c:3]([OH:4])>>[c:1]([O:2]C([H])([H])[O:4])[c:3]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "B03_methylenedioxy_protect_retro": {
    "brief": "Substrates: SMARTS([c:1]([O:2]C([H])([H])[O:4])[c:3]) -> Products: SMARTS([c:1]([OH:2])[c:3]([OH:4])).",
    "category": "protection",
    "co_reactant_examples": [
      "CH2Br2/K2CO3"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2][#6]"
    ],
    "name": "Methylenedioxy Protect (Retro, protection)",
    "note": "Retrosynthetic: methylenedioxy bridge disconnects to ortho-catechol via CH2Br2/K2CO3 protection. Requires ortho-diol on aromatic ring.",
    "prereq": "[c:1]([O:2]C([H])([H])[O:4])[c:3]",
    "rxn": "[c:1]([O:2]C([H])([H])[O:4])[c:3]>>[c:1]([OH:2])[c:3]([OH:4])",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "B04_tbs_protect": {
    "brief": "Alcohol protected as tert-butyldimethylsilyl (TBS/TBDMS) ether using TBSCl/imidazole/DMF. Stable to base, nucleophiles, mild acid. Removed by TBAF or HF·pyridine.",
    "category": "protection",
    "co_reactant_examples": [
      "TBSCl/imidazole/DMF",
      "TBSOTf/2,6-lutidine/DCM"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "TBS Protection (Forward, protection)",
    "note": "TBS protection: TBSCl + imidazole (mild) or TBSOTf + 2,6-lutidine (more reactive, for hindered alcohols). Selectivity: 1° OH > 2° OH >> 3° OH. Stable to Grignard, LDA, mild acid. Removed by F- (TBAF) or aqueous HF.",
    "prereq": "[C:1][OH:2]",
    "rxn": "[C:1][OH:2]>>[C:1][O:2][Si](C)(C)C(C)(C)C",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "B04_tbs_protect_retro": {
    "brief": "Substrates: SMARTS([C:1][O:2][Si](C)(C)C(C)(C)C) -> Products: SMARTS([C:1][OH:2]).",
    "category": "protection",
    "co_reactant_examples": [
      "TBSCl/imidazole/DMF"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2][#6]"
    ],
    "name": "TBS Protect (Retro, protection)",
    "note": "Substrates: SMARTS([C:1][O:2][Si](C)(C)C(C)(C)C) -> Products: SMARTS([C:1][OH:2]). Typical co-reactants/conditions: TBSCl/imidazole/DMF. First-principles: protection/deprotection outcomes are governed by Lewis/Brønsted acidity/basicity, nucleophilicity, and leaving-group ability; acid-/base-labile motifs may be cleaved or rearranged under the same conditions. Incompatible_groups is used as a heuristic flag for motifs likely to be co-transformed, decomposed, or to inhibit the intended pathway under these conditions (SMARTS: [NX3;H2,H1;+0]; [SX2][#6]).",
    "prereq": "[C:1][O:2][Si](C)(C)C(C)(C)C",
    "rxn": "[C:1][O:2][Si](C)(C)C(C)(C)C>>[C:1][OH:2]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "B05_acetylation": {
    "brief": "Alcohol protected as acetate ester using Ac2O/pyridine or AcCl/Et3N. Removed by base hydrolysis (K2CO3/MeOH) or LiAlH4.",
    "category": "protection",
    "co_reactant_examples": [
      "Ac2O/pyridine",
      "AcCl/Et3N/DMAP",
      "Ac2O/DMAP(cat)"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2H]"
    ],
    "name": "Acetylation (Forward, protection)",
    "note": "Acetylation: Ac2O or AcCl with base. Free amines will also be acetylated (competing). Removed by K2CO3/MeOH (mild base), NaOH/H2O, or LiAlH4. Less stable than silyl ethers to basic conditions.",
    "prereq": "[C:1][OH:2]",
    "rxn": "[C:1][OH:2]>>[C:1][O:2]C(=O)C",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "B05_acetylation_retro": {
    "brief": "Substrates: SMARTS([C:1][O:2]C(=O)C) -> Products: SMARTS([C:1][OH:2]).",
    "category": "protection",
    "co_reactant_examples": [
      "Ac2O/pyridine",
      "AcCl/Et3N/DMAP"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2][#6]"
    ],
    "name": "Acetylation (Retro, protection)",
    "note": "Substrates: SMARTS([C:1][O:2]C(=O)C) -> Products: SMARTS([C:1][OH:2]). Typical co-reactants/conditions: see_specific_PG_conditions. First-principles: protection/deprotection outcomes are governed by Lewis/Brønsted acidity/basicity, nucleophilicity, and leaving-group ability; acid-/base-labile motifs may be cleaved or rearranged under the same conditions. Incompatible_groups is used as a heuristic flag for motifs likely to be co-transformed, decomposed, or to inhibit the intended pathway under these conditions (SMARTS: [NX3;H2,H1;+0]; [SX2][#6]).",
    "prereq": "[C:1][O:2]C(=O)C",
    "rxn": "[C:1][O:2]C(=O)C>>[C:1][OH:2]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "B06_benzyl_protect": {
    "brief": "Alcohol protected as benzyl ether using BnBr/NaH or BnBr/Ag2O. Removed by hydrogenolysis (H2/Pd-C) or DDQ (for PMB variant).",
    "category": "protection",
    "co_reactant_examples": [
      "BnBr/NaH/DMF",
      "BnBr/Ag2O",
      "BnBr/KHMDS"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Benzyl Protection (Forward, protection)",
    "note": "Benzyl protection: BnBr + strong base (NaH, KHMDS) or mild Lewis acid (Ag2O). Very stable to acid and base. Removed by H2/Pd-C (hydrogenolysis). Incompatible with substrates containing alkenes or alkynes if hydrogenolysis is planned for deprotection.",
    "prereq": "[C:1][OH:2]",
    "rxn": "[C:1][OH:2]>>[C:1][O:2]Cc1ccccc1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "B06_benzyl_protect_retro": {
    "brief": "Substrates: SMARTS([C:1][O:2]Cc1ccccc1) -> Products: SMARTS([C:1][OH:2]).",
    "category": "protection",
    "co_reactant_examples": [
      "BnBr/NaH/DMF"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2][#6]"
    ],
    "name": "Benzyl Protect (Retro, protection)",
    "note": "Substrates: SMARTS([C:1][O:2]Cc1ccccc1) -> Products: SMARTS([C:1][OH:2]). Typical co-reactants/conditions: BnBr/NaH/DMF. First-principles: protection/deprotection outcomes are governed by Lewis/Brønsted acidity/basicity, nucleophilicity, and leaving-group ability; acid-/base-labile motifs may be cleaved or rearranged under the same conditions. Incompatible_groups is used as a heuristic flag for motifs likely to be co-transformed, decomposed, or to inhibit the intended pathway under these conditions (SMARTS: [NX3;H2,H1;+0]; [SX2][#6]).",
    "prereq": "[C:1][O:2]Cc1ccccc1",
    "rxn": "[C:1][O:2]Cc1ccccc1>>[C:1][OH:2]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "B07_mes_protect": {
    "brief": "Alcohol converted to mesylate (methanesulfonate ester, OMs) using MsCl/Et3N. Mesylate is a good leaving group for SN2/E2 reactions.",
    "category": "protection",
    "co_reactant_examples": [
      "MsCl/Et3N/DCM",
      "MsCl/pyridine"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2H]"
    ],
    "name": "Mesylation (Forward, protection)",
    "note": "Mesylation: MsCl (methanesulfonyl chloride) + base (Et3N, pyridine). Converts OH to OMs leaving group. Free amines may also be sulfonylated. Mesylate is a better leaving group than tosylate for SN2 due to less steric bulk.",
    "prereq": "[C:1][OH:2]",
    "rxn": "[C:1][OH:2]>>[C:1][O:2]S(=O)(=O)C",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "B07_mes_protect_retro": {
    "brief": "Substrates: SMARTS([C:1][O:2]S(=O)(=O)C) -> Products: SMARTS([C:1][OH:2]).",
    "category": "protection",
    "co_reactant_examples": [
      "MsCl/Et3N/DCM",
      "MsCl/pyridine"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2][#6]"
    ],
    "name": "Mes Protect (Retro, protection)",
    "note": "Substrates: SMARTS([C:1][O:2]S(=O)(=O)C) -> Products: SMARTS([C:1][OH:2]). Typical co-reactants/conditions: TBSCl/imidazole. First-principles: protection/deprotection outcomes are governed by Lewis/Brønsted acidity/basicity, nucleophilicity, and leaving-group ability; acid-/base-labile motifs may be cleaved or rearranged under the same conditions. Incompatible_groups is used as a heuristic flag for motifs likely to be co-transformed, decomposed, or to inhibit the intended pathway under these conditions (SMARTS: [NX3;H2,H1;+0]; [SX2][#6]).",
    "prereq": "[C:1][O:2]S(=O)(=O)C",
    "rxn": "[C:1][O:2]S(=O)(=O)C>>[C:1][OH:2]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "B08_tos_protect": {
    "brief": "Alcohol converted to tosylate (p-toluenesulfonate ester, OTs) using TsCl/pyridine. Tosylate is a good leaving group for SN2/E2.",
    "category": "protection",
    "co_reactant_examples": [
      "TsCl/pyridine",
      "TsCl/Et3N/DMAP"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2H]"
    ],
    "name": "Tosylation (Forward, protection)",
    "note": "Tosylation: TsCl (p-toluenesulfonyl chloride) + base. Converts OH to OTs leaving group. Free amines may also be tosylated. Primary alcohols react faster than secondary (steric). Tertiary alcohols react poorly.",
    "prereq": "[C:1][OH:2]",
    "rxn": "[C:1][OH:2]>>[C:1][O:2]S(=O)(=O)c1ccc(C)cc1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "B08_tos_protect_retro": {
    "brief": "Substrates: SMARTS([C:1][O:2]S(=O)(=O)c1ccc(C)cc1) -> Products: SMARTS([C:1][OH:2]).",
    "category": "protection",
    "co_reactant_examples": [
      "TsCl/pyridine",
      "TsCl/Et3N/DMAP"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2][#6]"
    ],
    "name": "Tos Protect (Retro, protection)",
    "note": "Substrates: SMARTS([C:1][O:2]S(=O)(=O)c1ccc(C)cc1) -> Products: SMARTS([C:1][OH:2]). Typical co-reactants/conditions: TBSCl/imidazole. First-principles: protection/deprotection outcomes are governed by Lewis/Brønsted acidity/basicity, nucleophilicity, and leaving-group ability; acid-/base-labile motifs may be cleaved or rearranged under the same conditions. Incompatible_groups is used as a heuristic flag for motifs likely to be co-transformed, decomposed, or to inhibit the intended pathway under these conditions (SMARTS: [NX3;H2,H1;+0]; [SX2][#6]).",
    "prereq": "[C:1][O:2]S(=O)(=O)c1ccc(C)cc1",
    "rxn": "[C:1][O:2]S(=O)(=O)c1ccc(C)cc1>>[C:1][OH:2]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "B09_mpm_protect": {
    "brief": "Substrates: SMARTS([C:1][OH:2]) -> Products: SMARTS([C:1][O:2]Cc1ccc(OC)cc1).",
    "category": "protection",
    "co_reactant_examples": [
      "PMBCl/NaH/DMF"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2][#6]"
    ],
    "name": "Mpm Protect (Forward, protection)",
    "note": "Substrates: SMARTS([C:1][OH:2]) -> Products: SMARTS([C:1][O:2]Cc1ccc(OC)cc1). Typical co-reactants/conditions: PMBCl/NaH/DMF. First-principles: protection/deprotection outcomes are governed by Lewis/Brønsted acidity/basicity, nucleophilicity, and leaving-group ability; acid-/base-labile motifs may be cleaved or rearranged under the same conditions. Incompatible_groups is used as a heuristic flag for motifs likely to be co-transformed, decomposed, or to inhibit the intended pathway under these conditions (SMARTS: [NX3;H2,H1;+0]; [SX2][#6]).",
    "prereq": "[C:1][OH:2]",
    "rxn": "[C:1][OH:2]>>[C:1][O:2]Cc1ccc(OC)cc1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "B09_mpm_protect_retro": {
    "brief": "Substrates: SMARTS([C:1][O:2]Cc1ccc(OC)cc1) -> Products: SMARTS([C:1][OH:2]).",
    "category": "protection",
    "co_reactant_examples": [
      "PMBCl/NaH/DMF"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2][#6]"
    ],
    "name": "Mpm Protect (Retro, protection)",
    "note": "Substrates: SMARTS([C:1][O:2]Cc1ccc(OC)cc1) -> Products: SMARTS([C:1][OH:2]). Typical co-reactants/conditions: PMBCl/NaH/DMF. First-principles: protection/deprotection outcomes are governed by Lewis/Brønsted acidity/basicity, nucleophilicity, and leaving-group ability; acid-/base-labile motifs may be cleaved or rearranged under the same conditions. Incompatible_groups is used as a heuristic flag for motifs likely to be co-transformed, decomposed, or to inhibit the intended pathway under these conditions (SMARTS: [NX3;H2,H1;+0]; [SX2][#6]).",
    "prereq": "[C:1][O:2]Cc1ccc(OC)cc1",
    "rxn": "[C:1][O:2]Cc1ccc(OC)cc1>>[C:1][OH:2]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "B10_acetonide_protect": {
    "brief": "Substrates: SMARTS([C:1]([OH:2])[C:3]([OH:4])) -> Products: SMARTS([C:1]([O:2]C(C)(C)[O:4])[C:3]).",
    "category": "protection",
    "co_reactant_examples": [
      "acetone/p-TsOH"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2][#6]"
    ],
    "name": "Acetonide Protect (Forward, protection)",
    "note": "Substrates: SMARTS([C:1]([OH:2])[C:3]([OH:4])) -> Products: SMARTS([C:1]([O:2]C(C)(C)[O:4])[C:3]). Typical co-reactants/conditions: acetone/p-TsOH. First-principles: protection/deprotection outcomes are governed by Lewis/Brønsted acidity/basicity, nucleophilicity, and leaving-group ability; acid-/base-labile motifs may be cleaved or rearranged under the same conditions. Incompatible_groups is used as a heuristic flag for motifs likely to be co-transformed, decomposed, or to inhibit the intended pathway under these conditions (SMARTS: [NX3;H2,H1;+0]; [SX2][#6]).",
    "prereq": "[C:1]([OH:2])[C:3]([OH:4])",
    "rxn": "[C:1]([OH:2])[C:3]([OH:4])>>[C:1]([O:2]C(C)(C)[O:4])[C:3]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "B10_acetonide_protect_retro": {
    "brief": "Substrates: SMARTS([C:1]([O:2]C(C)(C)[O:4])[C:3]) -> Products: SMARTS([C:1]([OH:2])[C:3]([OH:4])).",
    "category": "protection",
    "co_reactant_examples": [
      "acetone/p-TsOH"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2][#6]"
    ],
    "name": "Acetonide Protect (Retro, protection)",
    "note": "Substrates: SMARTS([C:1]([O:2]C(C)(C)[O:4])[C:3]) -> Products: SMARTS([C:1]([OH:2])[C:3]([OH:4])). Typical co-reactants/conditions: acetone/p-TsOH. First-principles: protection/deprotection outcomes are governed by Lewis/Brønsted acidity/basicity, nucleophilicity, and leaving-group ability; acid-/base-labile motifs may be cleaved or rearranged under the same conditions. Incompatible_groups is used as a heuristic flag for motifs likely to be co-transformed, decomposed, or to inhibit the intended pathway under these conditions (SMARTS: [NX3;H2,H1;+0]; [SX2][#6]).",
    "prereq": "[C:1]([O:2]C(C)(C)[O:4])[C:3]",
    "rxn": "[C:1]([O:2]C(C)(C)[O:4])[C:3]>>[C:1]([OH:2])[C:3]([OH:4])",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "B11_tbs_deprotect_TBAF": {
    "brief": "TBS silyl ether removed by TBAF (tetrabutylammonium fluoride) in THF. F- has high affinity for Si, cleaving Si-O bond selectively.",
    "category": "protection",
    "co_reactant_examples": [
      "TBAF/THF",
      "HF·pyridine/THF",
      "AcOH/H2O/THF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "TBS Deprotection TBAF (Forward, protection)",
    "note": "TBAF deprotection: F- attacks Si, breaking Si-O bond. Very selective for silyl ethers. TBAF is mildly basic (may cause β-elimination of sensitive substrates). HF·pyridine is milder alternative. Other silyl groups (TMS, TIPS, TES) also removed by TBAF.",
    "prereq": "[C:1][O:2][Si](C)(C)C(C)(C)C",
    "rxn": "[C:1][O:2][Si](C)(C)C(C)(C)C>>[C:1][OH:2]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "B11_tbs_deprotect_TBAF_retro": {
    "brief": "Substrates: SMARTS([C:1][OH:2]) -> Products: SMARTS([C:1][O:2][Si](C)(C)C(C)(C)C).",
    "category": "protection",
    "co_reactant_examples": [
      "TBAF/THF"
    ],
    "incompatible_groups": [
      "[Si]"
    ],
    "name": "TBS Deprotect TBAF (Retro, protection)",
    "note": "Substrates: SMARTS([C:1][OH:2]) -> Products: SMARTS([C:1][O:2][Si](C)(C)C(C)(C)C). Typical co-reactants/conditions: TBAF/THF. First-principles: protection/deprotection outcomes are governed by Lewis/Brønsted acidity/basicity, nucleophilicity, and leaving-group ability; acid-/base-labile motifs may be cleaved or rearranged under the same conditions. Incompatible_groups is used as a heuristic flag for motifs likely to be co-transformed, decomposed, or to inhibit the intended pathway under these conditions (SMARTS: [Si]).",
    "prereq": "[C:1][OH:2]",
    "rxn": "[C:1][OH:2]>>[C:1][O:2][Si](C)(C)C(C)(C)C",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "B12_boc_protect_amine": {
    "brief": "Substrates: SMARTS([NX3;H1,H2;+0:1]) -> Products: SMARTS([N:1]C(=O)O[C](C)(C)C).",
    "category": "protection",
    "co_reactant_examples": [
      "Boc2O/Et3N/DMAP"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2][#6]"
    ],
    "name": "Boc Protect Amine (Forward, protection)",
    "note": "Boc protection of primary/secondary amines using Boc2O/Et3N/DMAP. Does not protect amides, aromatic nitrogen, or nitro groups. Multiple free amines may compete for protection.",
    "prereq": "[NX3;H1,H2;+0:1]",
    "rxn": "[NX3;H1,H2;+0:1]>>[N:1]C(=O)O[C](C)(C)C",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "B12_boc_protect_amine_retro": {
    "brief": "Substrates: SMARTS([N:1]C(=O)O[C](C)(C)C) -> Products: SMARTS([N:1]).",
    "category": "protection",
    "co_reactant_examples": [
      "Boc2O/Et3N/DMAP"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2][#6]"
    ],
    "name": "Boc Protect Amine (Retro, protection)",
    "note": "Substrates: SMARTS([N:1]C(=O)O[C](C)(C)C) -> Products: SMARTS([N:1]). Typical co-reactants/conditions: Boc2O/Et3N/DMAP. First-principles: protection/deprotection outcomes are governed by Lewis/Brønsted acidity/basicity, nucleophilicity, and leaving-group ability; acid-/base-labile motifs may be cleaved or rearranged under the same conditions. Incompatible_groups is used as a heuristic flag for motifs likely to be co-transformed, decomposed, or to inhibit the intended pathway under these conditions (SMARTS: [NX3;H2,H1;+0]; [SX2][#6]).",
    "prereq": "[N:1]C(=O)O[C](C)(C)C",
    "rxn": "[N:1]C(=O)O[C](C)(C)C>>[N:1]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "B13_boc_deprotect_TFA": {
    "brief": "Substrates: SMARTS([N:1]C(=O)O[C](C)(C)C) -> Products: SMARTS([N:1]).",
    "category": "protection",
    "co_reactant_examples": [
      "TFA/DCM"
    ],
    "incompatible_groups": [
      "[CX4]([OX2][#6])([OX2][#6])",
      "[O][Si](C)(C)C"
    ],
    "name": "Boc Deprotect TFA (Forward, protection)",
    "note": "Substrates: SMARTS([N:1]C(=O)O[C](C)(C)C) -> Products: SMARTS([N:1]). Typical co-reactants/conditions: TFA/DCM. First-principles: protection/deprotection outcomes are governed by Lewis/Brønsted acidity/basicity, nucleophilicity, and leaving-group ability; acid-/base-labile motifs may be cleaved or rearranged under the same conditions. Incompatible_groups is used as a heuristic flag for motifs likely to be co-transformed, decomposed, or to inhibit the intended pathway under these conditions (SMARTS: [CX4]([OX2][#6])([OX2][#6]); [O][Si](C)(C)C).",
    "prereq": "[N:1]C(=O)O[C](C)(C)C",
    "rxn": "[N:1]C(=O)O[C](C)(C)C>>[N:1]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "B13_boc_deprotect_TFA_retro": {
    "brief": "Substrates: SMARTS([NX3;H1,H2;+0:1]) -> Products: SMARTS([N:1]C(=O)O[C](C)(C)C).",
    "category": "protection",
    "co_reactant_examples": [
      "TFA/DCM"
    ],
    "incompatible_groups": [
      "[CX4]([OX2][#6])([OX2][#6])",
      "[O][Si](C)(C)C"
    ],
    "name": "Boc Deprotect TFA (Retro, protection)",
    "note": "Retrosynthetic: free amine disconnects to N-Boc via TFA deprotection. Only applies to primary/secondary amines, not amides or aromatic nitrogen.",
    "prereq": "[NX3;H1,H2;+0:1]",
    "rxn": "[NX3;H1,H2;+0:1]>>[N:1]C(=O)O[C](C)(C)C",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "B14_acetal_protect_ethylene_glycol": {
    "brief": "Substrates: SMARTS([C:1](=[O:2])([#6,H])[#6,H]) -> Products: SMARTS([C:1]1([O:2]CCO1)).",
    "category": "protection",
    "co_reactant_examples": [
      "ethylene_glycol/p-TsOH"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2][#6]"
    ],
    "name": "Acetal Protect Ethylene Glycol (Forward, protection)",
    "note": "Ethylene glycol acetal protection of aldehydes/ketones under acid catalysis (p-TsOH). Does not apply to esters, amides, or carboxylic acids. Acid-labile groups may be affected.",
    "prereq": "[C:1](=[O:2])([#6,H])[#6,H]",
    "rxn": "[C:1](=[O:2])([#6,H])[#6,H]>>[C:1]1([O:2]CCO1)",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "B14_acetal_protect_ethylene_glycol_retro": {
    "brief": "Substrates: SMARTS([C:1]1([O:2]CCO1)) -> Products: SMARTS([C:1](=[O:2])).",
    "category": "protection",
    "co_reactant_examples": [
      "ethylene_glycol/p-TsOH"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2][#6]"
    ],
    "name": "Acetal Protect Ethylene Glycol (Retro, protection)",
    "note": "Substrates: SMARTS([C:1]1([O:2]CCO1)) -> Products: SMARTS([C:1](=[O:2])). Typical co-reactants/conditions: ethylene_glycol/p-TsOH. First-principles: protection/deprotection outcomes are governed by Lewis/Brønsted acidity/basicity, nucleophilicity, and leaving-group ability; acid-/base-labile motifs may be cleaved or rearranged under the same conditions. Incompatible_groups is used as a heuristic flag for motifs likely to be co-transformed, decomposed, or to inhibit the intended pathway under these conditions (SMARTS: [NX3;H2,H1;+0]; [SX2][#6]).",
    "prereq": "[C:1]1([O:2]CCO1)",
    "rxn": "[C:1]1([O:2]CCO1)>>[C:1](=[O:2])",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "B15_acetal_deprotect_hydrolysis": {
    "brief": "Substrates: SMARTS([C:1]1([O:2]CCO1)) -> Products: SMARTS([C:1](=[O:2])).",
    "category": "protection",
    "co_reactant_examples": [
      "HCl(aq)/THF"
    ],
    "incompatible_groups": [
      "C(=O)OC(C)(C)C",
      "[O][Si](C)(C)C"
    ],
    "name": "Acetal Deprotect Hydrolysis (Forward, protection)",
    "note": "Substrates: SMARTS([C:1]1([O:2]CCO1)) -> Products: SMARTS([C:1](=[O:2])). Typical co-reactants/conditions: HCl(aq)/THF. First-principles: protection/deprotection outcomes are governed by Lewis/Brønsted acidity/basicity, nucleophilicity, and leaving-group ability; acid-/base-labile motifs may be cleaved or rearranged under the same conditions. Incompatible_groups is used as a heuristic flag for motifs likely to be co-transformed, decomposed, or to inhibit the intended pathway under these conditions (SMARTS: C(=O)OC(C)(C)C; [O][Si](C)(C)C).",
    "prereq": "[C:1]1([O:2]CCO1)",
    "rxn": "[C:1]1([O:2]CCO1)>>[C:1](=[O:2])",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "B15_acetal_deprotect_hydrolysis_retro": {
    "brief": "Substrates: SMARTS([C:1](=[O:2])) -> Products: SMARTS([C:1]1([O:2]CCO1)).",
    "category": "protection",
    "co_reactant_examples": [
      "HCl(aq)/THF"
    ],
    "incompatible_groups": [
      "C(=O)OC(C)(C)C",
      "[O][Si](C)(C)C"
    ],
    "name": "Acetal Deprotect Hydrolysis (Retro, protection)",
    "note": "Substrates: SMARTS([C:1](=[O:2])) -> Products: SMARTS([C:1]1([O:2]CCO1)). Typical co-reactants/conditions: HCl(aq)/THF. First-principles: protection/deprotection outcomes are governed by Lewis/Brønsted acidity/basicity, nucleophilicity, and leaving-group ability; acid-/base-labile motifs may be cleaved or rearranged under the same conditions. Incompatible_groups is used as a heuristic flag for motifs likely to be co-transformed, decomposed, or to inhibit the intended pathway under these conditions (SMARTS: C(=O)OC(C)(C)C; [O][Si](C)(C)C).",
    "prereq": "[C:1](=[O:2])([#6,H])[#6,H]",
    "rxn": "[C:1](=[O:2])([#6,H])[#6,H]>>[C:1]1([O:2]CCO1)",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "B16_thp_protect": {
    "brief": "Substrates: SMARTS([C:1][OH:2]) -> Products: SMARTS([C:1][O:2]C1CCCCO1).",
    "category": "protection",
    "co_reactant_examples": [
      "DHP/p-TsOH"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2][#6]"
    ],
    "name": "Thp Protect (Forward, protection)",
    "note": "Substrates: SMARTS([C:1][OH:2]) -> Products: SMARTS([C:1][O:2]C1CCCCO1). Typical co-reactants/conditions: DHP/p-TsOH. First-principles: protection/deprotection outcomes are governed by Lewis/Brønsted acidity/basicity, nucleophilicity, and leaving-group ability; acid-/base-labile motifs may be cleaved or rearranged under the same conditions. Incompatible_groups is used as a heuristic flag for motifs likely to be co-transformed, decomposed, or to inhibit the intended pathway under these conditions (SMARTS: [NX3;H2,H1;+0]; [SX2][#6]).",
    "prereq": "[C:1][OH:2]",
    "rxn": "[C:1][OH:2]>>[C:1][O:2]C1CCCCO1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "B16_thp_protect_retro": {
    "brief": "Substrates: SMARTS([C:1][O:2]C1CCCCO1) -> Products: SMARTS([C:1][OH:2]).",
    "category": "protection",
    "co_reactant_examples": [
      "DHP/p-TsOH"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2][#6]"
    ],
    "name": "Thp Protect (Retro, protection)",
    "note": "Substrates: SMARTS([C:1][O:2]C1CCCCO1) -> Products: SMARTS([C:1][OH:2]). Typical co-reactants/conditions: DHP/p-TsOH. First-principles: protection/deprotection outcomes are governed by Lewis/Brønsted acidity/basicity, nucleophilicity, and leaving-group ability; acid-/base-labile motifs may be cleaved or rearranged under the same conditions. Incompatible_groups is used as a heuristic flag for motifs likely to be co-transformed, decomposed, or to inhibit the intended pathway under these conditions (SMARTS: [NX3;H2,H1;+0]; [SX2][#6]).",
    "prereq": "[C:1][O:2]C1CCCCO1",
    "rxn": "[C:1][O:2]C1CCCCO1>>[C:1][OH:2]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "B17_thp_deprotect": {
    "brief": "Substrates: SMARTS([C:1][O:2]C1CCCCO1) -> Products: SMARTS([C:1][OH:2]).",
    "category": "protection",
    "co_reactant_examples": [
      "p-TsOH/MeOH"
    ],
    "incompatible_groups": [
      "C(=O)OC(C)(C)C",
      "[O][Si](C)(C)C"
    ],
    "name": "Thp Deprotect (Forward, protection)",
    "note": "Substrates: SMARTS([C:1][O:2]C1CCCCO1) -> Products: SMARTS([C:1][OH:2]). Typical co-reactants/conditions: p-TsOH/MeOH. First-principles: protection/deprotection outcomes are governed by Lewis/Brønsted acidity/basicity, nucleophilicity, and leaving-group ability; acid-/base-labile motifs may be cleaved or rearranged under the same conditions. Incompatible_groups is used as a heuristic flag for motifs likely to be co-transformed, decomposed, or to inhibit the intended pathway under these conditions (SMARTS: C(=O)OC(C)(C)C; [O][Si](C)(C)C).",
    "prereq": "[C:1][O:2]C1CCCCO1",
    "rxn": "[C:1][O:2]C1CCCCO1>>[C:1][OH:2]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "B17_thp_deprotect_retro": {
    "brief": "Substrates: SMARTS([C:1][OH:2]) -> Products: SMARTS([C:1][O:2]C1CCCCO1).",
    "category": "protection",
    "co_reactant_examples": [
      "p-TsOH/MeOH"
    ],
    "incompatible_groups": [
      "C(=O)OC(C)(C)C",
      "[O][Si](C)(C)C"
    ],
    "name": "Thp Deprotect (Retro, protection)",
    "note": "Substrates: SMARTS([C:1][OH:2]) -> Products: SMARTS([C:1][O:2]C1CCCCO1). Typical co-reactants/conditions: p-TsOH/MeOH. First-principles: protection/deprotection outcomes are governed by Lewis/Brønsted acidity/basicity, nucleophilicity, and leaving-group ability; acid-/base-labile motifs may be cleaved or rearranged under the same conditions. Incompatible_groups is used as a heuristic flag for motifs likely to be co-transformed, decomposed, or to inhibit the intended pathway under these conditions (SMARTS: C(=O)OC(C)(C)C; [O][Si](C)(C)C).",
    "prereq": "[C:1][OH:2]",
    "rxn": "[C:1][OH:2]>>[C:1][O:2]C1CCCCO1",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "B18_benzyl_deprotect_hydrogenolysis": {
    "brief": "Substrates: SMARTS([C:1][O:2]Cc1ccccc1) -> Products: SMARTS([C:1][OH:2]).",
    "category": "protection",
    "co_reactant_examples": [
      "H2/Pd-C"
    ],
    "incompatible_groups": [
      "[NX3+](=O)[O-]",
      "[C]=[C]",
      "[C]#[C]"
    ],
    "name": "Benzyl Deprotect Hydrogenolysis (Forward, protection)",
    "note": "Substrates: SMARTS([C:1][O:2]Cc1ccccc1) -> Products: SMARTS([C:1][OH:2]). Typical co-reactants/conditions: H2/Pd-C. First-principles: protection/deprotection outcomes are governed by Lewis/Brønsted acidity/basicity, nucleophilicity, and leaving-group ability; acid-/base-labile motifs may be cleaved or rearranged under the same conditions. Incompatible_groups is used as a heuristic flag for motifs likely to be co-transformed, decomposed, or to inhibit the intended pathway under these conditions (SMARTS: [NX3+](=O)[O-]; [C]=[C]; [C]#[C]).",
    "prereq": "[C:1][O:2]Cc1ccccc1",
    "rxn": "[C:1][O:2]Cc1ccccc1>>[C:1][OH:2]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "B18_benzyl_deprotect_hydrogenolysis_retro": {
    "brief": "Substrates: SMARTS([C:1][OH:2]) -> Products: SMARTS([C:1][O:2]Cc1ccccc1).",
    "category": "protection",
    "co_reactant_examples": [
      "H2/Pd-C"
    ],
    "incompatible_groups": [
      "[NX3+](=O)[O-]",
      "[C]=[C]",
      "[C]#[C]"
    ],
    "name": "Benzyl Deprotect Hydrogenolysis (Retro, protection)",
    "note": "Substrates: SMARTS([C:1][OH:2]) -> Products: SMARTS([C:1][O:2]Cc1ccccc1). Typical co-reactants/conditions: H2/Pd-C. First-principles: protection/deprotection outcomes are governed by Lewis/Brønsted acidity/basicity, nucleophilicity, and leaving-group ability; acid-/base-labile motifs may be cleaved or rearranged under the same conditions. Incompatible_groups is used as a heuristic flag for motifs likely to be co-transformed, decomposed, or to inhibit the intended pathway under these conditions (SMARTS: [NX3+](=O)[O-]; [C]=[C]; [C]#[C]).",
    "prereq": "[C:1][OH:2]",
    "rxn": "[C:1][OH:2]>>[C:1][O:2]Cc1ccccc1",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "B19_pmb_deprotect_DDQ": {
    "brief": "Substrates: SMARTS([C:1][O:2]Cc1ccc(OC)cc1) -> Products: SMARTS([C:1][OH:2]).",
    "category": "protection",
    "co_reactant_examples": [
      "DDQ/DCM-H2O"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2][#6]"
    ],
    "name": "PMB Deprotect DDQ (Forward, protection)",
    "note": "Substrates: SMARTS([C:1][O:2]Cc1ccc(OC)cc1) -> Products: SMARTS([C:1][OH:2]). Typical co-reactants/conditions: DDQ/DCM-H2O. First-principles: protection/deprotection outcomes are governed by Lewis/Brønsted acidity/basicity, nucleophilicity, and leaving-group ability; acid-/base-labile motifs may be cleaved or rearranged under the same conditions. Incompatible_groups is used as a heuristic flag for motifs likely to be co-transformed, decomposed, or to inhibit the intended pathway under these conditions (SMARTS: [NX3;H2,H1;+0]; [SX2][#6]).",
    "prereq": "[C:1][O:2]Cc1ccc(OC)cc1",
    "rxn": "[C:1][O:2]Cc1ccc(OC)cc1>>[C:1][OH:2]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "B19_pmb_deprotect_DDQ_retro": {
    "brief": "Substrates: SMARTS([C:1][OH:2]) -> Products: SMARTS([C:1][O:2]Cc1ccc(OC)cc1).",
    "category": "protection",
    "co_reactant_examples": [
      "DDQ/DCM-H2O"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2][#6]"
    ],
    "name": "PMB Deprotect DDQ (Retro, protection)",
    "note": "Substrates: SMARTS([C:1][OH:2]) -> Products: SMARTS([C:1][O:2]Cc1ccc(OC)cc1). Typical co-reactants/conditions: DDQ/DCM-H2O. First-principles: protection/deprotection outcomes are governed by Lewis/Brønsted acidity/basicity, nucleophilicity, and leaving-group ability; acid-/base-labile motifs may be cleaved or rearranged under the same conditions. Incompatible_groups is used as a heuristic flag for motifs likely to be co-transformed, decomposed, or to inhibit the intended pathway under these conditions (SMARTS: [NX3;H2,H1;+0]; [SX2][#6]).",
    "prereq": "[C:1][OH:2]",
    "rxn": "[C:1][OH:2]>>[C:1][O:2]Cc1ccc(OC)cc1",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "B20_amine_salt_deprotect": {
    "brief": "Substrates: SMARTS([N+:1]([H])([H])[H]) -> Products: SMARTS([N:1]).",
    "category": "protection",
    "co_reactant_examples": [
      "Et3N",
      "NaHCO3(aq)"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2][#6]"
    ],
    "name": "Amine Salt Deprotect (Forward, protection)",
    "note": "Substrates: SMARTS([N+:1]([H])([H])[H]) -> Products: SMARTS([N:1]). Typical co-reactants/conditions: Et3N, NaHCO3(aq). First-principles: protection/deprotection outcomes are governed by Lewis/Brønsted acidity/basicity, nucleophilicity, and leaving-group ability; acid-/base-labile motifs may be cleaved or rearranged under the same conditions. Incompatible_groups is used as a heuristic flag for motifs likely to be co-transformed, decomposed, or to inhibit the intended pathway under these conditions (SMARTS: [NX3;H2,H1;+0]; [SX2][#6]).",
    "prereq": "[N+:1]([H])([H])[H]",
    "rxn": "[N+:1]([H])([H])[H]>>[N:1]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "B20_amine_salt_deprotect_retro": {
    "brief": "Substrates: SMARTS([NX3;H1,H2;+0;!$([N]c):1]) (aliphatic amine only) -> Products: SMARTS([N+:1]([H])([H])[H]).",
    "category": "protection",
    "co_reactant_examples": [
      "Et3N",
      "NaHCO3(aq)"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2][#6]"
    ],
    "name": "Amine Salt Deprotect (Retro, protection)",
    "note": "Retrosynthetic: free primary/secondary amine disconnects to ammonium salt via base-mediated deprotonation. Only applies to aliphatic amines with N-H, not amides, nitro, nitrile, aromatic nitrogen, or anilines. Prereq excludes N bonded to aromatic carbon (anilines are not typically handled as amine salts in retrosynthesis).",
    "prereq": "[NX3;H1,H2;+0;!$([NX3]c);!$([NX3][CX3]=[O,N,S]):1]",
    "rxn": "[NX3;H1,H2;+0:1]>>[N+:1]([H])([H])[H]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "B31_spiroacetalization_protect": {
    "brief": "Acid-catalyzed formation of a spiroacetal/spiroketal from a carbonyl compound and two alcohol fragments (diol equivalents). Encodes the net acetalization that creates a spiro (R2) acetal center.",
    "category": "protection",
    "co_reactant_examples": [
      "p-TsOH (cat.)",
      "BF3·OEt2 (cat.)",
      "Amberlyst-15",
      "Dean–Stark/toluene"
    ],
    "incompatible_groups": [
      "[O][Si](C)(C)C",
      "C(=O)OC(C)(C)C",
      "[CX3](=O)Cl"
    ],
    "name": "Spiroacetal/Ketal Formation (Forward, protection)",
    "note": "Spiroacetal/spiroketal formation is an acid-catalyzed equilibrium (carbonyl + diol → acetal + water). First-principles: protonation/Lewis-acid activation increases carbonyl electrophilicity, enabling sequential nucleophilic addition of alcohol oxygens; loss of water and capture by a second alcohol gives the acetal. Spiro centers (ring membership R2) can show diastereoselectivity (e.g., anomeric effect), so treat stereo as a mixture unless additional stereochemical control is modeled. Incompatible_groups flags acid-labile motifs (silyl ethers, Boc/tBu-type groups, acid chlorides).",
    "prereq": "[C:1](=[O:8])([#6:6])[#6:7].[O;H1:2][#6:3].[O;H1:4][#6:5]",
    "rxn": "[C:1](=[O:8])([#6:6])[#6:7].[O;H1:2][#6:3].[O;H1:4][#6:5]>>[C;R2:1]([O;R:2][#6:3])([O;R:4][#6:5])([#6:6])[#6:7]",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "B31_spiroacetalization_protect_retro": {
    "brief": "Retro-acetal hydrolysis: a spiroacetal/spiroketal can be disconnected to a carbonyl compound plus two alcohol fragments (diol equivalents). Represents acid-catalyzed hydrolysis in the forward direction.",
    "category": "protection",
    "co_reactant_examples": [
      "aq HCl",
      "p-TsOH/H2O",
      "AcOH/H2O"
    ],
    "incompatible_groups": [
      "[O][Si](C)(C)C",
      "C(=O)OC(C)(C)C",
      "[CX3](=O)Cl"
    ],
    "name": "Spiroacetal/Ketal Hydrolysis Disconnection (Retro, protection)",
    "note": "Retrosynthetic disconnection for spiroacetals/spiroketals: trace the acetal center back to a carbonyl precursor and alcohol/diol fragments, since acid-catalyzed hydrolysis cleaves C–O acetal bonds and regenerates the carbonyl. First-principles: acetal stability is lowered by protonation, making C–O bonds labile to nucleophilic water attack. Forward hydrolysis/formation is reversible; use this template as a connectivity-level disconnection and treat stereo as a mixture.",
    "prereq": "[C;R2:1]([O;R:2][#6:3])([O;R:4][#6:5])([#6:6])[#6:7]",
    "rxn": "[C;R2:1]([O;R:2][#6:3])([O;R:4][#6:5])([#6:6])[#6:7]>>[C:1](=[O:8])([#6:6])[#6:7].[O;H1:2][#6:3].[O;H1:4][#6:5]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "C01_aldol": {
    "brief": "Substrates: SMARTS([C:1](=[O:2])) + SMARTS([CH3:3][C:4](=[O:5])) -> Products: SMARTS([C:1]([OH:2])[CH2:3][C:4](=[O:5])).",
    "category": "cc_formation",
    "co_reactant_examples": [
      "LDA/THF/-78C_then_RCHO",
      "NaOH/H2O",
      "BF3_Et2O"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Aldol (Forward, cc formation)",
    "note": "Substrates: SMARTS([C:1](=[O:2])) + SMARTS([CH3:3][C:4](=[O:5])) -> Products: SMARTS([C:1]([OH:2])[CH2:3][C:4](=[O:5])). Typical co-reactants/conditions: LDA/THF/-78C_then_RCHO, NaOH/H2O, BF3_Et2O. First-principles: C–C bond formation here relies on nucleophile–electrophile pairing or organometallic catalytic cycles; strongly coordinating/soft nucleophiles (e.g., thiols, phosphines, some amines) can quench or poison catalysts, and competing electrophiles may react. Incompatible_groups is used as a heuristic flag for motifs likely to be co-transformed, decomposed, or to inhibit the intended pathway under these conditions (SMARTS: [NX3;H2,H1;+0]; [OX2H]).",
    "prereq": "[C:1](=[O:2]).[CH3:3][C:4](=[O:5])",
    "rxn": "[C:1](=[O:2]).[CH3:3][C:4](=[O:5])>>[C:1]([OH:2])[CH2:3][C:4](=[O:5])",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "C01_aldol_retro": {
    "brief": "Retro-aldol: β-hydroxy carbonyl disconnected to two carbonyl compounds. Forward: enolate of one carbonyl attacks another. LDA/THF at -78°C for kinetic control.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "LDA/THF/-78C_then_RCHO",
      "NaOH/H2O(base-catalyzed)",
      "BF3·Et2O(Lewis_acid)"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Aldol Condensation (Retro, cc formation)",
    "note": "Aldol reaction creates β-hydroxy carbonyl with up to two new stereocenters. Racemic without chiral auxiliary/catalyst. Evans oxazolidinone or Zimmerman-Traxler model controls diastereoselectivity (syn vs anti). Retro-aldol is the key disconnection for 1,3-oxygenated patterns.",
    "prereq": "[C:1]([OH:2])[CH2:3][C:4](=[O:5])",
    "rxn": "[C:1]([OH:2])[CH2:3][C:4](=[O:5])>>[C:1](=[O:2]).[CH3:3][C:4](=[O:5])",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "C02_claisen_condensation": {
    "brief": "Substrates: SMARTS([C:1](=[O:2])C) + SMARTS([CH3:3][C:4](=[O:5])[O:6][#6:7]) -> Products: SMARTS([C:1](=[O:2])[CH2:3][C:4](=[O:5])[O:6][#6:7]).",
    "category": "cc_formation",
    "co_reactant_examples": [
      "NaOEt/EtOH",
      "LDA/THF"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Claisen Condensation (Forward, cc formation)",
    "note": "Substrates: SMARTS([C:1](=[O:2])C) + SMARTS([CH3:3][C:4](=[O:5])[O:6][#6:7]) -> Products: SMARTS([C:1](=[O:2])[CH2:3][C:4](=[O:5])[O:6][#6:7]). Typical co-reactants/conditions: NaOEt/EtOH, LDA/THF. First-principles: C–C bond formation here relies on nucleophile–electrophile pairing or organometallic catalytic cycles; strongly coordinating/soft nucleophiles (e.g., thiols, phosphines, some amines) can quench or poison catalysts, and competing electrophiles may react. Incompatible_groups is used as a heuristic flag for motifs likely to be co-transformed, decomposed, or to inhibit the intended pathway under these conditions (SMARTS: [NX3;H2,H1;+0]; [OX2H]).",
    "prereq": "[C:1](=[O:2])C.[CH3:3][C:4](=[O:5])[O:6][#6:7]",
    "rxn": "[C:1](=[O:2])C.[CH3:3][C:4](=[O:5])[O:6][#6:7]>>[C:1](=[O:2])[CH2:3][C:4](=[O:5])[O:6][#6:7]",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "C02_claisen_condensation_retro": {
    "brief": "Substrates: SMARTS([C:1](=[O:2])[CH2:3][C:4](=[O:5])[O:6][#6:7]) -> Products: SMARTS([C:1](=[O:2])C) + SMARTS([CH3:3][C:4](=[O:5])[O:6][#6:7]).",
    "category": "cc_formation",
    "co_reactant_examples": [
      "NaOEt/EtOH",
      "LDA/THF"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Claisen Condensation (Retro, cc formation)",
    "note": "Substrates: SMARTS([C:1](=[O:2])[CH2:3][C:4](=[O:5])[O:6][#6:7]) -> Products: SMARTS([C:1](=[O:2])C) + SMARTS([CH3:3][C:4](=[O:5])[O:6][#6:7]). Typical co-reactants/conditions: NaOEt/EtOH, LDA/THF. First-principles: C–C bond formation here relies on nucleophile–electrophile pairing or organometallic catalytic cycles; strongly coordinating/soft nucleophiles (e.g., thiols, phosphines, some amines) can quench or poison catalysts, and competing electrophiles may react. Incompatible_groups is used as a heuristic flag for motifs likely to be co-transformed, decomposed, or to inhibit the intended pathway under these conditions (SMARTS: [NX3;H2,H1;+0]; [OX2H]).",
    "prereq": "[C:1](=[O:2])[CH2:3][C:4](=[O:5])[O:6][#6:7]",
    "rxn": "[C:1](=[O:2])[CH2:3][C:4](=[O:5])[O:6][#6:7]>>[C:1](=[O:2])C.[CH3:3][C:4](=[O:5])[O:6][#6:7]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "C03_wittig": {
    "brief": "Substrates: SMARTS([#6:1][C:2]=[O]) + SMARTS([#6:4][C:3]=[O]) -> Products: SMARTS([#6:1][C:2]=[C:3][#6:4]).",
    "category": "cc_formation",
    "co_reactant_examples": [
      "C=O",
      "ylide_or_phosphonate_base"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Wittig (Forward, cc formation)",
    "note": "Substrates: SMARTS([#6:1][C:2]=[O]) + SMARTS([#6:4][C:3]=[O]) -> Products: SMARTS([#6:1][C:2]=[C:3][#6:4]). Typical co-reactants/conditions: C=O, ylide_or_phosphonate_base. First-principles: C–C bond formation here relies on nucleophile–electrophile pairing or organometallic catalytic cycles; strongly coordinating/soft nucleophiles (e.g., thiols, phosphines, some amines) can quench or poison catalysts, and competing electrophiles may react. Incompatible_groups is used as a heuristic flag for motifs likely to be co-transformed, decomposed, or to inhibit the intended pathway under these conditions (SMARTS: [NX3;H2,H1;+0]; [OX2H]).",
    "prereq": "[#6:1][C:2]=[O].[#6:4][C:3]=[O]",
    "rxn": "[#6:1][C:2]=[O].[#6:4][C:3]=[O]>>[#6:1][C:2]=[C:3][#6:4]",
    "stereo_policy": "diastereoselective",
    "type": "forward",
    "stereo_detail": "Z (cis) alkene favored"
  },
  "C03_wittig_retro": {
    "brief": "Retro-Wittig disconnection: alkene cleaved at C=C to give aldehyde/ketone + aldehyde/ketone (representing the ylide precursor). Forward: aldehyde + phosphonium ylide → alkene + Ph3P=O.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "Ph3P=CHR(ylide)",
      "RCHO(aldehyde)"
    ],
    "incompatible_groups": [
      "[OX2H]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Wittig (Retro, cc formation)",
    "note": "Retro-Wittig: both fragments shown as C=O for retrosynthetic simplicity (one represents the ylide precursor). Forward Wittig with unstabilized ylides favors Z-alkene. Stabilized ylides (with EWG) favor E-alkene. HWE variant gives predominantly E-alkene.",
    "prereq": "[#6:1][C:2]=[C:3][#6:4]",
    "rxn": "[#6:1][C:2]=[C:3][#6:4]>>[#6:1][C:2]=[O].[#6:4][C:3]=[O]",
    "stereo_policy": "diastereoselective",
    "type": "retro",
    "stereo_detail": "Z (cis) alkene favored"
  },
  "C04_grignard": {
    "brief": "Substrates: SMARTS([#6:1][C:2](=[O:3])[#6:4]) + SMARTS([#6:5][Mg]Br) -> Products: SMARTS([#6:1][C:2]([OH:3])([#6:4])[#6:5]).",
    "category": "cc_formation",
    "co_reactant_examples": [
      "C=O",
      "[Mg]Br_or_[Zn]X"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]",
      "[SX2H]",
      "[CX3](=[OX1])[OX2H1]",
      "[CX2]#[CX2H]"
    ],
    "name": "Grignard (Forward, cc formation)",
    "note": "Substrates: SMARTS([#6:1][C:2](=[O:3])[#6:4]) + SMARTS([#6:5][Mg]Br) -> Products: SMARTS([#6:1][C:2]([OH:3])([#6:4])[#6:5]). Typical co-reactants/conditions: C=O, [Mg]Br_or_[Zn]X. First-principles: C–C bond formation here relies on nucleophile–electrophile pairing or organometallic catalytic cycles; strongly coordinating/soft nucleophiles (e.g., thiols, phosphines, some amines) can quench or poison catalysts, and competing electrophiles may react. Incompatible_groups is used as a heuristic flag for motifs likely to be co-transformed, decomposed, or to inhibit the intended pathway under these conditions (SMARTS: [NX3;H2,H1;+0]; [OX2H]).",
    "prereq": "[#6:1][C:2](=[O:3])[#6:4].[#6:5][Mg]Br",
    "rxn": "[#6:1][C:2](=[O:3])[#6:4].[#6:5][Mg]Br>>[#6:1][C:2]([OH:3])([#6:4])[#6:5]",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "C04_grignard_retro": {
    "brief": "Retro-Grignard: tertiary alcohol disconnected to ketone + Grignard reagent (RMgBr). Forward: nucleophilic addition of RMgBr to C=O, then aqueous workup.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "RMgBr/THF_then_H3O+",
      "RMgCl/Et2O_then_NH4Cl(aq)"
    ],
    "incompatible_groups": [
      "[OX2H]",
      "[NX3;H2,H1;+0]",
      "[CX3](=[OX1])[OX2]",
      "[CX3](=[OX1])Cl",
      "[CX2]#N"
    ],
    "name": "Grignard Addition (Retro, cc formation)",
    "note": "Grignard reagents are strong nucleophiles and strong bases. Incompatible with protic groups (OH, NH, SH), esters (double addition), acid chlorides, nitriles, epoxides (ring opening). Must use anhydrous conditions. Produces racemic tertiary alcohol from prochiral ketone.",
    "prereq": "[#6:1][C:2]([OH:3])([#6:4])[#6:5]",
    "rxn": "[#6:1][C:2]([OH:3])([#6:4])[#6:5]>>[#6:1][C:2](=[O:3])[#6:4].[#6:5][Mg]Br",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "C05_friedel_crafts_acyl_retro": {
    "brief": "Retro-FC acylation: aryl ketone disconnected to arene + acyl chloride. Forward: Lewis acid (AlCl3) catalyzed electrophilic aromatic substitution.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "RCOCl/AlCl3",
      "(RCO)2O/AlCl3"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[N+](=O)[O-]"
    ],
    "name": "Friedel-Crafts Acylation (Retro, cc formation)",
    "note": "FC acylation: requires >1 equiv AlCl3 (product ketone complexes AlCl3). No rearrangement (unlike FC alkylation). Deactivated rings (nitro, multiple halogens) do not react. Free amines complex with AlCl3. Product is aryl ketone, no stereocenter.",
    "prereq": "[c:1]!@[C:2](=[O:3])[#6:4]",
    "rxn": "[c:1]!@[C:2](=[O:3])[#6:4]>>[cH:1].[Cl][C:2](=[O:3])[#6:4]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "C06_friedel_crafts_alkyl_retro": {
    "brief": "Retro-FC alkylation: aryl-alkyl bond disconnected to arene + alkyl halide. Forward: Lewis acid catalyzed, prone to carbocation rearrangement and polyalkylation.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "RCl/AlCl3",
      "RBr/AlCl3"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[N+](=O)[O-]",
      "[CX3](=[OX1])[#6]"
    ],
    "name": "Friedel-Crafts Alkylation (Retro, cc formation)",
    "note": "FC alkylation: carbocation intermediate prone to rearrangement (1° → 2° → 3°). Product is more activated than starting material → polyalkylation common. Deactivated rings unreactive. Free amines complex AlCl3. Ketones on ring deactivate toward further FC alkylation.",
    "prereq": "[c:1]!@[CX4:2]([#6:3])([#6:4])",
    "rxn": "[c:1]!@[CX4:2]([#6:3])([#6:4])>>[cH:1].[Cl][CX4:2]([#6:3])([#6:4])",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "C07_heck": {
    "brief": "Substrates: SMARTS([c:1][Br]) + SMARTS([C:2]=[C:3]) -> Products: SMARTS([c:1][C:2]=[C:3]).",
    "category": "cc_formation",
    "co_reactant_examples": [
      "C=C",
      "[Pd]",
      "base"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Heck (Forward, cc formation)",
    "note": "Substrates: SMARTS([c:1][Br]) + SMARTS([C:2]=[C:3]) -> Products: SMARTS([c:1][C:2]=[C:3]). Typical co-reactants/conditions: C=C, [Pd], base. First-principles: C–C bond formation here relies on nucleophile–electrophile pairing or organometallic catalytic cycles; strongly coordinating/soft nucleophiles (e.g., thiols, phosphines, some amines) can quench or poison catalysts, and competing electrophiles may react. Incompatible_groups is used as a heuristic flag for motifs likely to be co-transformed, decomposed, or to inhibit the intended pathway under these conditions (SMARTS: [NX3;H2,H1;+0]; [OX2H]).",
    "prereq": "[c:1][Br].[C:2]=[C:3]",
    "rxn": "[c:1][Br].[C:2]=[C:3]>>[c:1][C:2]=[C:3]",
    "stereo_policy": "diastereoselective",
    "type": "forward",
    "stereo_detail": "E (trans) alkene favored"
  },
  "C07_heck_retro": {
    "brief": "Retro-Heck: aryl-vinyl bond disconnected to aryl halide + alkene. Forward: Pd(0)-catalyzed coupling, β-hydride elimination gives E-alkene preferentially.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "Pd(OAc)2/PPh3/Et3N",
      "Pd(dba)2/P(o-tol)3/Et3N"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Heck Reaction (Retro, cc formation)",
    "note": "Heck reaction: Pd(0) catalyzed, requires base (Et3N, K2CO3). β-Hydride elimination step gives predominantly E-alkene (trans). Intramolecular Heck is powerful for ring formation. Free thiols poison Pd catalyst.",
    "prereq": "[c:1]!@[C:2]=[C:3]",
    "rxn": "[c:1]!@[C:2]=[C:3]>>[c:1][Br].[C:2]=[C:3]",
    "stereo_policy": "diastereoselective",
    "type": "retro",
    "stereo_detail": "E (trans) alkene favored"
  },
  "C08_suzuki_retro": {
    "brief": "Retro-Suzuki: biaryl C-C bond disconnected to aryl halide + aryl boronic acid. Forward: Pd(0)-catalyzed cross-coupling.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "ArB(OH)2",
      "Pd(PPh3)4/base",
      "Pd(dppf)Cl2/K2CO3"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Suzuki Coupling (Retro, cc formation)",
    "note": "Suzuki coupling: Pd(0) catalyst, base required for transmetalation. Tolerates many functional groups (esters, amines, ethers). Free thiols poison Pd. Biaryl product has no sp3 stereocenter; axial chirality only in special ortho-substituted cases.",
    "prereq": "[c:1]!@[c:2]",
    "rxn": "[c:1]!@[c:2]>>[c:1]Br.[c:2]B(O)O",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "C09_sonogashira_retro": {
    "brief": "Retro-Sonogashira: aryl-alkyne bond disconnected to aryl halide + terminal alkyne. Forward: Pd/Cu co-catalyzed coupling.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "RC≡CH",
      "Pd(PPh3)2Cl2/CuI/Et3N"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Sonogashira Coupling (Retro, cc formation)",
    "note": "Sonogashira: Pd(0)/Cu(I) co-catalysis with amine base. Terminal alkyne required (C≡C-H). Product is internal alkyne with sp-carbons, no stereocenter. Free thiols poison Pd catalyst.",
    "prereq": "[c:1]!@[C:2]#[C:3]",
    "rxn": "[c:1]!@[C:2]#[C:3]>>[c:1]Br.[CH:2]#[C:3]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "C10_stille_retro": {
    "brief": "Retro-Stille: biaryl bond disconnected to aryl halide + aryl stannane. Forward: Pd(0)-catalyzed coupling with organostannane.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "ArSnBu3",
      "Pd(PPh3)4",
      "Pd2(dba)3/AsPh3"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Stille Coupling (Retro, cc formation)",
    "note": "Stille coupling: Pd(0) catalyzed, no base required (unlike Suzuki). Very functional group tolerant. Organostannanes are toxic but stable. Biaryl product has no sp3 stereocenter. Free thiols poison Pd.",
    "prereq": "[c:1]!@[c:2]",
    "rxn": "[c:1]!@[c:2]>>[c:1]Br.[c:2][Sn](C)(C)C",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "C11_negishi_retro": {
    "brief": "Retro-Negishi: aryl-C bond disconnected to aryl halide + organozinc reagent. Forward: Pd(0)-catalyzed coupling with high functional group tolerance.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "RZnCl",
      "Pd(PPh3)4",
      "Pd(dba)2/dppf"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[OX2H]"
    ],
    "name": "Negishi Coupling (Retro, cc formation)",
    "note": "Negishi coupling: Pd(0) catalyzed with organozinc reagents. Better functional group tolerance than Kumada (Grignard). Organozinc reagents tolerate esters, nitriles, some ketones. Free thiols and protic groups (OH, NH) can interfere.",
    "prereq": "[c:1]!@[#6:2]",
    "rxn": "[c:1]!@[#6:2]>>[c:1]Br.[#6:2][Zn]Cl",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "C12_kumada_retro": {
    "brief": "Retro-Kumada: aryl-C bond disconnected to aryl halide + Grignard reagent. Forward: Ni(0) or Pd(0)-catalyzed coupling.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "RMgBr",
      "NiCl2(dppf)",
      "Pd(dppf)Cl2"
    ],
    "incompatible_groups": [
      "[OX2H]",
      "[NX3;H2,H1;+0]",
      "[CX3](=[OX1])[OX2]",
      "[CX3](=[OX1])Cl",
      "[CX2]#N"
    ],
    "name": "Kumada Coupling (Retro, cc formation)",
    "note": "Kumada coupling: Ni(0) or Pd(0) catalyzed with Grignard reagents. Grignard reagents are highly reactive and incompatible with protic groups (OH, NH), esters, nitriles, acid chlorides, ketones. Limited functional group tolerance compared to Suzuki/Negishi.",
    "prereq": "[c:1]!@[#6:2]",
    "rxn": "[c:1]!@[#6:2]>>[c:1]Br.[#6:2][Mg]Br",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "C13_michael_addition": {
    "brief": "Conjugate (1,4-) addition of stabilized nucleophile to α,β-unsaturated carbonyl. Creates C-C bond at β-position of enone.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "NaOEt/EtOH",
      "DBU/THF",
      "LDA/THF/-78C"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Michael Addition (Forward, cc formation)",
    "note": "Michael addition: nucleophile adds to β-carbon of enone via 1,4-conjugate addition. Stabilized nucleophiles (malonates, β-ketoesters, nitroalkanes) preferred. Base-catalyzed. Competes with 1,2-addition (direct carbonyl attack) for hard nucleophiles. Racemic at new stereocenter.",
    "prereq": "[#6:1][CH:2]=[CH:3][C:4](=[O:5])",
    "rxn": "[#6:1][CH:2]=[CH:3][C:4](=[O:5])>>[#6:1][CH2:2][CH2:3][C:4](=[O:5])",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "C13_michael_addition_retro": {
    "brief": "Retro-Michael: 1,5-dicarbonyl or saturated carbonyl disconnected to enone + stabilized nucleophile. Forward: conjugate (1,4-) addition of enolate/malonate to α,β-unsaturated carbonyl.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "NaOEt/EtOH",
      "DBU/THF",
      "LDA/THF/-78C"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Michael Addition (Retro, cc formation)",
    "note": "Michael addition is 1,4-conjugate addition of stabilized carbanion (malonate, enolate, nitroalkane) to enone. Base-catalyzed (NaOEt, DBU, LDA). Creates new C-C bond at β-position. Racemic at new sp3 center. Free amines may undergo aza-Michael as side reaction. Protic OH groups may interfere with enolate formation.",
    "prereq": "[#6:1][CH2:2][CH2:3][C:4](=[O:5])",
    "rxn": "[#6:1][CH2:2][CH2:3][C:4](=[O:5])>>[#6:1][CH:2]=[CH:3][C:4](=[O:5])",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "C14_mannich": {
    "brief": "Three-component Mannich: amine + formaldehyde + enolizable ketone condense to form β-amino carbonyl (Mannich base). Acid-catalyzed, proceeds via iminium ion.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "CH2O/R2NH/AcOH",
      "HCHO/morpholine/AcOH"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Mannich (Forward, cc formation)",
    "note": "Mannich reaction: acid-catalyzed condensation. Amine + aldehyde → iminium ion, then enol of ketone attacks iminium. Creates β-amino carbonyl. Racemic. Widely used in alkaloid synthesis. Protic solvents (EtOH, H2O) tolerated. Acid chlorides incompatible.",
    "prereq": "[NH:1][#6:6].[CH2:2]=[O].[C:3](=[O:4])[#6:5]",
    "rxn": "[NH:1][#6:6].[CH2:2]=[O].[C:3](=[O:4])[#6:5]>>[N:1]([#6:6])[CH2:2][C:3](=[O:4])[#6:5]",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "C14_mannich_retro": {
    "brief": "Retro-Mannich: β-amino carbonyl disconnected to amine + formaldehyde + enolizable ketone. Forward: three-component condensation forming aminomethyl C-C bond.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "CH2O/R2NH/AcOH",
      "HCHO/morpholine/AcOH"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Mannich (Retro, cc formation)",
    "note": "Mannich reaction: three-component condensation of aldehyde (usually CH2O), amine, and enolizable ketone. Proceeds via iminium ion electrophile attacked by enol. Acid-catalyzed. Creates β-amino carbonyl (Mannich base). Racemic. Protic OH groups tolerated but may compete as nucleophile.",
    "prereq": "[N:1]([#6:6])[CH2:2][C:3](=[O:4])[#6:5]",
    "rxn": "[N:1]([#6:6])[CH2:2][C:3](=[O:4])[#6:5]>>[NH:1][#6:6].[CH2:2]=[O].[C:3](=[O:4])[#6:5]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "C15_henry_nitroaldol": {
    "brief": "Henry (nitroaldol): base-catalyzed addition of nitroalkane to aldehyde/ketone giving β-nitro alcohol. Nitro group activates α-CH (pKa ~17).",
    "category": "cc_formation",
    "co_reactant_examples": [
      "CH3NO2/NaOH",
      "CH3NO2/DBU/THF",
      "CH3NO2/Cu(OAc)2/chiral_BOX"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Henry Nitroaldol (Forward, cc formation)",
    "note": "Henry reaction: mild base (NaOH, K2CO3, DBU) deprotonates nitroalkane, carbanion attacks carbonyl. Product β-nitro alcohol useful for further transformations (Nef → ketone, reduction → amino alcohol). Racemic without chiral catalyst. Cu(OAc)2/BOX ligand for asymmetric variant.",
    "prereq": "[C:1](=[O:2]).[C:3][N+:4](=[O:5])[O-:6]",
    "rxn": "[C:1](=[O:2]).[C:3][N+:4](=[O:5])[O-:6]>>[C:1]([OH:2])[C:3][N+:4](=[O:5])[O-:6]",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "C15_henry_nitroaldol_retro": {
    "brief": "Retro-Henry: β-hydroxy nitro compound disconnected to aldehyde/ketone + nitroalkane. Forward: base-catalyzed addition of nitroalkane to carbonyl.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "CH3NO2/NaOH",
      "CH3NO2/DBU/THF",
      "CH3NO2/Cu(OAc)2/chiral_BOX(asymmetric)"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Henry Nitroaldol (Retro, cc formation)",
    "note": "Henry (nitroaldol) reaction: base-catalyzed addition of nitroalkane (pKa ~17) to aldehyde or ketone. Mild bases (NaOH, K2CO3, DBU) sufficient. Product β-nitro alcohol can be dehydrated to nitroalkene or reduced (Nef reaction). Racemic without chiral catalyst. Acid chlorides incompatible with base.",
    "prereq": "[C:1]([OH:2])[C:3][N+:4](=[O:5])[O-:6]",
    "rxn": "[C:1]([OH:2])[C:3][N+:4](=[O:5])[O-:6]>>[C:1](=[O:2]).[C:3][N+:4](=[O:5])[O-:6]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "C16_reformatsky": {
    "brief": "Reformatsky: Zn-mediated addition of α-bromo ester to aldehyde/ketone giving β-hydroxy ester. Milder than Grignard, tolerates esters.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "BrCH2CO2Et/Zn/THF",
      "BrCH2CO2Et/Zn-Cu/benzene"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Reformatsky (Forward, cc formation)",
    "note": "Reformatsky reaction: Zn inserts into C-Br bond of α-bromo ester forming organozinc enolate. Less basic than Grignard, tolerates ester groups in substrate. Requires activated Zn. Product β-hydroxy ester is useful synthetic intermediate. Racemic.",
    "prereq": "[C:1](=[O:2]).[CH2:3]([Br])[C:4](=[O:5])[O:6][#6:7]",
    "rxn": "[C:1](=[O:2]).[CH2:3]([Br])[C:4](=[O:5])[O:6][#6:7]>>[C:1]([OH:2])[CH2:3][C:4](=[O:5])[O:6][#6:7]",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "C16_reformatsky_retro": {
    "brief": "Retro-Reformatsky: β-hydroxy ester disconnected to aldehyde/ketone + α-bromo ester. Forward: Zn-mediated addition of α-bromo ester enolate to carbonyl.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "BrCH2CO2Et/Zn/THF",
      "BrCH2CO2Et/Zn-Cu/benzene"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Reformatsky (Retro, cc formation)",
    "note": "Reformatsky reaction: Zn inserts into C-Br bond of α-bromo ester to form organozinc enolate, which adds to aldehyde/ketone. Milder than Grignard (tolerates esters, some protic groups). Requires activated Zn (Rieke Zn or Zn-Cu couple). Racemic at new stereocenter.",
    "prereq": "[C:1]([OH:2])[CH2:3][C:4](=[O:5])[O:6][#6:7]",
    "rxn": "[C:1]([OH:2])[CH2:3][C:4](=[O:5])[O:6][#6:7]>>[C:1](=[O:2]).[CH2:3]([Br])[C:4](=[O:5])[O:6][#6:7]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "C17_knoevenagel": {
    "brief": "Knoevenagel condensation: amine-catalyzed condensation of aldehyde with active methylene compound (malonate, cyanoacetate) giving α,β-unsaturated dicarbonyl with dehydration.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "piperidine/AcOH/EtOH",
      "pyridine/AcOH",
      "NH4OAc/EtOH"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Knoevenagel (Forward, cc formation)",
    "note": "Knoevenagel: piperidine or pyridine catalyzes condensation. Active methylene (pKa ~13 for malonate) deprotonated, attacks aldehyde, then dehydration. E-alkene thermodynamically favored. No metal required. Protic solvents tolerated. Acid chlorides incompatible. Ketones react sluggishly; this template targets aldehydes. Free primary amines may compete by forming imines with the aldehyde.",
    "prereq": "[#6:1][CH1:2]=O.[CH2:3]([C:4](=[O:5]))[C:6](=[O:7])",
    "rxn": "[#6:1][CH1:2]=O.[CH2:3]([C:4](=[O:5]))[C:6](=[O:7])>>[#6:1][C:2]=[C:3]([C:4](=[O:5]))[C:6](=[O:7])",
    "stereo_policy": "diastereoselective",
    "type": "forward",
    "stereo_detail": "E (trans) alkene favored"
  },
  "C17_knoevenagel_retro": {
    "brief": "Retro-Knoevenagel: α,β-unsaturated dicarbonyl disconnected to aldehyde + active methylene compound. Forward: amine-catalyzed condensation with dehydration.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "piperidine/AcOH/EtOH",
      "pyridine/AcOH",
      "NH4OAc/EtOH"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Knoevenagel (Retro, cc formation)",
    "note": "Knoevenagel condensation: amine-catalyzed (piperidine, pyridine) condensation of aldehyde with active methylene compound (malonate, cyanoacetate, β-ketoester). Dehydration gives α,β-unsaturated product. E-alkene favored (thermodynamic). No metal required. Protic solvents tolerated.",
    "prereq": "[#6:1][C:2]=[C:3]([C:4](=[O:5]))[C:6](=[O:7])",
    "rxn": "[#6:1][C:2]=[C:3]([C:4](=[O:5]))[C:6](=[O:7])>>[#6:1][C:2]=[O].[CH2:3]([C:4](=[O:5]))[C:6](=[O:7])",
    "stereo_policy": "diastereoselective",
    "type": "retro",
    "stereo_detail": "E (trans) alkene favored"
  },
  "C18_horner_wadsworth_emmons": {
    "brief": "HWE olefination: phosphonate carbanion reacts with aldehyde to give α,β-unsaturated ester. Strongly E-selective. Water-soluble phosphate byproduct.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "(EtO)2P(O)CH2CO2Et/NaH/THF",
      "(EtO)2P(O)CH2CO2Et/LDA/THF",
      "Still-Gennari:(CF3CH2O)2P(O)CH2CO2R/KHMDS/18-crown-6"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Horner Wadsworth Emmons (Forward, cc formation)",
    "note": "HWE: base (NaH, LDA, KHMDS) deprotonates phosphonate ester, carbanion attacks aldehyde. Betaine intermediate eliminates to give E-alkene + dialkyl phosphate (water-soluble, easy removal). Still-Gennari modification gives Z-selectivity. More E-selective than Wittig. Ketones react sluggishly; this template targets aldehydes.",
    "prereq": "[#6:1][CH1:2]=O.[C:3]([P](=O)(OC)OC)[C:4](=[O:5])[O:6][#6:7]",
    "rxn": "[#6:1][CH1:2]=O.[C:3]([P](=O)(OC)OC)[C:4](=[O:5])[O:6][#6:7]>>[#6:1][C:2]=[C:3][C:4](=[O:5])[O:6][#6:7]",
    "stereo_policy": "diastereoselective",
    "type": "forward",
    "stereo_detail": "E (trans) alkene favored"
  },
  "C18_horner_wadsworth_emmons_retro": {
    "brief": "Retro-HWE: α,β-unsaturated ester disconnected to aldehyde + phosphonate ester. Forward: base-mediated olefination giving predominantly E-alkene.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "(EtO)2P(O)CH2CO2Et/NaH/THF",
      "(EtO)2P(O)CH2CO2Et/LDA/THF",
      "Still-Gennari:(CF3CH2O)2P(O)CH2CO2R/KHMDS/18-crown-6"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Horner Wadsworth Emmons (Retro, cc formation)",
    "note": "Horner-Wadsworth-Emmons (HWE): phosphonate-stabilized carbanion (from NaH, LDA, or KHMDS) reacts with aldehyde to give α,β-unsaturated ester. Strongly E-selective (vs Wittig Z-selectivity). Still-Gennari modification (CF3CH2O phosphonate + KHMDS/18-crown-6) gives Z-selectivity. Water-soluble phosphate byproduct easily removed.",
    "prereq": "[#6:1][C:2]=[C:3][C:4](=[O:5])[O:6][#6:7]",
    "rxn": "[#6:1][C:2]=[C:3][C:4](=[O:5])[O:6][#6:7]>>[#6:1][C:2]=[O].[C:3]([P](=O)(OC)OC)[C:4](=[O:5])[O:6][#6:7]",
    "stereo_policy": "diastereoselective",
    "type": "retro",
    "stereo_detail": "E (trans) alkene favored"
  },
  "C19_julia_olefination": {
    "brief": "Julia-Kocienski olefination: lithiated heteroaryl sulfone adds to aldehyde, then Smiles rearrangement/elimination gives E-alkene. One-pot with BT or PT sulfone.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "R-SO2-BT/KHMDS/DME",
      "R-SO2-Py/NaHMDS/THF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Julia Olefination (Forward, cc formation)",
    "note": "Modified Julia (Kocienski): BT-sulfone or PT-sulfone metalated with KHMDS or NaHMDS, adds to aldehyde, spontaneous elimination gives alkene + SO2 + heterocycle. E-selective. Classical Julia (PhSO2) requires separate steps. Mild conditions, good FG tolerance. Ketones react sluggishly; this template targets aldehydes. Prereq uses generic heteroaryl sulfone pattern to cover both BT- and PT-sulfones.",
    "prereq": "[#6:1][CH1:2]=O.[#6:4][C:3][S](=O)(=O)[c]",
    "rxn": "[#6:1][CH1:2]=O.[#6:4][C:3][S](=O)(=O)[c]>>[#6:1][C:2]=[C:3][#6:4]",
    "stereo_policy": "diastereoselective",
    "type": "forward",
    "stereo_detail": "E (trans) alkene favored"
  },
  "C19_julia_olefination_retro": {
    "brief": "Retro-Julia: alkene disconnected to aldehyde + aryl sulfone. Forward: modified Julia (Kocienski) one-pot olefination using benzothiazolyl (BT) or pyridyl sulfone, giving E-alkene.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "R-SO2-BT/KHMDS/DME",
      "R-SO2-Py/NaHMDS/THF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Julia Olefination (Retro, cc formation)",
    "note": "Julia-Kocienski olefination: lithiated sulfone adds to aldehyde, then spontaneous Smiles rearrangement/elimination gives alkene + SO2 + heterocycle. E-selective. Classical Julia (PhSO2) requires separate steps (addition, acetylation, reductive elimination). BT-sulfone and PT-sulfone are modern one-pot variants. Prereq requires non-aromatic C=C with carbon substituents on both sides to reduce false positives.",
    "prereq": "[#6:1][C;!a:2]=[C;!a:3][#6:4]",
    "rxn": "[#6:1][C;!a:2]=[C;!a:3][#6:4]>>[#6:1][C:2]=[O].[#6:4][C:3][S](=O)(=O)[c]",
    "stereo_policy": "diastereoselective",
    "type": "retro",
    "stereo_detail": "E (trans) alkene favored"
  },
  "C20_peterson_olefination": {
    "brief": "Peterson olefination: α-silyl carbanion adds to carbonyl, then acid (E-alkene) or base (Z-alkene) elimination of β-hydroxy silane.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "TMSCH2Li/THF_then_BF3·Et2O(E)",
      "TMSCH2MgCl/THF_then_KH(Z)"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Peterson Olefination (Forward, cc formation)",
    "note": "Peterson: TMSCH2Li or TMSCH2MgCl adds to aldehyde/ketone → β-hydroxy silane. Acid elimination (BF3·Et2O, H+) gives E-alkene via anti-periplanar. Base elimination (KH, NaH) gives Z-alkene via syn-periplanar. Complementary to Wittig/HWE stereoselectivity. Prereq models the α-silyl carbanion precursor (CH2-Si before metalation) + aldehyde/ketone.",
    "prereq": "[#6:1][C:2]=O.[#6:4][C:3]([H])[Si](C)(C)C",
    "rxn": "[#6:1][C:2]=O.[#6:4][C:3]([H])[Si](C)(C)C>>[#6:1][C:2]=[C:3][#6:4]",
    "stereo_policy": "diastereoselective",
    "type": "forward",
    "stereo_detail": "E (trans) alkene favored"
  },
  "C20_peterson_olefination_retro": {
    "brief": "Retro-Peterson: alkene disconnected to aldehyde/ketone + α-silyl alcohol (or α-silyl carbanion). Forward: addition of α-silyl carbanion to carbonyl, then acid or base elimination.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "TMSCH2Li/THF_then_BF3·Et2O(E-alkene)",
      "TMSCH2MgCl/THF_then_KH(Z-alkene)"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Peterson Olefination (Retro, cc formation)",
    "note": "Peterson olefination: α-silyl carbanion (from TMSCH2Li or TMSCH2MgCl) adds to carbonyl to give β-hydroxy silane. Acid elimination (BF3·Et2O) gives E-alkene; base elimination (KH, NaH) gives Z-alkene. Complementary stereoselectivity to Wittig/HWE. Mild conditions. Prereq requires non-aromatic C=C with carbon substituents on both sides to reduce false positives.",
    "prereq": "[#6:1][C;!a:2]=[C;!a:3][#6:4]",
    "rxn": "[#6:1][C;!a:2]=[C;!a:3][#6:4]>>[#6:1][C:2]=O.[#6:4][C:3]([H])[Si](C)(C)C",
    "stereo_policy": "diastereoselective",
    "type": "retro",
    "stereo_detail": "E (trans) alkene favored"
  },
  "C21_baylis_hillman": {
    "brief": "Baylis-Hillman: DABCO-catalyzed coupling of aldehyde with activated alkene (acrylate, enone) giving α-methylene-β-hydroxy carbonyl. No metal, atom-economical.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "DABCO/neat_or_DMF",
      "DMAP/CH3CN",
      "quinuclidine/MeOH"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Baylis Hillman (Forward, cc formation)",
    "note": "Baylis-Hillman: DABCO (or DMAP, quinuclidine) catalyzes Michael addition to acrylate, then aldol with aldehyde, then elimination regenerates catalyst. Slow for hindered substrates. Racemic. Pressure or Lewis acid co-catalysts accelerate. No metal waste. Aldehyde (RCHO) is the electrophile; product has new C-C bond with β-hydroxy group.",
    "prereq": "[C:1]=[C:2][C:5](=[O:6]).[#6:3][CH1:7]=O",
    "rxn": "[C:1]=[C:2][C:5](=[O:6]).[#6:3][CH1:7]=O>>[C:1]=[C:2]([C:5](=[O:6]))[CH1:7]([OH])[#6:3]",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "C21_baylis_hillman_retro": {
    "brief": "Retro-Baylis-Hillman: α-methylene-β-hydroxy carbonyl disconnected to aldehyde + activated alkene (acrylate/enone). Forward: DABCO-catalyzed coupling, no metal required.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "DABCO/neat_or_DMF",
      "DMAP/CH3CN",
      "quinuclidine/MeOH"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Baylis Hillman (Retro, cc formation)",
    "note": "Baylis-Hillman: tertiary amine (DABCO, DMAP, quinuclidine) catalyzes coupling of aldehyde with electron-poor alkene (acrylate, MVK, acrylonitrile). Atom-economical (no byproduct). Slow for sterically hindered substrates. Racemic at new stereocenter. Pressure or Lewis acid co-catalysts can accelerate. Product has α-methylene and β-hydroxy groups flanking the EWG.",
    "prereq": "[C:1]=[C:2]([C:5](=[O:6]))[CH1:7]([OH])[#6:3]",
    "rxn": "[C:1]=[C:2]([C:5](=[O:6]))[CH1:7]([OH])[#6:3]>>[C:1]=[C:2][C:5](=[O:6]).[#6:3][CH1:7]=O",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "C22_stetter": {
    "brief": "Stetter reaction: NHC-catalyzed 1,4-addition of acyl anion equivalent (Breslow intermediate from aldehyde) to enone, giving 1,4-dicarbonyl.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "thiazolium_salt/Et3N/EtOH",
      "triazolium_NHC/DBU/THF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Stetter (Forward, cc formation)",
    "note": "Stetter: NHC (thiazolium or triazolium salt + base) generates Breslow intermediate from aldehyde = umpolung acyl anion. Conjugate addition to Michael acceptor. Intramolecular Stetter powerful for ring formation. Racemic without chiral NHC. Acid chlorides incompatible.",
    "prereq": "[C:1](=[O:2])[CH:3]=[CH:4].[C:5](=[O:6])[H]",
    "rxn": "[C:1](=[O:2])[CH:3]=[CH:4].[C:5](=[O:6])[H]>>[C:1](=[O:2])[CH2:3][CH2:4][C:5](=[O:6])",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "C22_stetter_retro": {
    "brief": "Retro-Stetter: 1,4-dicarbonyl disconnected to enone + aldehyde. Forward: NHC-catalyzed conjugate addition of acyl anion equivalent (Breslow intermediate) to enone.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "thiazolium_salt/Et3N/EtOH",
      "triazolium_NHC/DBU/THF(asymmetric)"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Stetter (Retro, cc formation)",
    "note": "Stetter reaction: NHC (N-heterocyclic carbene, e.g., thiazolium salt + Et3N) generates Breslow intermediate from aldehyde, which acts as acyl anion equivalent for 1,4-addition to enone. Umpolung reactivity. Intramolecular Stetter is powerful for ring formation. Racemic without chiral NHC.",
    "prereq": "[C:1](=[O:2])[CH2:3][CH2:4][C:5](=[O:6])",
    "rxn": "[C:1](=[O:2])[CH2:3][CH2:4][C:5](=[O:6])>>[C:1](=[O:2])[CH:3]=[CH:4].[C:5](=[O:6])[H]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "C23_benzoin": {
    "brief": "Benzoin condensation: cyanide- or NHC-catalyzed umpolung coupling of two aromatic aldehydes giving α-hydroxy ketone (benzoin).",
    "category": "cc_formation",
    "co_reactant_examples": [
      "NaCN/EtOH-H2O",
      "thiazolium_NHC/Et3N/THF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[N+](=O)[O-]"
    ],
    "name": "Benzoin (Forward, cc formation)",
    "note": "Benzoin: NaCN (classic) or NHC (modern) catalyzes umpolung. Cyanide → cyanohydrin anion (acyl anion equivalent). NHC → Breslow intermediate. Product α-hydroxy ketone. Cross-benzoin possible with NHC selectivity control. Racemic without chiral catalyst.",
    "prereq": "[c:1][CH:2](=[O:3]).[c:6][CH:4](=[O:5])",
    "rxn": "[c:1][CH:2](=[O:3]).[c:6][CH:4](=[O:5])>>[c:1][C:2]([OH:3])[C:4](=[O:5])[c:6]",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "C23_benzoin_retro": {
    "brief": "Retro-benzoin: α-hydroxy ketone (benzoin) disconnected to two aromatic aldehydes. Forward: cyanide- or NHC-catalyzed umpolung coupling of ArCHO.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "NaCN/EtOH-H2O",
      "thiazolium_NHC/Et3N/THF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[N+](=O)[O-]"
    ],
    "name": "Benzoin (Retro, cc formation)",
    "note": "Benzoin condensation: NaCN (classic) or NHC (modern) catalyzes umpolung addition of one aldehyde to another. Cyanide generates cyanohydrin anion as acyl anion equivalent. NHC generates Breslow intermediate. Product is α-hydroxy ketone. Racemic without chiral catalyst. Cross-benzoin possible with NHC control.",
    "prereq": "[c:1][C:2]([OH:3])[C:4](=[O:5])[c:6]",
    "rxn": "[c:1][C:2]([OH:3])[C:4](=[O:5])[c:6]>>[c:1][CH:2](=[O:3]).[c:6][CH:4](=[O:5])",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "C24_tsuji_trost": {
    "brief": "Tsuji-Trost: Pd(0)-catalyzed allylic substitution. Allylic acetate/carbonate + soft nucleophile (malonate, amine) via π-allyl-Pd intermediate.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "Pd(PPh3)4/THF",
      "Pd2(dba)3/Trost_ligand/DCM",
      "[Pd(allyl)Cl]2/dppf"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Tsuji Trost (Forward, cc formation)",
    "note": "Tsuji-Trost: Pd(0) oxidative addition to allylic leaving group → π-allyl-Pd. Soft nucleophiles attack from face opposite Pd (net retention via double inversion). Hard nucleophiles (organometallics) attack at Pd then reductive elimination (net inversion). Enantioselective with chiral ligands. Nucleophile should be stabilized carbanion (malonate, β-ketoester, cyanoacetate) or heteroatom nucleophile.",
    "prereq": "[C;!a:1]=[C;!a:2][C:3](OC(C)=O)[#6:4].[CH1:5]([C:8]=[O])[C:9]=[O]",
    "rxn": "[C;!a:1]=[C;!a:2][C:3](OC(C)=O)[#6:4].[CH1:5]([C:8]=[O])[C:9]=[O]>>[C:1]=[C:2][C:3]([#6:4])[C:5]([C:8]=[O])[C:9]=[O]",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "C24_tsuji_trost_retro": {
    "brief": "Retro-Tsuji-Trost: allylic C-C bond disconnected to allylic acetate/carbonate + stabilized nucleophile. Forward: Pd(0)-catalyzed allylic substitution.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "Pd(PPh3)4/THF",
      "Pd2(dba)3/Trost_ligand/DCM",
      "[Pd(allyl)Cl]2/dppf"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Tsuji Trost (Retro, cc formation)",
    "note": "Tsuji-Trost: Pd(0) oxidatively adds to allylic leaving group (OAc, OCO2R, Cl) forming π-allyl-Pd complex. Soft nucleophiles (malonates, amines, phenoxides) attack from face opposite to Pd. Hard nucleophiles (RMgBr, RZnCl) attack at Pd then reductive elimination. Enantioselective with chiral ligands (PHOX, Trost ligand). Prereq requires allylic C with carbon substituent + stabilized dicarbonyl nucleophile.",
    "prereq": "[C;!a:1]=[C;!a:2][C:3]([#6:4])[C:5]([C:8]=[O])[C:9]=[O]",
    "rxn": "[C;!a:1]=[C;!a:2][C:3]([#6:4])[C:5]([C:8]=[O])[C:9]=[O]>>[C:1]=[C:2][C:3](OC(C)=O)[#6:4].[CH1:5]([C:8]=[O])[C:9]=[O]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "C25_suzuki_forward": {
    "brief": "Pd(0)-catalyzed cross-coupling of aryl halide with aryl boronic acid to form biaryl. Mild conditions, tolerates many functional groups. Base required for transmetalation.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "Pd(PPh3)4/K2CO3/dioxane-H2O",
      "Pd(dppf)Cl2/Cs2CO3/DMF",
      "Pd(OAc)2/SPhos/K3PO4/toluene-H2O"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Suzuki (Forward, cc formation)",
    "note": "Suzuki coupling: Pd(0) (Pd(PPh3)4, Pd(dppf)Cl2) catalyzes ArBr + ArB(OH)2 → Ar-Ar. Requires base (K2CO3, Cs2CO3, K3PO4) for boronate activation. Tolerates esters, amides, nitriles, ketones. Free thiols poison Pd. Boronic acids are air-stable, low toxicity (advantage over Stille). Pinacol boronate esters also work. [Retro: see C08_suzuki_retro]",
    "prereq": "[c:1]Br.[c:2]B(O)O",
    "rxn": "[c:1]Br.[c:2]B(O)O>>[c:1]!@[c:2]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "C26_heck_forward": {
    "brief": "Pd(0)-catalyzed coupling of aryl halide with alkene via migratory insertion/β-hydride elimination. Gives aryl-substituted alkene, predominantly E-configuration.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "Pd(OAc)2/PPh3/Et3N/DMF",
      "Pd(OAc)2/P(o-tol)3/K2CO3/DMA",
      "Pd2(dba)3/BINAP/Cs2CO3/toluene"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Heck (Forward, cc formation)",
    "note": "Heck reaction: Pd(0) oxidative addition to ArBr, then syn-migratory insertion into alkene, then β-hydride elimination gives substituted alkene. E-selectivity from syn-elimination. Requires base (Et3N, K2CO3). Intramolecular Heck powerful for ring formation. Free thiols poison Pd catalyst. Alkene must have at least one β-hydrogen for elimination step. [Retro: see C07_heck_retro]",
    "prereq": "[c:1]Br.[CH1:2]=[C:3]",
    "rxn": "[c:1]Br.[CH1:2]=[C:3]>>[c:1][C:2]=[C:3]",
    "stereo_policy": "diastereoselective",
    "type": "forward",
    "stereo_detail": "E (trans) alkene favored"
  },
  "C26_heck_retro": {
    "brief": "Substrates: SMARTS([c:1][C:2]=[C:3]) -> Products: SMARTS([c:1]Br) + SMARTS([C:2]=[C:3]).",
    "category": "cc_formation",
    "co_reactant_examples": [
      "Pd(OAc)2/PPh3/Et3N/DMF",
      "Pd(OAc)2/P(o-tol)3/K2CO3/DMA",
      "Pd2(dba)3/BINAP/Cs2CO3/toluene"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Heck (Retro, cc formation)",
    "note": "Retrosynthetic: aryl-substituted alkene disconnects to aryl halide + alkene via Heck reaction. Pd(0) catalyzed: oxidative addition, syn-migratory insertion, β-hydride elimination. E-selectivity from syn-elimination. Requires base (Et3N, K2CO3). Free thiols poison Pd catalyst. Acid chlorides incompatible with basic conditions.",
    "prereq": "[c:1]!@[C:2]=[C:3]",
    "rxn": "[c:1]!@[C:2]=[C:3]>>[c:1]Br.[C:2]=[C:3]",
    "stereo_policy": "diastereoselective",
    "type": "retro",
    "stereo_detail": "E (trans) alkene favored"
  },
  "C27_sonogashira_forward": {
    "brief": "Pd/Cu co-catalyzed coupling of aryl halide with terminal alkyne to form aryl alkyne (internal). Amine base serves as solvent and HX scavenger.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "Pd(PPh3)2Cl2/CuI/Et3N",
      "Pd(PPh3)4/CuI/iPr2NH/THF",
      "PdCl2(dppf)/CuI/DIPA/DMF"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Sonogashira (Forward, cc formation)",
    "note": "Sonogashira coupling: Pd(0)/CuI co-catalysis. Pd cycle: oxidative addition of ArBr, transmetalation with Cu-acetylide, reductive elimination. Cu cycle: terminal alkyne + CuI + amine base → Cu-acetylide. Copper-free variants exist (Pd only, with bulky phosphine). Free thiols poison Pd. [Retro: see C09_sonogashira_retro]",
    "prereq": "[c:1]Br.[CH:2]#[C:3]",
    "rxn": "[c:1]Br.[CH:2]#[C:3]>>[c:1][C:2]#[C:3]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "C28_stille_forward": {
    "brief": "Pd(0)-catalyzed cross-coupling of aryl halide with aryl stannane (ArSnR3). Excellent functional group tolerance but toxic organotin byproducts.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "Pd(PPh3)4/toluene/reflux",
      "Pd2(dba)3/AsPh3/CuI/DMF",
      "PdCl2(PPh3)2/LiCl/DMF"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "Stille (Forward, cc formation)",
    "note": "Stille coupling: Pd(0) catalyzes ArBr + ArSnBu3 → Ar-Ar. Very broad FG tolerance (esters, amides, alcohols, ketones, aldehydes). Drawback: toxic Bu3SnX byproduct. Requires careful purification to remove tin. CuI or CsF additives accelerate transmetalation. Free thiols poison Pd. [Retro: see C10_stille_retro]",
    "prereq": "[c:1]Br.[c:2][Sn](C)(C)C",
    "rxn": "[c:1]Br.[c:2][Sn](C)(C)C>>[c:1]!@[c:2]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "C29_negishi_forward": {
    "brief": "Pd(0)-catalyzed cross-coupling of aryl halide with organozinc reagent (RZnCl). High chemoselectivity, tolerates esters and nitriles.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "Pd(PPh3)4/THF",
      "Pd(dppf)Cl2/THF",
      "Pd2(dba)3/PCy3/THF-NMP"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[OX2H]"
    ],
    "name": "Negishi (Forward, cc formation)",
    "note": "Negishi coupling: Pd(0) catalyzes ArBr + RZnCl → Ar-R. Organozinc reagents are less reactive than Grignard but more selective (tolerate esters, nitriles, ketones). Prepared from RLi or RMgBr + ZnCl2, or direct Zn insertion. sp2-sp2 and sp2-sp3 couplings both efficient. Free thiols poison Pd. Free alcohols and carboxylic acids (protic O-H) can protodecompose organozinc reagents. [Retro: see C11_negishi_retro]",
    "prereq": "[c:1]Br.[#6:2][Zn]Cl",
    "rxn": "[c:1]Br.[#6:2][Zn]Cl>>[c:1]!@[#6:2]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "C30_kumada_forward": {
    "brief": "Pd(0)- or Ni-catalyzed cross-coupling of aryl halide with Grignard reagent (RMgBr). Fast but limited FG tolerance due to Grignard reactivity.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "Pd(dppf)Cl2/THF",
      "NiCl2(dppf)/THF",
      "Pd(PPh3)4/Et2O"
    ],
    "incompatible_groups": [
      "[OX2H]",
      "[NX3;H2,H1;+0]",
      "[CX3](=[OX1])[OX2][#6]",
      "[CX3](=[OX1])Cl",
      "[CX2]#N",
      "[CX3](=[OX1])[#6]",
      "[CH1](=[OX1])"
    ],
    "name": "Kumada (Forward, cc formation)",
    "note": "Kumada coupling: Pd(0) or Ni(0) catalyzes ArBr + RMgBr → Ar-R. Grignard reagents are highly reactive: incompatible with esters, ketones, aldehydes, nitriles, protic groups (alcohols, amines). Ni catalysts cheaper but may cause β-hydride elimination with alkyl Grignards. Best for simple substrates without sensitive FGs. [Retro: see C12_kumada_retro]",
    "prereq": "[c:1]Br.[#6:2][Mg]Br",
    "rxn": "[c:1]Br.[#6:2][Mg]Br>>[c:1]!@[#6:2]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "C31_friedel_crafts_acyl_forward": {
    "brief": "Lewis acid (AlCl3) catalyzed electrophilic acylation of arene with acyl chloride. No carbocation rearrangement. Product ketone deactivates ring, preventing polyacylation.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "RCOCl/AlCl3/DCM",
      "(RCO)2O/AlCl3/DCM",
      "RCOCl/FeCl3/nitrobenzene"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[N+](=O)[O-]"
    ],
    "name": "Friedel Crafts Acyl (Forward, cc formation)",
    "note": "FC acylation: requires >1 equiv AlCl3 (product ketone complexes Lewis acid). Acylium ion is resonance-stabilized, no rearrangement (unlike FC alkylation). Deactivated rings (nitro, multiple halogens) unreactive. Free amines complex with AlCl3. Regioselectivity: ortho/para for activated rings. [Retro: see C05_friedel_crafts_acyl_retro]",
    "prereq": "[cH:1].[Cl][C:2](=[O:3])[#6:4]",
    "rxn": "[cH:1].[Cl][C:2](=[O:3])[#6:4]>>[c:1][C:2](=[O:3])[#6:4]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "C32_friedel_crafts_alkyl_forward": {
    "brief": "Lewis acid (AlCl3) catalyzed electrophilic alkylation of arene with alkyl halide. Prone to carbocation rearrangement and polyalkylation.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "RCl/AlCl3/DCM",
      "RCl/FeCl3",
      "alkene/H2SO4(via_carbocation)"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[N+](=O)[O-]",
      "[CX3](=[OX1])[#6]"
    ],
    "name": "Friedel Crafts Alkyl (Forward, cc formation)",
    "note": "FC alkylation: AlCl3 generates carbocation from alkyl halide. Carbocation may rearrange (1,2-hydride/methyl shift) to more stable cation. Product is more electron-rich than starting arene → polyalkylation. Deactivated rings unreactive. Free amines complex with AlCl3. Use FC acylation + Wolff-Kishner/Clemmensen to avoid rearrangement. [Retro: see C06_friedel_crafts_alkyl_retro]",
    "prereq": "[cH:1].[Cl][CX4:2]",
    "rxn": "[cH:1].[Cl][CX4:2]>>[c:1][CX4:2]",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "C33_enolate_alpha_alkylation": {
    "brief": "Enolate α-alkylation: LDA generates kinetic enolate at -78°C, then SN2 with primary alkyl halide. Creates new C-C bond at α-position of carbonyl.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "LDA/THF/-78C_then_R-X",
      "NaH/DMF_then_R-X",
      "KHMDS/THF_then_allyl-Br"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Enolate Alpha Alkylation (Forward, cc formation)",
    "note": "α-Alkylation: LDA (kinetic, -78°C) or NaH (thermodynamic) generates enolate. SN2 with primary R-X (methyl, allyl, benzyl best). Secondary halides give E2 elimination. O-alkylation competes with hard electrophiles. Racemic at new α-stereocenter. Aryl and tertiary halides cannot undergo SN2.",
    "prereq": "[C:1](=[O:2])[CH2:3][#6:5].[CH2,CH1;!a:4]Br",
    "rxn": "[C:1](=[O:2])[CH2:3][#6:5].[CH2,CH1;!a:4]Br>>[C:1](=[O:2])[CH:3]([#6:4])[#6:5]",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "C33_enolate_alpha_alkylation_retro": {
    "brief": "Retro-α-alkylation: α-branched carbonyl disconnected to enolizable carbonyl + alkyl halide. Forward: LDA deprotonation → enolate + R-X (SN2).",
    "category": "cc_formation",
    "co_reactant_examples": [
      "LDA/THF/-78C_then_R-X",
      "NaH/DMF_then_R-X",
      "KHMDS/THF_then_allyl-Br"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Enolate Alpha Alkylation (Retro, cc formation)",
    "note": "Enolate α-alkylation: LDA (kinetic) or NaH (thermodynamic) generates enolate, which undergoes SN2 with primary alkyl halide (or allyl/benzyl halide). Secondary halides give elimination. Tertiary halides do not react (SN2 impossible). Racemic at α-carbon. O-alkylation is competing side reaction with hard electrophiles.",
    "prereq": "[C:1](=[O:2])[CH:3]([#6:4])[#6:5]",
    "rxn": "[C:1](=[O:2])[CH:3]([#6:4])[#6:5]>>[C:1](=[O:2])[CH2:3][#6:5].[#6:4]Br",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "C34_aldol_forward": {
    "brief": "Forward aldol: enolizable ketone attacks aldehyde to form β-hydroxy carbonyl. LDA/THF at -78°C for kinetic enolate; NaOH/H2O for thermodynamic.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "LDA/THF/-78C_then_RCHO",
      "NaOH/H2O/EtOH",
      "Bu2BOTf/iPr2NEt/DCM_then_RCHO"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Aldol (Forward, cc formation)",
    "note": "Aldol addition: enolate of ketone (or aldehyde) attacks aldehyde electrophile. Creates β-hydroxy carbonyl with up to two new stereocenters. Crossed aldol requires one non-enolizable partner (ArCHO) or directed enolization (LDA). Evans oxazolidinone or Zimmerman-Traxler model controls syn/anti selectivity. Racemic without chiral auxiliary. [Retro: see C01_aldol_retro]",
    "prereq": "[CH1:1](=[O:2]).[CH3:3][C:4](=[O:5])",
    "rxn": "[CH1:1](=[O:2]).[CH3:3][C:4](=[O:5])>>[CH:1]([OH:2])[CH2:3][C:4](=[O:5])",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "C34_aldol_retro": {
    "brief": "Substrates: SMARTS([CH:1]([OH:2])[CH2:3][C:4](=[O:5])) -> Products: SMARTS([CH1:1](=[O:2])) + SMARTS([CH3:3][C:4](=[O:5])).",
    "category": "cc_formation",
    "co_reactant_examples": [
      "LDA/THF/-78C_then_RCHO",
      "NaOH/H2O/EtOH",
      "Bu2BOTf/iPr2NEt/DCM_then_RCHO"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Aldol (Retro, cc formation)",
    "note": "Retrosynthetic: β-hydroxy carbonyl disconnects to aldehyde + enolizable ketone via aldol addition. LDA (kinetic enolate, -78°C) or NaOH (thermodynamic) conditions. Crossed aldol requires one non-enolizable partner (ArCHO) or directed enolization. This template covers methyl ketone donors (CH3-C=O). Acid chlorides and epoxides incompatible with basic conditions.",
    "prereq": "[CH:1]([OH:2])[CH2:3][C:4](=[O:5])",
    "rxn": "[CH:1]([OH:2])[CH2:3][C:4](=[O:5])>>[CH1:1](=[O:2]).[CH3:3][C:4](=[O:5])",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "C35_azole_N_alkylation_sn2_forward": {
    "brief": "Azole NH alkylated by alkyl halide via SN2. Base (K2CO3, Cs2CO3, NaH) deprotonates azole NH, nitrogen attacks electrophilic carbon with inversion.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "K2CO3/DMF",
      "Cs2CO3/DMF",
      "NaH/DMF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Azole N Alkylation SN2 (Forward, cc formation)",
    "note": "Azole N-alkylation: base deprotonates azole NH (pKa ~14-17 for imidazole, pyrazole, triazole), nucleophilic nitrogen attacks alkyl halide via SN2. Primary halides preferred (secondary give elimination). Regioselectivity issue for unsymmetrical azoles (N1 vs N3). Cs2CO3 in DMF is standard. Acid chlorides would acylate instead. Prereq requires five-membered ring with at least two heteroatoms (azole), excluding pyrrole/indole. [Retro: see C35_azole_N_alkylation_sn2_retro]",
    "prereq": "[nH:1]1[c,n:8][c,n:9][c,n:10][c,n:11]1.[CH2,CH:2][Br,Cl,I:3]",
    "rxn": "[nH:1]1[c,n:8][c,n:9][c,n:10][c,n:11]1.[CH2,CH:2][Br,Cl,I]>>[n:1]1[c,n:8][c,n:9][c,n:10][c,n:11]1[CH2,CH:2]",
    "stereo_policy": "inversion",
    "type": "forward"
  },
  "C35_azole_N_alkylation_sn2_retro": {
    "brief": "Retro-azole N-alkylation: N-alkyl azole disconnected to azole NH + alkyl halide. Forward: base-mediated SN2.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "K2CO3/DMF",
      "Cs2CO3/DMF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Azole N Alkylation SN2 (Retro, cc formation)",
    "note": "Retrosynthetic disconnection of N-C(sp3) bond in N-alkyl azole. Forward uses K2CO3 or Cs2CO3 in DMF. Primary alkyl halides preferred for SN2. Prereq requires five-membered azole ring (at least two heteroatoms).",
    "prereq": "[n:1]1[c,n:8][c,n:9][c,n:10][c,n:11]1[CH2,CH:2]",
    "rxn": "[n:1]1[c,n:8][c,n:9][c,n:10][c,n:11]1[CH2,CH:2]>>[nH:1]1[c,n:8][c,n:9][c,n:10][c,n:11]1.[CH2,CH:2][Br,Cl,I]",
    "stereo_policy": "inversion",
    "type": "retro"
  },
  "C37_imidazole_N_benzylation_forward": {
    "brief": "Imidazole NH benzylated by benzyl halide via SN2. Base (K2CO3, NaH) deprotonates imidazole, N attacks benzylic carbon.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "BnBr/K2CO3/DMF",
      "BnCl/NaH/DMF",
      "BnBr/Cs2CO3/CH3CN"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Imidazole N Benzylation (Forward, cc formation)",
    "note": "Imidazole N-benzylation: imidazole (pKa ~14) deprotonated by base, attacks benzyl halide. Benzyl halides are excellent SN2 electrophiles (benzylic stabilization of TS). N1 vs N3 selectivity: N1 (more nucleophilic) usually preferred. Bn group removable by H2/Pd-C (hydrogenolysis). Protic OH may compete as nucleophile. Prereq requires CH2 attached to aromatic ring (benzylic). [Retro: see C37_imidazole_N_benzylation_retro]",
    "prereq": "[nH:1]1[c:2][n:3][c:4][c:5]1.[c:8][CH2:6][Br,Cl,I:7]",
    "rxn": "[nH:1]1[c:2][n:3][c:4][c:5]1.[c:8][CH2:6][Br,Cl,I]>>[n:1]1[c:2][n:3][c:4][c:5]1[CH2:6][c:8]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "C37_imidazole_N_benzylation_retro": {
    "brief": "Retro-imidazole N-benzylation: N-benzyl imidazole disconnected to imidazole NH + benzyl halide.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "BnBr/K2CO3/DMF",
      "BnCl/Cs2CO3/DMF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Imidazole N Benzylation (Retro, cc formation)",
    "note": "Retrosynthetic disconnection of N-Bn bond. Forward uses BnBr/K2CO3/DMF. Bn removable by H2/Pd-C. Prereq requires CH2 attached to aromatic ring (benzylic position).",
    "prereq": "[n:1]1[c:2][n:3][c:4][c:5]1[CH2:6][c:8]",
    "rxn": "[n:1]1[c:2][n:3][c:4][c:5]1[CH2:6][c:8]>>[nH:1]1[c:2][n:3][c:4][c:5]1.[c:8][CH2:6][Br,Cl,I]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "C39_triazole_N_alkylation_sn2_forward": {
    "brief": "1,2,3-Triazole NH alkylated by alkyl halide via SN2. Base (K2CO3, Cs2CO3) deprotonates triazole, nitrogen attacks electrophilic carbon.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "K2CO3/DMF",
      "Cs2CO3/DMF",
      "NaH/THF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Triazole N Alkylation SN2 (Forward, cc formation)",
    "note": "Triazole N-alkylation: 1,2,3-triazole NH (pKa ~10) easily deprotonated. N1 vs N2 regioselectivity depends on substituents and conditions. Cs2CO3/DMF standard. Primary alkyl and benzyl halides preferred. Not to be confused with CuAAC click chemistry (which forms the triazole ring). [Retro: see C39_triazole_N_alkylation_sn2_retro]",
    "prereq": "[nH:1]1[n:2][n:3][c:4][c:5]1.[CH2:6][Br,Cl,I:7]",
    "rxn": "[nH:1]1[n:2][n:3][c:4][c:5]1.[CH2:6][Br,Cl,I]>>[n:1]1[n:2][n:3][c:4][c:5]1[CH2:6]",
    "stereo_policy": "inversion",
    "type": "forward"
  },
  "C39_triazole_N_alkylation_sn2_retro": {
    "brief": "Retro-triazole N-alkylation: N-alkyl triazole disconnected to triazole NH + alkyl halide.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "K2CO3/DMF",
      "Cs2CO3/DMF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Triazole N Alkylation SN2 (Retro, cc formation)",
    "note": "Retrosynthetic disconnection of N-alkyl bond in N-alkyl 1,2,3-triazole. Forward uses K2CO3/DMF. N1 vs N2 regiochemistry depends on conditions.",
    "prereq": "[n:1]1[n:2][n:3][c:4][c:5]1[CH2:6]",
    "rxn": "[n:1]1[n:2][n:3][c:4][c:5]1[CH2:6]>>[nH:1]1[n:2][n:3][c:4][c:5]1.[CH2:6][Br,Cl,I]",
    "stereo_policy": "inversion",
    "type": "retro"
  },
  "C40_pyrazole_N_alkylation_sn2_forward": {
    "brief": "Pyrazole NH alkylated by alkyl halide via SN2. Base deprotonates pyrazole, nitrogen attacks electrophilic carbon.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "K2CO3/DMF",
      "Cs2CO3/DMF",
      "NaH/DMF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Pyrazole N Alkylation SN2 (Forward, cc formation)",
    "note": "Pyrazole N-alkylation: pyrazole NH (pKa ~14) deprotonated by K2CO3 or NaH. N1 vs N2 regioselectivity is a key issue for unsymmetrical pyrazoles (3,5-disubstituted). Steric and electronic effects control regiochemistry. Primary alkyl halides preferred for SN2. [Retro: see C40_pyrazole_N_alkylation_sn2_retro]",
    "prereq": "[nH:1]1[n:2][c:3][c:4][c,n:5]1.[CH2:6][Br,Cl,I:7]",
    "rxn": "[nH:1]1[n:2][c:3][c:4][c,n:5]1.[CH2:6][Br,Cl,I]>>[n:1]1[n:2][c:3][c:4][c,n:5]1[CH2:6]",
    "stereo_policy": "inversion",
    "type": "forward"
  },
  "C40_pyrazole_N_alkylation_sn2_retro": {
    "brief": "Retro-pyrazole N-alkylation: N-alkyl pyrazole disconnected to pyrazole NH + alkyl halide.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "K2CO3/DMF",
      "Cs2CO3/DMF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Pyrazole N Alkylation SN2 (Retro, cc formation)",
    "note": "Retrosynthetic disconnection of N-alkyl bond in N-alkyl pyrazole. Forward uses K2CO3/DMF. N1 vs N2 regiochemistry is key issue for unsymmetrical pyrazoles.",
    "prereq": "[n:1]1[n:2][c:3][c:4][c,n:5]1[CH2:6]",
    "rxn": "[n:1]1[n:2][c:3][c:4][c,n:5]1[CH2:6]>>[nH:1]1[n:2][c:3][c:4][c,n:5]1.[CH2:6][Br,Cl,I]",
    "stereo_policy": "inversion",
    "type": "retro"
  },
  "C41_tetrazole_N_alkylation_sn2_forward": {
    "brief": "Tetrazole NH alkylated by alkyl halide via SN2. Base deprotonates tetrazole (pKa ~5), nitrogen attacks electrophilic carbon.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "K2CO3/DMF",
      "Cs2CO3/DMSO",
      "NaH/DMF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Tetrazole N Alkylation SN2 (Forward, cc formation)",
    "note": "Tetrazole N-alkylation: tetrazole is quite acidic (pKa ~5), easily deprotonated by mild base (K2CO3). N1 vs N2 regioselectivity is a major issue for 5-substituted tetrazoles. N2-alkylation often kinetically favored. DMF or DMSO as solvent. Primary alkyl and benzyl halides preferred. [Retro: see C41_tetrazole_N_alkylation_sn2_retro]",
    "prereq": "[nH:1]1[n:2][n:3][n:4][c:5]1.[CH2:6][Br,Cl,I:7]",
    "rxn": "[nH:1]1[n:2][n:3][n:4][c:5]1.[CH2:6][Br,Cl,I]>>[n:1]1[n:2][n:3][n:4][c:5]1[CH2:6]",
    "stereo_policy": "inversion",
    "type": "forward"
  },
  "C41_tetrazole_N_alkylation_sn2_retro": {
    "brief": "Retro-tetrazole N-alkylation: N-alkyl tetrazole disconnected to tetrazole NH + alkyl halide.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "K2CO3/DMF",
      "Cs2CO3/DMF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Tetrazole N Alkylation SN2 (Retro, cc formation)",
    "note": "Retrosynthetic disconnection of N-alkyl bond in N-alkyl tetrazole. Forward uses K2CO3/DMF. N1 vs N2 regiochemistry important.",
    "prereq": "[n:1]1[n:2][n:3][n:4][c:5]1[CH2:6]",
    "rxn": "[n:1]1[n:2][n:3][n:4][c:5]1[CH2:6]>>[nH:1]1[n:2][n:3][n:4][c:5]1.[CH2:6][Br,Cl,I]",
    "stereo_policy": "inversion",
    "type": "retro"
  },
  "C43_hiyama_coupling_forward": {
    "brief": "Pd(0)-catalyzed cross-coupling of aryl halide with organosilane (ArSiR3). Requires fluoride activator (TBAF, CsF) for transmetalation. Low toxicity alternative to Stille.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "Pd(PPh3)4/TBAF/THF",
      "Pd(OAc)2/CsF/DMF",
      "PdCl2/TASF/dioxane"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "Hiyama Coupling (Forward, cc formation)",
    "note": "Hiyama coupling: Pd(0) catalyzes ArBr + ArSiR3 → Ar-Ar. Organosilanes are non-toxic, air-stable. Requires fluoride activation (TBAF, TASF, CsF) to generate hypervalent silicate for transmetalation. Trialkoxysilanes (Si(OMe)3) more reactive than trialkylsilanes (SiMe3). Free thiols poison Pd. Prereq covers both trialkyl- and trialkoxysilanes. [Retro: see C44_hiyama_coupling_retro]",
    "prereq": "[c:1]Br.[c:2][Si]",
    "rxn": "[c:1]Br.[c:2][Si]>>[c:1]!@[c:2]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "C44_hiyama_coupling_retro": {
    "brief": "Retro-Hiyama: biaryl disconnected to aryl halide + aryl silane. Forward: Pd(0)/fluoride-catalyzed cross-coupling.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "Pd(PPh3)4/TBAF/THF",
      "Pd(OAc)2/CsF/DMF"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "Hiyama Coupling (Retro, cc formation)",
    "note": "Retrosynthetic disconnection of biaryl bond to ArBr + ArSiR3. Forward Hiyama coupling requires Pd(0) catalyst and fluoride activator. Alternative to Suzuki (boronic acid) and Stille (stannane). Organosilanes are cheap, non-toxic, stable.",
    "prereq": "[c:1]!@[c:2]",
    "rxn": "[c:1]!@[c:2]>>[c:1]Br.[c:2][Si]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "D01_ring_ether_opening": {
    "brief": "Epoxide (3-membered ring ether) opened by nucleophile. Acid conditions: Markovnikov (nucleophile attacks more substituted carbon). Base conditions: anti-Markovnikov (SN2 at less hindered carbon).",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "H2O/H+",
      "NaOH/H2O",
      "RMgBr/CuI"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])[OX2][#6]"
    ],
    "name": "Epoxide Ring Opening (Forward, ring reaction)",
    "note": "Epoxide opening: SN2 mechanism gives inversion at attacked carbon (anti addition overall). Prereq SMARTS matches 3-membered ring ether (epoxide) specifically. Larger ring ethers (THF, etc.) require much harsher conditions. Amines are common nucleophiles for epoxide opening (giving β-amino alcohols). Esters may be cleaved under strongly basic/acidic conditions.",
    "prereq": "[C:1]1[O:2][C:3]1",
    "rxn": "[C:1]1[O:2][C:3]1>>[C:1]([OH:2])[C:3]([OH])",
    "stereo_policy": "inversion",
    "type": "forward"
  },
  "D01_ring_ether_opening_retro": {
    "brief": "Retro-epoxide opening: 1,2-diol disconnected to epoxide. Forward: nucleophilic ring opening of epoxide with water/hydroxide giving anti-1,2-diol.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "H2O/H+(acid_catalyzed)",
      "NaOH/H2O(base_catalyzed)"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl"
    ],
    "name": "Ring Ether Opening (Retro, ring reaction)",
    "note": "Retrosynthetic disconnection of 1,2-diol to epoxide. Forward: SN2 mechanism, anti addition. Acid-catalyzed: Markovnikov opening (nucleophile at more substituted C). Base-catalyzed: anti-Markovnikov (SN2 at less hindered C). Prereq requires vicinal diol (1,2-diol on adjacent carbons).",
    "prereq": "[C:1]([OH:2])[C:3]([OH])",
    "rxn": "[C:1]([OH:2])[C:3]([OH])>>[C:1]1[O:2][C:3]1",
    "stereo_policy": "inversion",
    "type": "retro"
  },
  "D02_diels_alder": {
    "brief": "Diels-Alder [4+2] cycloaddition: conjugated diene + dienophile form cyclohexene. Concerted, syn-addition. Endo rule for kinetic selectivity.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "neat/heat",
      "AlCl3/DCM",
      "ZnCl2/DCM"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Diels Alder (Forward, ring reaction)",
    "note": "Diels-Alder: concerted pericyclic [4+2]. Suprafacial on both components. Normal electron demand: electron-rich diene + electron-poor dienophile. Endo kinetically favored. Diene must be s-cis. Lewis acid catalysis accelerates. Stereochemistry of diene/dienophile retained in product. Product is cyclohexene with one double bond (from diene central bond).",
    "prereq": "[#6;!a:1]=[#6;!a:2].[#6;!a:3]=[#6;!a:4][#6;!a:5]=[#6;!a:6]",
    "rxn": "[#6;!a:1]=[#6;!a:2].[#6;!a:3]=[#6;!a:4][#6;!a:5]=[#6;!a:6]>>[#6:6]1[#6:1][#6:2][#6:3][#6:4]=[#6:5]1",
    "stereo_policy": "retention",
    "type": "forward"
  },
  "D02_diels_alder_retro": {
    "brief": "Retro-DA: cyclohexene disconnected to diene + dienophile. Forward: [4+2] cycloaddition, concerted, suprafacial, endo rule. Electron-rich diene + electron-poor dienophile.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "thermal(heat)",
      "Lewis_acid(AlCl3,BF3·Et2O)",
      "high_pressure"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "Diels-Alder (Retro, ring reaction)",
    "note": "Diels-Alder: concerted [4+2] cycloaddition. syn-Addition (suprafacial on both components). Endo rule: kinetic product has endo orientation of substituents. Stereochemistry of diene and dienophile retained in product. Normal electron demand: electron-rich diene + electron-poor dienophile. Prereq matches cyclohexene (one double bond in six-membered ring).",
    "prereq": "[#6;!a:6]1[#6;!a:1][#6;!a:2][#6;!a:3][#6;!a:4]=[#6;!a:5]1",
    "rxn": "[#6;!a:6]1[#6;!a:1][#6;!a:2][#6;!a:3][#6;!a:4]=[#6;!a:5]1>>[#6:1]=[#6:2].[#6:3]=[#6:4][#6:5]=[#6:6]",
    "stereo_policy": "retention",
    "type": "retro"
  },
  "D03_robinson_annulation": {
    "brief": "Robinson annulation: enolizable ketone + α,β-unsaturated ketone (MVK) undergo Michael addition then intramolecular aldol condensation/dehydration, forming 2-cyclohexen-1-one.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "NaOH/EtOH/H2O",
      "KOH/MeOH",
      "L-proline/DMSO"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Robinson Annulation (Forward, ring reaction)",
    "note": "Robinson annulation = Michael + intramolecular aldol + dehydration. Two components: (1) enolizable ketone with α-H, (2) α,β-unsaturated ketone (MVK is classic). Base-catalyzed (NaOH, KOH). Product is 2-cyclohexen-1-one (contains C=C in ring). Racemic at ring junction unless asymmetric variant (L-proline → Hajos-Parrish). Epoxides opened under basic conditions.",
    "prereq": "[CH2,CH3:1][C:2](=[O:7])[#6:3].[#6:4][C:5](=[O])C=[CH2:6]",
    "rxn": "[CH2,CH3:1][C:2](=[O:7])[#6:3].[#6:4][C:5](=[O])C=[CH2:6]>>[C:1]1=[C:2]([#6:3])[C:5](=[O:7])[C:4][C][C:6]1",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "D03_robinson_annulation_retro": {
    "brief": "Retro-Robinson annulation: 2-cyclohexen-1-one disconnected to enolizable ketone + α,β-unsaturated ketone (MVK). Forward: Michael then intramolecular aldol/dehydration.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "NaOH/H2O/EtOH",
      "KOH/MeOH",
      "L-proline/DMSO(asymmetric)"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Robinson Annulation (Retro, ring reaction)",
    "note": "Robinson annulation = Michael + intramolecular aldol + dehydration. Base-catalyzed (NaOH, KOH, NaOEt). MVK (methyl vinyl ketone) is classic Michael acceptor. Product is 2-cyclohexen-1-one. Racemic at ring junction. Key reaction in steroid synthesis (Hajos-Parrish with L-proline for asymmetric variant).",
    "prereq": "[#6:1]1=[#6:2][#6:3](=[O:7])[#6:4][#6:5][#6:6]1",
    "rxn": "[#6:1]1=[#6:2][#6:3](=[O:7])[#6:4][#6:5][#6:6]1>>[CH2,CH3:1][C:2](=[O:7])[#6:3].[#6:4][C:5](=[O])C=[CH2:6]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "D04_intramolecular_sn2": {
    "brief": "Intramolecular SN2: ω-bromo alcohol cyclizes to tetrahydrofuran (5-ring ether). Base generates alkoxide, which displaces bromide.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "NaH/THF",
      "K2CO3/DMF",
      "KOtBu/THF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Intramolecular SN2 (Forward, ring reaction)",
    "note": "5-exo-tet cyclization (Baldwin-favorable). Base (NaH, K2CO3) generates alkoxide. SN2 with inversion at halide carbon. Primary halides preferred.",
    "prereq": "[C:1]([OH:2])[C:3][C:4][C:5]Br",
    "rxn": "[C:1]([OH:2])[C:3][C:4][C:5]Br>>[C:1]1[O:2][C:3][C:4][C:5]1",
    "stereo_policy": "inversion",
    "type": "forward"
  },
  "D04_intramolecular_sn2_retro": {
    "brief": "Retro-intramolecular SN2: tetrahydrofuran ring opened to ω-bromo alcohol. Forward: base-mediated cyclization of halohydrin via intramolecular SN2, forming 5-membered cyclic ether.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "NaH/THF",
      "K2CO3/DMF",
      "KOtBu/THF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Intramolecular SN2 (Retro, ring reaction)",
    "note": "Intramolecular SN2 cyclization: alkoxide attacks terminal halide. 5-exo-tet cyclization strongly favored (Baldwin's rules). Base (NaH, K2CO3) deprotonates alcohol to generate alkoxide nucleophile. Inversion at electrophilic carbon. Competing elimination with secondary/tertiary halides.",
    "prereq": "[C:1]1[O:2][C:3][C:4][C:5]1",
    "rxn": "[C:1]1[O:2][C:3][C:4][C:5]1>>[C:1]([OH:2])[C:3][C:4][C:5]Br",
    "stereo_policy": "inversion",
    "type": "retro"
  },
  "D05_lactonization": {
    "brief": "Lactonization: intramolecular esterification of hydroxy acid. γ-Lactone (5-ring) and δ-lactone (6-ring) form readily; β-lactone (4-ring) requires special activation.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "DCC/DMAP/DCM",
      "p-TsOH/toluene/Dean-Stark",
      "Mukaiyama_reagent/Et3N",
      "Yamaguchi(2,4,6-Cl3C6H2COCl/Et3N/DMAP)"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Lactonization (Forward, ring reaction)",
    "note": "γ-Lactones (5-ring) and δ-lactones (6-ring) form readily under acid catalysis (p-TsOH, Dean-Stark) or coupling reagents (DCC/DMAP). β-Lactones (4-ring) are strained and require special activation (ketene, Mitsunobu). Macrolactonization needs high-dilution + Yamaguchi/Mukaiyama. Retention at chiral centers (acyl substitution mechanism, nucleophilic attack at C=O, not at stereocenter).",
    "prereq": "[O:1]=[C:2]([OH])[#6:3]~[#6]~[#6:4][OH:5]",
    "rxn": "[O:1]=[C:2]([OH])[#6:3]~[#6]~[#6:4][OH:5]>>[O:1]=[C:2]1[#6:3]~[#6]~[#6:4][O:5]1",
    "stereo_policy": "retention",
    "type": "forward"
  },
  "D05_lactonization_retro": {
    "brief": "Retro-lactonization: lactone ring opened to hydroxy acid. γ/δ-Lactones form readily; β-lactones require special activation; macrolactones need high-dilution.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "DCC/DMAP/DCM",
      "p-TsOH/toluene/Dean-Stark",
      "Mukaiyama_reagent/Et3N",
      "Yamaguchi(2,4,6-Cl3C6H2COCl/Et3N/DMAP)"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Lactonization (Retro, ring reaction)",
    "note": "Retrosynthetic: lactone disconnects to hydroxy acid. γ-Lactones (5-ring) and δ-lactones (6-ring) form readily under acid or coupling conditions. β-Lactones (4-ring) are strained, need special methods. Macrolactones need high-dilution (Yamaguchi, Mukaiyama). Retention at chiral centers (acyl substitution).",
    "prereq": "[O:1]=[C:2]1[#6:3]~[#6]~[#6:4][O:5]1",
    "rxn": "[O:1]=[C:2]1[#6:3]~[#6]~[#6:4][O:5]1>>[O:1]=[C:2]([OH])[#6:3]~[#6]~[#6:4][OH:5]",
    "stereo_policy": "retention",
    "type": "retro"
  },
  "D06_rcm": {
    "brief": "Ring-closing metathesis: acyclic diene cyclized to endocyclic alkene using Grubbs Ru-carbene catalyst. Releases ethylene.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "Grubbs_II/DCM/40C",
      "Hoveyda-Grubbs_II/toluene/80C"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "RCM (Forward, ring reaction)",
    "note": "RCM: Grubbs II or Hoveyda-Grubbs II. E/Z mixture of product alkene. Thiols and free amines poison Ru catalyst. Dilute conditions minimize oligomerization. Note: prereq uses '.' (two fragments) but RCM is intramolecular — both terminal alkenes must be in the same molecule. Application logic should verify connectivity.",
    "prereq": "[#6:1]=[CH2].[CH2]=[#6:2]",
    "rxn": "[#6:1]=[CH2].[CH2]=[#6:2]>>[#6:1]=[#6:2]",
    "stereo_policy": "not_applicable",
    "type": "forward",
    "stereo_detail": "E/Z mixture (poor geometric selectivity)"
  },
  "D06_rcm_retro": {
    "brief": "Retro-RCM: endocyclic alkene in non-aromatic ring disconnected to acyclic diene with two terminal alkenes. Forward: ring-closing metathesis using Grubbs catalyst.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "Grubbs_II/DCM/reflux",
      "Hoveyda-Grubbs_II/toluene/80C"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "RCM (Retro, ring reaction)",
    "note": "Ring-closing metathesis (RCM): Grubbs II or Hoveyda-Grubbs II catalyst. Releases ethylene (drives equilibrium). Forms E/Z mixture of endocyclic alkene (E/Z ratio depends on ring size; medium rings often E-selective, macrocycles give mixtures). NOT retention — RCM gives E/Z mixture. Thiols and free amines poison Ru catalyst. Retro prereq restricted to non-aromatic ring alkenes to avoid false positives on all C=C bonds.",
    "prereq": "[#6;R:1]=[#6;R:2]",
    "rxn": "[#6;R:1]=[#6;R:2]>>[#6:1]=[CH2].[CH2]=[#6:2]",
    "stereo_policy": "not_applicable",
    "type": "retro",
    "stereo_detail": "E/Z mixture (poor geometric selectivity)"
  },
  "D07_epoxide_opening_nucleophile": {
    "brief": "Epoxide opened by water/hydroxide to give 1,2-diol. Acid conditions: Markovnikov opening. Base conditions: SN2 at less hindered carbon. Anti addition overall.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "H2O/H+(acid_catalyzed)",
      "NaOH/H2O(base_catalyzed)",
      "H2O/perchloric_acid"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl"
    ],
    "name": "Epoxide Hydrolysis (Forward, ring reaction)",
    "note": "Epoxide hydrolysis: overall anti addition. Base-catalyzed: strict SN2, nucleophile attacks less substituted carbon (anti-Markovnikov), inversion at attacked carbon. Acid-catalyzed: partial SN1 character at more substituted carbon (Markovnikov), may give mixture of retention/inversion at benzylic/tertiary centers. Product is anti-1,2-diol under SN2 conditions.",
    "prereq": "[C:1]1[O:2][C:3]1",
    "rxn": "[C:1]1[O:2][C:3]1>>[C:1]([OH:2])[C:3]([OH])",
    "stereo_policy": "anti_addition",
    "type": "forward"
  },
  "D07_epoxide_opening_nucleophile_retro": {
    "brief": "Retro-epoxide hydrolysis: 1,2-diol disconnected to epoxide. Forward: nucleophilic opening with water/hydroxide, anti addition.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "H2O/H+(acid_catalyzed)",
      "NaOH/H2O(base_catalyzed)"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl"
    ],
    "name": "Epoxide Opening Nucleophile (Retro, ring reaction)",
    "note": "Retrosynthetic disconnection. Forward: SN2 anti addition. Acid: Markovnikov. Base: anti-Markovnikov.",
    "prereq": "[C:1]([OH:2])[C:3]([OH])",
    "rxn": "[C:1]([OH:2])[C:3]([OH])>>[C:1]1[O:2][C:3]1",
    "stereo_policy": "inversion",
    "type": "retro"
  },
  "D08_corey_chaykovsky": {
    "brief": "Corey-Chaykovsky: aldehyde or ketone converted to epoxide using dimethylsulfonium methylide (Me2S=CH2) or dimethylsulfoxonium methylide (Me2S(O)=CH2). Methylene transfer to C=O.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "Me3SI/NaH/DMSO",
      "Me3S(O)I/NaH/DMSO"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Corey Chaykovsky (Forward, ring reaction)",
    "note": "Corey-Chaykovsky: dimethylsulfonium methylide (from Me3SI + NaH) adds to aldehyde or ketone → epoxide. Dimethylsulfoxonium methylide (from Me3S(O)I + NaH) is less reactive, gives cyclopropane from enones (1,4-addition). Racemic at new stereocenters. Esters and amines tolerated by sulfoxonium ylide. Works on both aldehydes (RCHO → terminal epoxide) and ketones (RCOR' → trisubstituted epoxide).",
    "prereq": "[C:2](=[O:3])([#6:1])[#6,H:4]",
    "rxn": "[C:2](=[O:3])([#6:1])[#6,H:4]>>[C:2]1([#6:1])([#6,H:4])C[O:3]1",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "D08_corey_chaykovsky_retro": {
    "brief": "Retro-Corey-Chaykovsky: epoxide disconnected to aldehyde/ketone + methylene (sulfonium ylide). Forward: dimethylsulfonium methylide converts C=O to epoxide.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "Me3SI/NaH/DMSO",
      "Me3S(O)I/NaH/DMSO"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Corey Chaykovsky (Retro, ring reaction)",
    "note": "Retrosynthetic disconnection. Forward: Me3SI/NaH/DMSO generates ylide, attacks C=O (aldehyde or ketone) to give epoxide. Sulfoxonium ylide gives cyclopropane from enones. Works on both aldehydes and ketones.",
    "prereq": "[C:2]1([#6:1])([#6,H:4])C[O:3]1",
    "rxn": "[C:2]1([#6:1])([#6,H:4])C[O:3]1>>[C:2](=[O:3])([#6:1])[#6,H:4]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "D09_pauson_khand": {
    "brief": "Pauson-Khand [2+2+1]: alkyne + alkene + CO → cyclopentenone. Co2(CO)8-mediated. Intramolecular version highly efficient.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "Co2(CO)8/NMO/DCM",
      "Co2(CO)8/heat/toluene"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Pauson Khand (Forward, ring reaction)",
    "note": "Pauson-Khand: Co2(CO)8 complexes alkyne, [2+2+1] with alkene and CO insertion gives cyclopentenone ring. NMO promotes decomplexation. Racemic. Regioselectivity: larger alkyne substituent ends up α to C=O. Both inter- and intramolecular versions; intramolecular (enyne) is highly efficient and regioselective.",
    "prereq": "[C:1]#[C:2].[C:3]=[CH2]",
    "rxn": "[C:1]#[C:2].[C:3]=[CH2]>>[C:1]1(=[O])[C:2]=[C:3]C1",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "D09_pauson_khand_retro": {
    "brief": "Retro-Pauson-Khand: cyclopentenone ring disconnected to alkyne + alkene + CO. Forward: [2+2+1] cycloaddition mediated by Co2(CO)8.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "Co2(CO)8/NMO/DCM",
      "Co2(CO)8/heat/toluene",
      "[Rh(CO)2Cl]2/CO/DCE"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Pauson Khand (Retro, ring reaction)",
    "note": "Pauson-Khand reaction: Co2(CO)8 complexes alkyne, then [2+2+1] with alkene and CO insertion gives cyclopentenone. Intramolecular version (enyne) is highly efficient. Promoted by amine N-oxides (NMO) or heat. Racemic. Regioselectivity: larger alkyne substituent ends up α to C=O. Retro prereq restricted to 5-membered ring enone (cyclopentenone) to avoid false positives.",
    "prereq": "[C:1]1(=[O:2])[C:3]=[C:4]CC1",
    "rxn": "[C:1]1(=[O:2])[C:3]=[C:4]CC1>>[C:1]#[C:3].[C:4]=[CH2]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "D10_nazarov_cyclization": {
    "brief": "Nazarov cyclization: divinyl ketone undergoes 4π electrocyclic ring closure under Lewis acid catalysis to form cyclopentenone. Conrotatory under thermal conditions.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "BF3·Et2O/DCM",
      "FeCl3/DCM",
      "Cu(OTf)2/DCM"
    ],
    "incompatible_groups": [
      "[OX2H]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Nazarov Cyclization (Forward, ring reaction)",
    "note": "Nazarov cyclization: Lewis acid (BF3·Et2O, FeCl3, Cu(OTf)2) activates divinyl ketone (cross-conjugated: C=C-C(=O)-C=C). 4π electrocyclic closure gives oxyallyl cation, proton loss gives cyclopentenone. Conrotatory (thermal). Torquoselectivity determines which C=C migrates into ring. Racemic without chiral Lewis acid. Substrate must be divinyl ketone (vinyl groups on BOTH sides of C=O), not linear dienone.",
    "prereq": "[C:1]=[C:2][C:3](=[O:4])[C:5]=[C:6]",
    "rxn": "[C:1]=[C:2][C:3](=[O:4])[C:5]=[C:6]>>[C:1]1[C:2]=[C:3](=[O:4])[C:5][C:6]1",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "D11_fischer_indole": {
    "brief": "Fischer indole synthesis: aryl hydrazine + ketone → indole via acid-catalyzed [3,3]-sigmatropic rearrangement with loss of NH3.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "ZnCl2/AcOH/reflux",
      "p-TsOH/EtOH/reflux",
      "BF3·Et2O/THF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Fischer Indole (Forward, ring reaction)",
    "note": "Fischer indole: hydrazone → ene-hydrazine → [3,3]-sigmatropic → rearomatization → loss of NH3 → indole. Acid catalysts: ZnCl2, p-TsOH, BF3·Et2O. Regioselectivity issue with unsymmetrical ketones. Ketone must have α-H for ene-hydrazine tautomerization. Aryl hydrazine requires full benzene ring (6 aromatic carbons).",
    "prereq": "[c:1]1[c:2][c:3][c:4]([NH][NH2])[c:5][c:8]1.[C:6](=[O])[CH1,CH2,CH3:7][#6:9]",
    "rxn": "[c:1]1[c:2][c:3][c:4]([NH][NH2])[c:5][c:8]1.[C:6](=[O])[CH1,CH2,CH3:7][#6:9]>>[c:1]1[c:2][c:3][c:4]2[c:5][c:8]1[nH][c:6]([#6:9])[c:7]2",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "D11_fischer_indole_retro": {
    "brief": "Retro-Fischer indole: indole disconnected to aryl hydrazine + ketone. Forward: acid-catalyzed [3,3]-sigmatropic rearrangement of aryl hydrazone, with loss of NH3, forming indole ring.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "ZnCl2/AcOH/reflux",
      "p-TsOH/EtOH/reflux",
      "BF3·Et2O/THF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Fischer Indole (Retro, ring reaction)",
    "note": "Fischer indole synthesis: aryl hydrazine + ketone → hydrazone (under acid). Tautomerization to ene-hydrazine, then [3,3]-sigmatropic rearrangement, rearomatization, loss of NH3 → indole. Acid catalysts: ZnCl2, BF3·Et2O, p-TsOH, HCl. Regioselectivity issue with unsymmetrical ketones (two possible indoles). Ketone must have α-H.",
    "prereq": "[c:1]1[c:2][c:3][c:4]2[c:5][c:8]1[nH][c:6][c:7]2",
    "rxn": "[c:1]1[c:2][c:3][c:4]2[c:5][c:8]1[nH][c:6]([#6:9])[c:7]2>>[c:1]1[c:2][c:3][c:4]([NH][NH2])[c:5][c:8]1.[C:6](=[O])[CH1,CH2,CH3:7][#6:9]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "D12_hetero_diels_alder": {
    "brief": "Hetero-Diels-Alder: diene + aldehyde undergo [4+2] cycloaddition to form dihydropyran. Lewis acid catalyzed. Concerted, syn-addition.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "BF3·Et2O/DCM",
      "ZnCl2/DCM",
      "Yb(OTf)3/DCM"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Hetero Diels Alder (Forward, ring reaction)",
    "note": "Hetero-DA with C=O as heterodiene (C=C-C=O, normal electron demand: electron-rich dienophile) or dienophile (inverse electron demand: electron-poor C=O + electron-rich diene). Lewis acid (ZnCl2, BF3·Et2O) activates carbonyl. Stereochemistry retained (concerted syn-addition). Chiral Lewis acids for asymmetric variant. Dienophile scope: electron-rich alkenes (vinyl ethers, enamines) preferred for normal demand; electron-poor alkenes for inverse demand.",
    "prereq": "[#6:1]=[#6:2][#6:3]=[#8:4].[#6:5]=[#6:6]",
    "rxn": "[#6:1]=[#6:2][#6:3]=[#8:4].[#6:5]=[#6:6]>>[#6:1]1=[#6:2][#6:3][#8:4][#6:5][#6:6]1",
    "stereo_policy": "retention",
    "type": "forward"
  },
  "D12_hetero_diels_alder_retro": {
    "brief": "Retro-hetero-Diels-Alder: dihydropyran disconnected to α,β-unsaturated aldehyde (oxa-diene) + alkene (dienophile). Forward: [4+2] cycloaddition with oxygen in diene.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "ZnCl2/DCM",
      "Eu(fod)3/toluene",
      "Yb(OTf)3/DCM"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Hetero Diels Alder (Retro, ring reaction)",
    "note": "Hetero-Diels-Alder: carbonyl compound acts as heterodiene (C=C-C=O) or dienophile (C=O). Lewis acid catalysis (ZnCl2, Eu(fod)3, Yb(OTf)3) activates carbonyl. Concerted, syn-addition. Endo/exo selectivity applies. Chiral Lewis acids give enantioselective variants. Stereochemistry of diene/dienophile retained.",
    "prereq": "[#6:1]1=[#6:2][#6:3][#8:4][#6:5][#6:6]1",
    "rxn": "[#6:1]1=[#6:2][#6:3][#8:4][#6:5][#6:6]1>>[#6:1]=[#6:2][#6:3]=[#8:4].[#6:5]=[#6:6]",
    "stereo_policy": "retention",
    "type": "retro"
  },
  "D13_bergman_cyclization": {
    "brief": "Bergman cyclization: (Z)-enediyne undergoes thermal electrocyclic closure to form 1,4-dehydrobenzene (p-benzyne) diradical, which abstracts H atoms to give arene.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "heat(200C)/1,4-CHD(H-donor)",
      "heat/thiophenol(H-donor)"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl"
    ],
    "name": "Bergman Cyclization (Forward, ring reaction)",
    "note": "Bergman cyclization: requires (Z)-1,5-diyne-3-ene geometry. Thermal activation (~200°C or lower with strain). Generates highly reactive p-benzyne diradical. H-atom donor (1,4-cyclohexadiene, thiol) quenches diradical to arene. Basis of enediyne antitumor antibiotics (calicheamicin, dynemicin). Not stereospecific (radical intermediate).",
    "prereq": "[C:1]#[C:2][C:3]=[C:4][C:5]#[C:6]",
    "rxn": "[C:1]#[C:2][C:3]=[C:4][C:5]#[C:6]>>[c:1]1[c:2][c:3][c:4][c:5][c:6]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "D13_bergman_cyclization_retro": {
    "brief": "Retro-Bergman: arene disconnected to (Z)-enediyne. Forward: thermal electrocyclic closure of enediyne to p-benzyne diradical, then H-abstraction.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "heat(200C)/1,4-CHD(H-donor)",
      "heat/thiophenol(H-donor)"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl"
    ],
    "name": "Bergman Cyclization (Retro, ring reaction)",
    "note": "Retrosynthetic disconnection. Forward: thermal Bergman cyclization of (Z)-1,5-diyne-3-ene. Generates p-benzyne diradical. H-donor required. Retro prereq restricted to 1,4-disubstituted benzene (ortho-disubstituted) to reduce false positives — Bergman retrosynthesis is only practical when the arene has substituents at 1,4-positions corresponding to enediyne termini.",
    "prereq": "[#6:0][c:1]1[c:2][c:3][c:4]([#6:7])[c:5][c:6]1",
    "rxn": "[#6:0][c:1]1[c:2][c:3][c:4]([#6:7])[c:5][c:6]1>>[#6:0][C:1]#[C:2][C:3]=[C:4][C:5]#[C:6][#6:7]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "D14_lactam": {
    "brief": "Lactam formation: intramolecular amide bond formation from amino acid. Coupling reagent activates carboxyl, amine attacks to form cyclic amide (lactam).",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "EDC/HOBt/DCM",
      "DCC/DMAP/DCM",
      "T3P/iPr2NEt/DMF",
      "heat/high-dilution"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Lactam (Forward, ring reaction)",
    "note": "Lactam = cyclic amide. γ-Lactams (5-ring) and δ-lactams (6-ring) form readily with EDC/HOBt or DCC/DMAP. β-Lactams (4-ring) require Staudinger ([2+2] ketene-imine) or special activation. Macrolactams need high-dilution. Retention at chiral centers (acyl substitution). prereq requires COOH and NH in same molecule connected by tether; application logic should verify intramolecular connectivity.",
    "prereq": "[C:1](=[O:2])([OH])[#6:3]~[#6]~[NX3;H1,H2;+0:4]",
    "rxn": "[C:1](=[O:2])([OH])[#6:3]~[#6]~[NX3;H1,H2;+0:4]>>[C:1](=[O:2])[N:4]~[#6]~[#6:3]",
    "stereo_policy": "retention",
    "type": "forward"
  },
  "D14_lactam_retro": {
    "brief": "Retro-lactam: cyclic amide (lactam) ring opened to amino acid. Forward: intramolecular amide bond formation using coupling reagent or thermal cyclization.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "EDC/HOBt/DCM",
      "DCC/DMAP/DCM",
      "T3P/iPr2NEt/DMF",
      "heat/high-dilution"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Lactam (Retro, ring reaction)",
    "note": "Retrosynthetic: lactam (cyclic amide) disconnects to amino acid via amide bond cleavage. prereq requires amide bond within a ring (;R constraint). β-Lactams (4-ring) require special methods (Staudinger). γ/δ-Lactams form readily with EDC/HOBt or DCC/DMAP. Macrolactams need high-dilution. Retention at chiral centers (acyl substitution).",
    "prereq": "[C;R:1](=[O:2])[N;R:3]",
    "rxn": "[C;R:1](=[O:2])[N;R:3]>>[C:1](=[O:2])[OH].[N:3][H]",
    "stereo_policy": "retention",
    "type": "retro"
  },
  "D15_simmons_smith_cyclopropanation": {
    "brief": "Simmons-Smith cyclopropanation: alkene + CH2I2/Zn-Cu couple (or ZnEt2) delivers methylene to form cyclopropane. Syn-addition, directed by nearby OH.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "CH2I2/Zn-Cu/Et2O",
      "CH2I2/ZnEt2/DCM(Furukawa)",
      "CH2I2/ZnEt2/chiral_ligand"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Simmons Smith Cyclopropanation (Forward, ring reaction)",
    "note": "Simmons-Smith: Zn carbenoid (IZnCH2I) generated from CH2I2 + Zn-Cu or CH2I2 + ZnEt2 (Furukawa modification). Delivers CH2 to alkene in syn fashion. Allylic/homoallylic OH directs delivery to same face (chelation with Zn). Retention of alkene geometry in cyclopropane. Chiral bisoxazoline ligands for asymmetric variant.",
    "prereq": "[C:1]=[C:2]",
    "rxn": "[C:1]=[C:2]>>[C:1]1[CH2][C:2]1",
    "stereo_policy": "retention",
    "type": "forward"
  },
  "D15_simmons_smith_cyclopropanation_retro": {
    "brief": "Retro-Simmons-Smith: cyclopropane disconnected to alkene. Forward: Zn carbenoid (CH2I2/Zn-Cu) delivers methylene with syn-addition.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "CH2I2/Zn-Cu/Et2O",
      "CH2I2/ZnEt2/DCM"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Simmons Smith Cyclopropanation (Retro, ring reaction)",
    "note": "Retrosynthetic disconnection. Forward: CH2I2/Zn-Cu or ZnEt2. Syn-addition. Directed by allylic OH. Retention of alkene geometry.",
    "prereq": "[C:1]1[CH2][C:2]1",
    "rxn": "[C:1]1[CH2][C:2]1>>[C:1]=[C:2]",
    "stereo_policy": "retention",
    "type": "retro"
  },
  "D16_halohydrin_to_epoxide": {
    "brief": "Halohydrin cyclization: β-halohydrin treated with base to form epoxide via intramolecular SN2. Alkoxide displaces halide with inversion, giving trans-epoxide.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "NaOH/H2O",
      "K2CO3/MeOH",
      "NaH/THF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Halohydrin To Epoxide (Forward, ring reaction)",
    "note": "Base (NaOH, K2CO3, NaH) deprotonates alcohol, alkoxide attacks adjacent carbon bearing halide via intramolecular SN2 (3-exo-tet, Baldwin-favorable). Inversion at carbon bearing halide. Anti-periplanar arrangement of OH and X required. Fast, high-yielding for β-halohydrins.",
    "prereq": "[C:1]([OH:2])[C:3]([F,Cl,Br,I:4])",
    "rxn": "[C:1]([OH:2])[C:3]([F,Cl,Br,I])>>[C:1]1[O:2][C:3]1",
    "stereo_policy": "inversion",
    "type": "forward"
  },
  "D16_halohydrin_to_epoxide_retro": {
    "brief": "Retro-halohydrin cyclization: epoxide disconnected to β-halohydrin. Forward: base-mediated intramolecular SN2 of alkoxide on adjacent halide.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "NaOH/H2O",
      "K2CO3/MeOH"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Halohydrin To Epoxide (Retro, ring reaction)",
    "note": "Retrosynthetic disconnection. Forward: NaOH or K2CO3 deprotonates OH, alkoxide displaces halide via 3-exo-tet SN2. Inversion at halide carbon.",
    "prereq": "[C:1]1[O:2][C:3]1",
    "rxn": "[C:1]1[O:2][C:3]1>>[C:1]([OH:2])[C:3]([F,Cl,Br,I])",
    "stereo_policy": "inversion",
    "type": "retro"
  },
  "D20_diels_alder_forward": {
    "brief": "Diels-Alder [4+2] variant: conjugated diene + dienophile form cyclohexene. This template uses an alternative atom-mapping from D02. Concerted, syn-addition. Endo rule governs kinetic selectivity.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "neat/heat",
      "AlCl3/DCM",
      "ZnCl2/DCM"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Diels Alder (Forward, ring reaction)",
    "note": "Diels-Alder variant template (see also D02). Concerted pericyclic [4+2]. Suprafacial on both diene and dienophile. Normal electron demand: electron-rich diene + electron-poor dienophile (acrylate, maleic anhydride). Endo product kinetically favored. Diene must adopt s-cis conformation. Lewis acid catalysis (AlCl3, ZnCl2) accelerates.",
    "prereq": "[C:1]=[C:2][C:3]=[C:4].[C:5]=[C:6]",
    "rxn": "[C:1]=[C:2][C:3]=[C:4].[C:5]=[C:6]>>[C:1]1[C:2][C:6][C:5][C:4][C:3]1",
    "stereo_policy": "retention",
    "type": "forward"
  },
  "D20_diels_alder_retro": {
    "brief": "Retro-Diels-Alder variant: cyclohexene with at least one C=C in ring disconnected to diene + dienophile. See also D02 retro.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "neat/heat",
      "AlCl3/DCM"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Diels Alder (Retro, ring reaction)",
    "note": "Retrosynthetic disconnection (variant atom-mapping, see also D02 retro). Forward: concerted [4+2]. Endo rule. Retention of diene/dienophile stereochemistry. Retro prereq requires cyclohexene (ring with C=C) rather than saturated cyclohexane to reduce false positives.",
    "prereq": "[C:1]1[C:2]=[C:3][C:4][C:5][C:6]1",
    "rxn": "[C:1]1[C:2]=[C:3][C:4][C:5][C:6]1>>[C:1]=[C:2][C:3]=[C:4].[C:5]=[C:6]",
    "stereo_policy": "retention",
    "type": "retro"
  },
  "D21_hetero_diels_alder_forward": {
    "brief": "Hetero-Diels-Alder (carbonyl as dienophile): conjugated diene + aldehyde undergo [4+2] cycloaddition to form 3,4-dihydro-2H-pyran. Lewis acid catalyzed. Variant of D12 with different connectivity.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "BF3·Et2O/DCM",
      "ZnCl2/DCM",
      "Yb(OTf)3/DCM"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Hetero Diels Alder (Forward, ring reaction)",
    "note": "Hetero-DA variant: aldehyde acts as 2π dienophile with conjugated diene (inverse electron demand). D12 uses oxa-diene (C=C-C=O) + alkene; this template uses carbodiene (C=C-C=C) + aldehyde (O=C). Lewis acid (ZnCl2, BF3·Et2O, Eu(fod)3) activates carbonyl. Concerted, syn-addition. Stereochemistry of diene retained. Chiral Lewis acids for asymmetric variant.",
    "prereq": "[C:1]=[C:2][C:3]=[C:4].[O:5]=[CH1:6]",
    "rxn": "[C:1]=[C:2][C:3]=[C:4].[O:5]=[CH1:6]>>[O:5]1[C:6][C:1][C:2]=[C:3][C:4]1",
    "stereo_policy": "retention",
    "type": "forward"
  },
  "D21_hetero_diels_alder_retro": {
    "brief": "Retro-hetero-Diels-Alder (carbonyl as dienophile): dihydropyran disconnected to conjugated diene + aldehyde. Variant of D12 retro.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "ZnCl2/DCM",
      "BF3·Et2O/DCM"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Hetero Diels Alder (Retro, ring reaction)",
    "note": "Retrosynthetic disconnection (variant of D12 retro). This template disconnects dihydropyran to diene + aldehyde (C=O as dienophile). D12 retro disconnects to oxa-diene + alkene. Lewis acid catalyzed. Concerted, syn-addition. Stereochemistry retained.",
    "prereq": "[O:5]1[C:6][C:1][C:2]=[C:3][C:4]1",
    "rxn": "[O:5]1[C:6][C:1][C:2]=[C:3][C:4]1>>[C:1]=[C:2][C:3]=[C:4].[O:5]=[CH1:6]",
    "stereo_policy": "retention",
    "type": "retro"
  },
  "D23_robinson_annulation_forward": {
    "brief": "Robinson annulation: enolizable 1,3-diketone + enone (MVK) undergo Michael addition then intramolecular aldol condensation, forming cyclohexenone (annulated 6-ring).",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "NaOH/EtOH/H2O",
      "KOH/MeOH",
      "L-proline/DMSO(Hajos-Parrish)"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Robinson Annulation (Forward, ring reaction)",
    "note": "Robinson annulation = Michael + aldol + dehydration. Base-catalyzed (NaOH, KOH, NaOEt, L-proline). 1,3-Diketone enolizes, Michael addition to MVK, then intramolecular aldol cyclization and dehydration. Creates 2-cyclohexen-1-one. Racemic at ring junction. L-Proline gives asymmetric Hajos-Parrish variant. [Retro: see D03_robinson_annulation_retro]",
    "prereq": "[C:1]=[C:2][C:3](=O).[C:4](=O)[CH2:5][C:6](=O)",
    "rxn": "[C:1]=[C:2][C:3](=O).[C:4](=O)[CH2:5][C:6](=O)>>[C:4]1[CH2:5][C:6](=O)[C:1][C:2]=[C:3]1",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "D23_robinson_annulation_retro": {
    "brief": "Retro-Robinson annulation: cyclohexenone disconnected to enone + enolizable ketone. Forward: Michael + aldol + dehydration.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "NaOH/EtOH/H2O",
      "KOH/MeOH"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Robinson Annulation (Retro, ring reaction)",
    "note": "Retrosynthetic disconnection. Forward: base-catalyzed. MVK as Michael acceptor. Racemic at ring junction.",
    "prereq": "[C:4]1[CH2:5][C:6](=O)[C:1][C:2]=[C:3]1",
    "rxn": "[C:4]1[CH2:5][C:6](=O)[C:1][C:2]=[C:3]1>>[C:1]=[C:2][C:3](=O).[C:4](=O)[CH2:5][C:6](=O)",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "D24_intramolecular_sn2_thf_forward": {
    "brief": "Intramolecular SN2: ω-halo alcohol cyclizes to tetrahydrofuran (5-ring ether). Base deprotonates OH, alkoxide attacks halide-bearing carbon with inversion.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "NaH/THF",
      "K2CO3/DMF",
      "KOtBu/THF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Intramolecular SN2 Thf (Forward, ring reaction)",
    "note": "5-exo-tet cyclization (Baldwin-favorable). Base (NaH, K2CO3, KOtBu) generates alkoxide. SN2 at primary halide carbon with inversion. Competing elimination with secondary halides. THF ring formation is kinetically and thermodynamically favorable. [Retro: see D24_intramolecular_sn2_thf_retro]",
    "prereq": "[OH:1][CH2:2][CH2:3][CH2:4][CH2:5][Br,Cl,I:6]",
    "rxn": "[OH:1][CH2:2][CH2:3][CH2:4][CH2:5][Br,Cl,I]>>[O:1]1[CH2:2][CH2:3][CH2:4][CH2:5]1",
    "stereo_policy": "inversion",
    "type": "forward"
  },
  "D24_intramolecular_sn2_thf_retro": {
    "brief": "Retro-intramolecular SN2: THF ring opened to ω-halo alcohol. Forward: base-mediated 5-exo-tet cyclization.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "NaH/THF",
      "K2CO3/DMF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Intramolecular SN2 Thf (Retro, ring reaction)",
    "note": "Retrosynthetic disconnection. Forward: NaH/THF or K2CO3/DMF. 5-exo-tet (Baldwin-favorable). SN2 with inversion.",
    "prereq": "[O:1]1[CH2:2][CH2:3][CH2:4][CH2:5]1",
    "rxn": "[O:1]1[CH2:2][CH2:3][CH2:4][CH2:5]1>>[OH:1][CH2:2][CH2:3][CH2:4][CH2:5][Br,Cl,I]",
    "stereo_policy": "inversion",
    "type": "retro"
  },
  "D25_intramolecular_sn2_thp_forward": {
    "brief": "Intramolecular SN2: ω-halo alcohol cyclizes to tetrahydropyran (6-ring ether). Base generates alkoxide, which displaces halide intramolecularly.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "NaH/THF",
      "K2CO3/DMF",
      "KOtBu/THF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Intramolecular SN2 Thp (Forward, ring reaction)",
    "note": "6-exo-tet cyclization (Baldwin-favorable). THP ring formation is thermodynamically very favorable (chair conformation). Base (NaH, K2CO3) generates alkoxide nucleophile. SN2 with inversion at halide carbon. Primary halides preferred. [Retro: see D25_intramolecular_sn2_thp_retro]",
    "prereq": "[OH:1][CH2:2][CH2:3][CH2:4][CH2:5][CH2:6][Br,Cl,I:7]",
    "rxn": "[OH:1][CH2:2][CH2:3][CH2:4][CH2:5][CH2:6][Br,Cl,I]>>[O:1]1[CH2:2][CH2:3][CH2:4][CH2:5][CH2:6]1",
    "stereo_policy": "inversion",
    "type": "forward"
  },
  "D25_intramolecular_sn2_thp_retro": {
    "brief": "Retro-intramolecular SN2: THP ring opened to ω-halo alcohol. Forward: base-mediated 6-exo-tet cyclization.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "NaH/THF",
      "K2CO3/DMF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Intramolecular SN2 Thp (Retro, ring reaction)",
    "note": "Retrosynthetic disconnection. Forward: NaH/THF or K2CO3/DMF. 6-exo-tet (Baldwin-favorable). SN2 with inversion.",
    "prereq": "[O:1]1[CH2:2][CH2:3][CH2:4][CH2:5][CH2:6]1",
    "rxn": "[O:1]1[CH2:2][CH2:3][CH2:4][CH2:5][CH2:6]1>>[OH:1][CH2:2][CH2:3][CH2:4][CH2:5][CH2:6][Br,Cl,I]",
    "stereo_policy": "inversion",
    "type": "retro"
  },
  "D26_intramolecular_sn2_pyrrolidine_forward": {
    "brief": "Intramolecular SN2: ω-halo amine cyclizes to pyrrolidine (5-ring N-heterocycle). Amine nitrogen attacks halide-bearing carbon with inversion.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "K2CO3/DMF",
      "Et3N/CH3CN",
      "NaHCO3/DMF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Intramolecular SN2 Pyrrolidine (Forward, ring reaction)",
    "note": "5-exo-tet cyclization (Baldwin-favorable). Primary amine is nucleophilic enough without base, but base (K2CO3, Et3N) scavenges HX. SN2 with inversion. Pyrrolidine formation is kinetically favorable. Competing intermolecular dialkylation possible — use dilute conditions. [Retro: see D26_intramolecular_sn2_pyrrolidine_retro]",
    "prereq": "[NH2:1][CH2:2][CH2:3][CH2:4][CH2:5][Br,Cl,I:6]",
    "rxn": "[NH2:1][CH2:2][CH2:3][CH2:4][CH2:5][Br,Cl,I]>>[N:1]1[CH2:2][CH2:3][CH2:4][CH2:5]1",
    "stereo_policy": "inversion",
    "type": "forward"
  },
  "D26_intramolecular_sn2_pyrrolidine_retro": {
    "brief": "Retro-intramolecular SN2: pyrrolidine (NH) ring opened to ω-halo amine. Forward: 5-exo-tet cyclization.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "K2CO3/DMF",
      "Et3N/CH3CN"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Intramolecular SN2 Pyrrolidine (Retro, ring reaction)",
    "note": "Retrosynthetic disconnection. Forward: K2CO3/DMF. 5-exo-tet. SN2 with inversion. Prereq requires NH pyrrolidine (not N-substituted) to match forward NH2 starting material.",
    "prereq": "[NH1:1]1[CH2:2][CH2:3][CH2:4][CH2:5]1",
    "rxn": "[NH1:1]1[CH2:2][CH2:3][CH2:4][CH2:5]1>>[NH2:1][CH2:2][CH2:3][CH2:4][CH2:5][Br,Cl,I]",
    "stereo_policy": "inversion",
    "type": "retro"
  },
  "D27_intramolecular_sn2_piperidine_forward": {
    "brief": "Intramolecular SN2: ω-halo amine cyclizes to piperidine (6-ring N-heterocycle). Amine nitrogen displaces halide intramolecularly.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "K2CO3/DMF",
      "Et3N/CH3CN",
      "NaHCO3/DMF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Intramolecular SN2 Piperidine (Forward, ring reaction)",
    "note": "6-exo-tet cyclization (Baldwin-favorable). Piperidine ring is thermodynamically very stable (chair). Base (K2CO3, Et3N) scavenges HX. SN2 with inversion at halide carbon. Primary halides preferred. Dilute conditions minimize oligomerization. [Retro: see D27_intramolecular_sn2_piperidine_retro]",
    "prereq": "[NH2:1][CH2:2][CH2:3][CH2:4][CH2:5][CH2:6][Br,Cl,I:7]",
    "rxn": "[NH2:1][CH2:2][CH2:3][CH2:4][CH2:5][CH2:6][Br,Cl,I]>>[N:1]1[CH2:2][CH2:3][CH2:4][CH2:5][CH2:6]1",
    "stereo_policy": "inversion",
    "type": "forward"
  },
  "D27_intramolecular_sn2_piperidine_retro": {
    "brief": "Retro-intramolecular SN2: piperidine (NH) ring opened to ω-halo amine. Forward: 6-exo-tet cyclization.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "K2CO3/DMF",
      "Et3N/CH3CN"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Intramolecular SN2 Piperidine (Retro, ring reaction)",
    "note": "Retrosynthetic disconnection. Forward: K2CO3/DMF. 6-exo-tet. SN2 with inversion. Prereq requires NH piperidine (not N-substituted) to match forward NH2 starting material.",
    "prereq": "[NH1:1]1[CH2:2][CH2:3][CH2:4][CH2:5][CH2:6]1",
    "rxn": "[NH1:1]1[CH2:2][CH2:3][CH2:4][CH2:5][CH2:6]1>>[NH2:1][CH2:2][CH2:3][CH2:4][CH2:5][CH2:6][Br,Cl,I]",
    "stereo_policy": "inversion",
    "type": "retro"
  },
  "D28_baeyer_villiger_cyclic_ketone_to_lactone": {
    "brief": "Baeyer-Villiger oxidation: cyclic ketone oxidized to lactone by peracid (mCPBA, CF3CO3H). Oxygen inserted between C=O and most substituted α-carbon. Migratory aptitude governs regioselectivity.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "mCPBA/DCM",
      "CF3CO3H/DCM",
      "H2O2/SeO2"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Baeyer Villiger Cyclic Ketone To Lactone (Forward, ring reaction)",
    "note": "BV oxidation: peracid attacks ketone C=O, Criegee intermediate rearranges with migration of more substituted group (migratory aptitude: tert > sec > aryl > primary > methyl). Retention of configuration at migrating carbon. Sulfides oxidized to sulfoxides (competing). Free amines form N-oxides (competing). Prereq allows substituted cyclopentanones (not restricted to all-CH2).",
    "prereq": "[C:1]1(=[O:2])[#6:3][#6:4][#6:5][#6:6]1",
    "rxn": "[C:1]1(=[O:2])[#6:3][#6:4][#6:5][#6:6]1>>[O:2]1[C:1](=O)[#6:3][#6:4][#6:5][#6:6]1",
    "stereo_policy": "retention",
    "type": "forward"
  },
  "D28_baeyer_villiger_cyclic_ketone_to_lactone_retro": {
    "brief": "Retro-Baeyer-Villiger: lactone disconnected to cyclic ketone. Forward: peracid oxidation inserts oxygen, ring expansion.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "mCPBA/DCM",
      "CF3CO3H/DCM"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Baeyer Villiger Cyclic Ketone To Lactone (Retro, ring reaction)",
    "note": "Retrosynthetic disconnection. Forward: mCPBA or CF3CO3H. Migratory aptitude governs regioselectivity. Retention at migrating carbon. Prereq allows substituted 6-membered lactones.",
    "prereq": "[O:2]1[C:1](=O)[#6:3][#6:4][#6:5][#6:6]1",
    "rxn": "[O:2]1[C:1](=O)[#6:3][#6:4][#6:5][#6:6]1>>[C:1]1(=[O:2])[#6:3][#6:4][#6:5][#6:6]1",
    "stereo_policy": "retention",
    "type": "retro"
  },
  "D29_paterno_buchi_oxetane": {
    "brief": "Paternò-Büchi reaction: photochemical [2+2] cycloaddition of carbonyl (C=O) with alkene to form oxetane (4-membered ring with oxygen).",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "hv(UV)/acetone_sensitizer",
      "hv(300nm)/direct_irradiation"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Paterno Buchi Oxetane (Forward, ring reaction)",
    "note": "Paternò-Büchi: UV irradiation excites carbonyl to n→π* triplet state, which undergoes [2+2] with alkene. Stepwise (diradical intermediate), not concerted. Regioselectivity: more stable diradical intermediate preferred. Racemic. Oxetanes are useful synthetic intermediates. Prereq restricted to aldehyde/ketone C=O (not ester/amide) and non-aromatic C=C.",
    "prereq": "[CX3;!$(C(=O)[#7,#8,#16]):1]=[O:2].[C;!a:3]=[C;!a:4]",
    "rxn": "[CX3;!$(C(=O)[#7,#8,#16]):1]=[O:2].[C;!a:3]=[C;!a:4]>>[O:2]1[C:1][C:3][C:4]1",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "D29_paterno_buchi_oxetane_retro": {
    "brief": "Retro-Paternò-Büchi: oxetane disconnected to carbonyl + alkene. Forward: photochemical [2+2] of C=O with alkene under UV.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "hv(UV)/acetone_sensitizer",
      "hv(300nm)/direct_irradiation"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Paterno Buchi Oxetane (Retro, ring reaction)",
    "note": "Retro-Paternò-Büchi disconnection. Forward: UV excites carbonyl (n→π*), [2+2] with alkene gives oxetane. Stepwise diradical mechanism. Racemic. Prereq matches oxetane ring (O + 3 carbons in 4-membered ring).",
    "prereq": "[O:2]1[CX4:1][CX4:3][CX4:4]1",
    "rxn": "[O:2]1[CX4:1][CX4:3][CX4:4]1>>[CX3:1](=[O:2]).[C:3]=[C:4]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "D30_alkene_2plus2_cycloaddition": {
    "brief": "Photochemical [2+2] cycloaddition: two alkenes combine under UV irradiation to form cyclobutane. Suprafacial-suprafacial allowed photochemically (Woodward-Hoffmann).",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "hv(UV)/acetone_sensitizer",
      "hv(254nm)/quartz",
      "hv/[Ru(bpy)3]Cl2(photocatalyst)"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Alkene 2plus2 Cycloaddition (Forward, ring reaction)",
    "note": "[2+2] cycloaddition: thermally forbidden (Woodward-Hoffmann), photochemically allowed (suprafacial-suprafacial). UV excites one alkene to S1/T1, stepwise diradical mechanism. Intramolecular [2+2] is powerful for strained ring synthesis. Ketene [2+2] with alkenes is thermally allowed (ketene HOMO is orthogonal). Racemic at new stereocenters.",
    "prereq": "[C:1]=[C:2].[C:3]=[C:4]",
    "rxn": "[C:1]=[C:2].[C:3]=[C:4]>>[C:1]1[C:2][C:4][C:3]1",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "D30_alkene_2plus2_cycloaddition_retro": {
    "brief": "Retro-[2+2]: cyclobutane disconnected to two alkenes. Forward: photochemical [2+2] cycloaddition under UV.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "hv(UV)/acetone_sensitizer",
      "hv(254nm)/quartz"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Alkene 2plus2 Cycloaddition (Retro, ring reaction)",
    "note": "Retro-[2+2] disconnection. Forward: photochemically allowed [2+2]. UV irradiation, stepwise diradical. Thermal retro-[2+2] possible at high temperature. Racemic.",
    "prereq": "[C:1]1[C:2][C:4][C:3]1",
    "rxn": "[C:1]1[C:2][C:4][C:3]1>>[C:1]=[C:2].[C:3]=[C:4]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "D31_reductive_amination_cyclization_pyrrolidine": {
    "brief": "Intramolecular reductive amination: amino aldehyde cyclizes to pyrrolidine. Amine condenses with aldehyde to form cyclic imine/iminium, then NaBH3CN reduces to amine.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "NaBH3CN/AcOH/MeOH",
      "NaBH(OAc)3/DCE",
      "NaBH3CN/pH7_buffer"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Reductive Amination Cyclization Pyrrolidine (Forward, ring reaction)",
    "note": "Intramolecular reductive amination: amine + aldehyde → cyclic iminium ion (spontaneous for 5-ring), then NaBH3CN or NaBH(OAc)3 reduces selectively (does not reduce aldehyde at pH 6-7). AcOH as acid catalyst. Racemic at new stereocenter. 5-exo-trig cyclization is Baldwin-favorable.",
    "prereq": "[NH2:1][CH2:2][CH2:3][CH2:4][CH1:5](=[O:6])",
    "rxn": "[NH2:1][CH2:2][CH2:3][CH2:4][CH1:5](=[O])>>[N:1]1[CH2:2][CH2:3][CH2:4][CH2:5]1",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "D31_reductive_amination_cyclization_pyrrolidine_retro": {
    "brief": "Retro-reductive amination: pyrrolidine (NH) disconnected to amino aldehyde. Forward: intramolecular reductive amination with NaBH3CN.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "NaBH3CN/AcOH/MeOH",
      "NaBH(OAc)3/DCE"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Reductive Amination Cyclization Pyrrolidine (Retro, ring reaction)",
    "note": "Retrosynthetic disconnection of pyrrolidine N-C bond to amino aldehyde. Forward uses NaBH3CN/AcOH/MeOH. 5-exo-trig cyclization. Racemic. Prereq requires NH pyrrolidine (not N-substituted) to match forward NH2 starting material.",
    "prereq": "[NH1:1]1[CH2:2][CH2:3][CH2:4][CH2:5]1",
    "rxn": "[NH1:1]1[CH2:2][CH2:3][CH2:4][CH2:5]1>>[NH2:1][CH2:2][CH2:3][CH2:4][CH1:5](=[O])",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "D32_reductive_amination_cyclization_piperidine": {
    "brief": "Intramolecular reductive amination: amino aldehyde cyclizes to piperidine. Amine condenses with aldehyde to form cyclic iminium, then NaBH3CN reduces to amine.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "NaBH3CN/AcOH/MeOH",
      "NaBH(OAc)3/DCE",
      "NaBH3CN/pH7_buffer"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Reductive Amination Cyclization Piperidine (Forward, ring reaction)",
    "note": "Intramolecular reductive amination for 6-ring: amine + aldehyde → cyclic iminium, NaBH3CN or NaBH(OAc)3 reduces. 6-exo-trig cyclization is Baldwin-favorable. Piperidine ring is very stable (chair). Racemic at new stereocenter. AcOH catalyzes iminium formation.",
    "prereq": "[NH2:1][CH2:2][CH2:3][CH2:4][CH2:5][CH1:6](=[O:7])",
    "rxn": "[NH2:1][CH2:2][CH2:3][CH2:4][CH2:5][CH1:6](=[O])>>[N:1]1[CH2:2][CH2:3][CH2:4][CH2:5][CH2:6]1",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "D32_reductive_amination_cyclization_piperidine_retro": {
    "brief": "Retro-reductive amination: piperidine (NH) disconnected to amino aldehyde. Forward: intramolecular reductive amination with NaBH3CN.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "NaBH3CN/AcOH/MeOH",
      "NaBH(OAc)3/DCE"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Reductive Amination Cyclization Piperidine (Retro, ring reaction)",
    "note": "Retrosynthetic disconnection of piperidine N-C bond to amino aldehyde. Forward uses NaBH3CN/AcOH/MeOH. 6-exo-trig cyclization. Racemic. Prereq requires NH piperidine (not N-substituted) to match forward NH2 starting material.",
    "prereq": "[NH1:1]1[CH2:2][CH2:3][CH2:4][CH2:5][CH2:6]1",
    "rxn": "[NH1:1]1[CH2:2][CH2:3][CH2:4][CH2:5][CH2:6]1>>[NH2:1][CH2:2][CH2:3][CH2:4][CH2:5][CH1:6](=[O])",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "D33_intramolecular_FC_acylation_indanone": {
    "brief": "Intramolecular Friedel-Crafts acylation: arylpropanoyl chloride cyclizes to indanone (5-ring fused to benzene) under Lewis acid (AlCl3). No rearrangement.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "AlCl3/DCM",
      "AlCl3/nitrobenzene",
      "P2O5/methanesulfonic_acid"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Intramolecular FC Acylation Indanone (Forward, ring reaction)",
    "note": "Intramolecular FC acylation: AlCl3 (>1 equiv) activates acyl chloride, intramolecular electrophilic attack on arene. 5-exo-trig cyclization gives indanone. No carbocation rearrangement (acylium is resonance-stabilized). Free amines complex with AlCl3. Deactivated arenes (nitro) unreactive.",
    "prereq": "[c:1]1ccccc1[CH2:2][CH2:3][C:4](=O)Cl",
    "rxn": "[c:1]1ccccc1[CH2:2][CH2:3][C:4](=O)Cl>>[O]=[C:4]1[CH2:2][CH2:3][c:1]2ccccc21",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "D33_intramolecular_FC_acylation_indanone_retro": {
    "brief": "Retro-intramolecular FC acylation: indanone disconnected to arylpropanoyl chloride. Forward: AlCl3-catalyzed cyclization.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "AlCl3/DCM",
      "AlCl3/nitrobenzene"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Intramolecular FC Acylation Indanone (Retro, ring reaction)",
    "note": "Retrosynthetic disconnection. Forward uses AlCl3/DCM. No rearrangement. Free amines and alcohols incompatible.",
    "prereq": "[O]=[C:4]1[CH2:2][CH2:3][c:1]2ccccc21",
    "rxn": "[O]=[C:4]1[CH2:2][CH2:3][c:1]2ccccc21>>[c:1]1ccccc1[CH2:2][CH2:3][C:4](=O)Cl",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "D34_intramolecular_FC_acylation_tetralone": {
    "brief": "Intramolecular Friedel-Crafts acylation: arylbutanoyl chloride cyclizes to tetralone (6-ring fused to benzene) under Lewis acid (AlCl3).",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "AlCl3/DCM",
      "AlCl3/nitrobenzene",
      "polyphosphoric_acid(PPA)"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Intramolecular FC Acylation Tetralone (Forward, ring reaction)",
    "note": "Intramolecular FC acylation for 6-ring: AlCl3 activates acyl chloride, electrophilic cyclization gives α-tetralone. 6-exo-trig. No rearrangement. Haworth synthesis of naphthalenes uses this step. Free amines and alcohols incompatible with Lewis acid conditions.",
    "prereq": "[c:1]1ccccc1[CH2:2][CH2:3][CH2:4][C:5](=O)Cl",
    "rxn": "[c:1]1ccccc1[CH2:2][CH2:3][CH2:4][C:5](=O)Cl>>[O]=[C:5]1[CH2:2][CH2:3][CH2:4][c:1]2ccccc21",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "D34_intramolecular_FC_acylation_tetralone_retro": {
    "brief": "Retro-intramolecular FC acylation: tetralone disconnected to arylbutanoyl chloride. Forward: AlCl3-catalyzed cyclization.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "AlCl3/DCM",
      "polyphosphoric_acid(PPA)"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Intramolecular FC Acylation Tetralone (Retro, ring reaction)",
    "note": "Retrosynthetic disconnection. Forward uses AlCl3/DCM. Haworth synthesis step. Free amines and alcohols incompatible.",
    "prereq": "[O]=[C:5]1[CH2:2][CH2:3][CH2:4][c:1]2ccccc21",
    "rxn": "[O]=[C:5]1[CH2:2][CH2:3][CH2:4][c:1]2ccccc21>>[c:1]1ccccc1[CH2:2][CH2:3][CH2:4][C:5](=O)Cl",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "D35_intramolecular_FC_alkylation_indane": {
    "brief": "Intramolecular Friedel-Crafts alkylation: aryl alkyl halide cyclizes to indane under Lewis acid. Carbocation rearrangement possible.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "AlCl3/DCM",
      "FeCl3/DCM",
      "H2SO4"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Intramolecular FC Alkylation Indane (Forward, ring reaction)",
    "note": "Intramolecular FC alkylation: AlCl3 or FeCl3 generates carbocation from alkyl halide, intramolecular electrophilic attack on arene. 5-exo-trig gives indane. Carbocation rearrangement possible (unlike FC acylation). Free amines complex with Lewis acid. Racemic if stereocenter created.",
    "prereq": "[c:1]1ccccc1[CH2:2][CH2:3][CH2:4][Br,Cl,I:5]",
    "rxn": "[c:1]1ccccc1[CH2:2][CH2:3][CH2:4][Br,Cl,I]>>[c:1]12ccccc1[CH2:2][CH2:3][CH2:4]2",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "D35_intramolecular_FC_alkylation_indane_retro": {
    "brief": "Retro-intramolecular FC alkylation: indane disconnected to aryl alkyl halide. Forward: Lewis acid-catalyzed cyclization.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "AlCl3/DCM",
      "FeCl3/DCM"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Intramolecular FC Alkylation Indane (Retro, ring reaction)",
    "note": "Retrosynthetic disconnection. Forward uses AlCl3 or FeCl3. Carbocation rearrangement possible. Free amines incompatible.",
    "prereq": "[c:1]12ccccc1[CH2:2][CH2:3][CH2:4]2",
    "rxn": "[c:1]12ccccc1[CH2:2][CH2:3][CH2:4]2>>[c:1]1ccccc1[CH2:2][CH2:3][CH2:4][Br,Cl,I]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "D37_intramolecular_sn2_oxepane_forward": {
    "brief": "Intramolecular SN2: ω-halo alcohol cyclizes to oxepane (7-ring ether). Base generates alkoxide, which displaces halide. 7-exo-tet cyclization.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "NaH/THF/high-dilution",
      "K2CO3/DMF",
      "KOtBu/THF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Intramolecular SN2 Oxepane (Forward, ring reaction)",
    "note": "7-exo-tet cyclization (Baldwin-favorable but slower than 5/6-ring). Oxepane formation is less favorable than THF/THP due to transannular strain. High-dilution or template effects may be needed. Base (NaH, K2CO3) generates alkoxide. SN2 with inversion. [Retro: see D37_intramolecular_sn2_oxepane_retro]",
    "prereq": "[OH:1][CH2:2][CH2:3][CH2:4][CH2:5][CH2:6][CH2:7][Br,Cl,I:8]",
    "rxn": "[OH:1][CH2:2][CH2:3][CH2:4][CH2:5][CH2:6][CH2:7][Br,Cl,I]>>[O:1]1[CH2:2][CH2:3][CH2:4][CH2:5][CH2:6][CH2:7]1",
    "stereo_policy": "inversion",
    "type": "forward"
  },
  "D37_intramolecular_sn2_oxepane_retro": {
    "brief": "Retro-intramolecular SN2: oxepane (7-ring ether) opened to ω-halo alcohol. Forward: base-mediated cyclization.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "NaH/THF",
      "K2CO3/DMF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Intramolecular SN2 Oxepane (Retro, ring reaction)",
    "note": "Retrosynthetic disconnection. Forward uses NaH/THF or K2CO3/DMF. 7-exo-tet. High-dilution may be needed.",
    "prereq": "[O:1]1[CH2:2][CH2:3][CH2:4][CH2:5][CH2:6][CH2:7]1",
    "rxn": "[O:1]1[CH2:2][CH2:3][CH2:4][CH2:5][CH2:6][CH2:7]1>>[OH:1][CH2:2][CH2:3][CH2:4][CH2:5][CH2:6][CH2:7][Br,Cl,I]",
    "stereo_policy": "inversion",
    "type": "retro"
  },
  "D38_intramolecular_sn2_azepane_forward": {
    "brief": "Intramolecular SN2: ω-halo amine cyclizes to azepane (7-ring N-heterocycle). Amine nitrogen displaces halide intramolecularly.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "K2CO3/DMF/high-dilution",
      "Et3N/CH3CN",
      "Cs2CO3/DMF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Intramolecular SN2 Azepane (Forward, ring reaction)",
    "note": "7-exo-tet cyclization for azepane. Slower than pyrrolidine/piperidine formation. High-dilution conditions minimize intermolecular dialkylation. Base (K2CO3, Et3N) scavenges HX. SN2 with inversion at halide carbon. [Retro: see D38_intramolecular_sn2_azepane_retro]",
    "prereq": "[NH2:1][CH2:2][CH2:3][CH2:4][CH2:5][CH2:6][CH2:7][Br,Cl,I:8]",
    "rxn": "[NH2:1][CH2:2][CH2:3][CH2:4][CH2:5][CH2:6][CH2:7][Br,Cl,I]>>[N:1]1[CH2:2][CH2:3][CH2:4][CH2:5][CH2:6][CH2:7]1",
    "stereo_policy": "inversion",
    "type": "forward"
  },
  "D38_intramolecular_sn2_azepane_retro": {
    "brief": "Retro-intramolecular SN2: azepane (NH) opened to ω-halo amine. Forward: base-mediated cyclization.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "K2CO3/DMF",
      "Et3N/CH3CN"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Intramolecular SN2 Azepane (Retro, ring reaction)",
    "note": "Retrosynthetic disconnection. Forward uses K2CO3/DMF. 7-exo-tet. High-dilution conditions. Prereq requires NH azepane (not N-substituted) to match forward NH2 starting material.",
    "prereq": "[NH1:1]1[CH2:2][CH2:3][CH2:4][CH2:5][CH2:6][CH2:7]1",
    "rxn": "[NH1:1]1[CH2:2][CH2:3][CH2:4][CH2:5][CH2:6][CH2:7]1>>[NH2:1][CH2:2][CH2:3][CH2:4][CH2:5][CH2:6][CH2:7][Br,Cl,I]",
    "stereo_policy": "inversion",
    "type": "retro"
  },
  "D39_reductive_amination_cyclization_azepane": {
    "brief": "Intramolecular reductive amination: amino aldehyde cyclizes to azepane (7-ring). Amine condenses with aldehyde, NaBH3CN reduces cyclic iminium to amine.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "NaBH3CN/AcOH/MeOH",
      "NaBH(OAc)3/DCE",
      "NaBH3CN/Ti(OiPr)4/MeOH"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Reductive Amination Cyclization Azepane (Forward, ring reaction)",
    "note": "Intramolecular reductive amination for 7-ring. 7-exo-trig cyclization is slower than 5/6-ring. NaBH3CN or NaBH(OAc)3 as selective reductant. AcOH catalyzes iminium formation. Racemic at new stereocenter. May require higher concentration or longer reaction time than 5/6-ring analogs.",
    "prereq": "[NH2:1][CH2:2][CH2:3][CH2:4][CH2:5][CH2:6][CH1:7](=[O:8])",
    "rxn": "[NH2:1][CH2:2][CH2:3][CH2:4][CH2:5][CH2:6][CH1:7](=[O])>>[N:1]1[CH2:2][CH2:3][CH2:4][CH2:5][CH2:6][CH2:7]1",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "D39_reductive_amination_cyclization_azepane_retro": {
    "brief": "Retro-reductive amination: azepane (NH) disconnected to amino aldehyde. Forward: intramolecular reductive amination with NaBH3CN.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "NaBH3CN/AcOH/MeOH",
      "NaBH(OAc)3/DCE"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Reductive Amination Cyclization Azepane (Retro, ring reaction)",
    "note": "Retrosynthetic disconnection. Forward uses NaBH3CN/AcOH/MeOH. 7-exo-trig. Racemic. Prereq requires NH azepane (not N-substituted) to match forward NH2 starting material.",
    "prereq": "[NH1:1]1[CH2:2][CH2:3][CH2:4][CH2:5][CH2:6][CH2:7]1",
    "rxn": "[NH1:1]1[CH2:2][CH2:3][CH2:4][CH2:5][CH2:6][CH2:7]1>>[NH2:1][CH2:2][CH2:3][CH2:4][CH2:5][CH2:6][CH1:7](=[O])",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "D40_nazarov_retro": {
    "brief": "Retro-Nazarov: cyclopentenone disconnected to divinyl ketone. Forward: Lewis acid-catalyzed 4π electrocyclic closure of divinyl ketone to cyclopentenone.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "BF3·Et2O/DCM",
      "FeCl3/DCM",
      "Cu(OTf)2/DCM"
    ],
    "incompatible_groups": [
      "[OX2H]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Nazarov Cyclization (Retro, ring reaction)",
    "note": "Retro-Nazarov disconnection. Forward Nazarov cyclization: Lewis acid (BF3·Et2O, FeCl3) activates divinyl ketone (cross-conjugated: C=C-C(=O)-C=C), conrotatory 4π electrocyclic closure, proton loss gives cyclopentenone. Racemic without chiral Lewis acid. Torquoselectivity determines regiochemistry of double bond in product.",
    "prereq": "[C:1]1(=[O:2])[C:3]=[C:4][C:5][C:6]1",
    "rxn": "[C:1]1(=[O:2])[C:3]=[C:4][C:5][C:6]1>>[C:6]=[C:5][C:1](=[O:2])[C:3]=[C:4]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "D45_intramolecular_aldol": {
    "brief": "Intramolecular aldol: 1,4-diketone cyclizes to cyclic β-hydroxy ketone (5-ring) under base or acid catalysis.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "NaOH/H2O/EtOH",
      "LDA/THF/-78C",
      "L-proline/DMSO"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Intramolecular Aldol 5-Ring (Forward, ring reaction)",
    "note": "5-exo-trig cyclization (Baldwin-favorable). Base (NaOH, LDA) or acid (BF3·Et2O). Racemic. Hajos-Parrish (L-proline) for asymmetric.",
    "prereq": "[C:1](=[O:2])[C:3][C:4](=[O:5])[C:6][C:7]=O",
    "rxn": "[C:1](=[O:2])[C:3][C:4](=[O:5])[C:6][C:7]=O>>[C:1]1([OH:2])[C:3][C:4](=[O:5])[C:6][C:7]1",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "D45_intramolecular_aldol_retro": {
    "brief": "Retro-intramolecular aldol: cyclic β-hydroxy ketone (5-ring) disconnected to 1,4-diketone/keto-aldehyde. Forward: base-catalyzed intramolecular aldol cyclization.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "NaOH/H2O/EtOH",
      "LDA/THF/-78C",
      "L-proline/DMSO(asymmetric)"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Intramolecular Aldol 5-Ring (Retro, ring reaction)",
    "note": "Retro-intramolecular aldol for 5-ring. Forward: base (NaOH, LDA) or acid (BF3·Et2O) catalyzes enolization, intramolecular aldol gives cyclic β-hydroxy ketone. 5-exo-trig (Baldwin-favorable). Racemic at new stereocenters. Hajos-Parrish reaction (L-proline) gives asymmetric variant.",
    "prereq": "[C:1]1([OH:2])[C:3][C:4](=[O:5])[C:6][C:7]1",
    "rxn": "[C:1]1([OH:2])[C:3][C:4](=[O:5])[C:6][C:7]1>>[C:1](=[O:2])[C:3][C:4](=[O:5])[C:6][C:7]=O",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "D45b_intramolecular_aldol_6ring": {
    "brief": "Intramolecular aldol: 1,5-diketone cyclizes to cyclic β-hydroxy ketone (6-ring) under base or acid catalysis.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "NaOH/H2O/EtOH",
      "LDA/THF/-78C",
      "BF3·Et2O/DCM"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Intramolecular Aldol 6-Ring (Forward, ring reaction)",
    "note": "6-exo-trig cyclization (Baldwin-favorable). Thermodynamically favorable (chair TS). Racemic. Widely used in terpene synthesis.",
    "prereq": "[C:1](=[O:2])[C:3][C:4](=[O:5])[C:6][C:7][C:8]=O",
    "rxn": "[C:1](=[O:2])[C:3][C:4](=[O:5])[C:6][C:7][C:8]=O>>[C:1]1([OH:2])[C:3][C:4](=[O:5])[C:6][C:7][C:8]1",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "D45b_intramolecular_aldol_6ring_retro": {
    "brief": "Retro-intramolecular aldol: cyclic β-hydroxy ketone (6-ring) disconnected to 1,5-diketone/keto-aldehyde. Forward: base-catalyzed intramolecular aldol cyclization.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "NaOH/H2O/EtOH",
      "LDA/THF/-78C",
      "BF3·Et2O/DCM"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Intramolecular Aldol 6-Ring (Retro, ring reaction)",
    "note": "Retro-intramolecular aldol for 6-ring. Forward: base or acid catalyzed. 6-exo-trig (Baldwin-favorable). Thermodynamically favorable (chair-like TS). Racemic at new stereocenters. Widely used in polyketide and terpene synthesis.",
    "prereq": "[C:1]1([OH:2])[C:3][C:4](=[O:5])[C:6][C:7][C:8]1",
    "rxn": "[C:1]1([OH:2])[C:3][C:4](=[O:5])[C:6][C:7][C:8]1>>[C:1](=[O:2])[C:3][C:4](=[O:5])[C:6][C:7][C:8]=O",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "D46_epoxide_from_diol": {
    "brief": "Diol to epoxide: vicinal diol converted to epoxide via tosylation/base or Appel conditions. Net inversion at one carbon.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "TsCl/pyridine_then_NaOH",
      "PPh3/CCl4/Et3N",
      "PPh3/DIAD/THF_then_K2CO3"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Epoxide From Diol (Forward, ring reaction)",
    "note": "Diol → epoxide: (1) monotosylate one OH, then base-mediated intramolecular SN2 (inversion at tosylate carbon). (2) Appel conditions (PPh3/CCl4) for direct conversion. Net inversion at one carbon. Requires anti-periplanar diol geometry for direct cyclization.",
    "prereq": "[C:1]([OH:2])[C:3]([OH:4])",
    "rxn": "[C:1]([OH:2])[C:3]([OH])>>[C:1]1[O:2][C:3]1",
    "stereo_policy": "inversion",
    "type": "forward"
  },
  "D46_epoxide_from_diol_retro": {
    "brief": "Retro-epoxide-from-diol: epoxide disconnected to vicinal diol. Forward: tosylation/base or Appel converts diol to epoxide with inversion.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "TsCl/pyridine_then_NaOH",
      "PPh3/CCl4/Et3N"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Epoxide From Diol (Retro, ring reaction)",
    "note": "Retrosynthetic: epoxide disconnects to vicinal diol. Forward uses TsCl/base or Appel (PPh3/CCl4). Monotosylate one OH, then base cyclization (SN2 inversion). Anti-periplanar geometry required.",
    "prereq": "[C:1]1[O:2][C:3]1",
    "rxn": "[C:1]1[O:2][C:3]1>>[C:1]([OH:2])[C:3]([OH])",
    "stereo_policy": "inversion",
    "type": "retro"
  },
  "D47_macrolactonization": {
    "brief": "Macrolactonization: ω-hydroxy acid cyclized to macrocyclic lactone (≥8-ring) under high-dilution conditions (Yamaguchi, Corey-Nicolaou, Mukaiyama).",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "Yamaguchi:Cl3C6H2COCl/Et3N/DMAP",
      "Corey-Nicolaou:PySSPy/PPh3",
      "Mukaiyama:2-Cl-1-Me-pyridinium/Et3N/DCM"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Macrolactonization (Forward, ring reaction)",
    "note": "High-dilution required to favor intramolecular cyclization over oligomerization. Yamaguchi (Cl3C6H2COCl/Et3N/DMAP), Corey-Nicolaou (PySSPy/PPh3), Mukaiyama, Shiina (MNBA). Retention at chiral centers. Prereq requires COOH and OH in same molecule connected by ≥6-atom chain (macrolactone ≥8-ring).",
    "prereq": "[C:1](=[O:2])[OH][#6][#6][#6][#6][#6][#6,#8,#7][C:4][OH:3]",
    "rxn": "[C:1](=[O:2])[OH][#6][#6][#6][#6][#6][#6,#8,#7][C:4][OH:3]>>[C:1](=[O:2])[O:3][C:4]",
    "stereo_policy": "retention",
    "type": "forward"
  },
  "D47_macrolactonization_retro": {
    "brief": "Retro-macrolactonization: macrocyclic lactone (≥8-ring) opened to ω-hydroxy acid. Forward: high-dilution lactonization using Yamaguchi, Corey-Nicolaou, or Mukaiyama conditions.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "Yamaguchi:Cl3C6H2COCl/Et3N/DMAP/toluene",
      "Corey-Nicolaou:PySSPy/PPh3/toluene",
      "Mukaiyama:2-Cl-1-Me-pyridinium/Et3N/DCM"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Macrolactonization (Retro, ring reaction)",
    "note": "Macrolactonization requires high-dilution to avoid oligomerization. Yamaguchi, Corey-Nicolaou, Mukaiyama, Shiina. Retention at chiral centers. Prereq requires ester bond in ring of size ≥8 (macrolactone).",
    "prereq": "[C:1](=[O:2])[O:3;r;!r3;!r4;!r5;!r6;!r7][C:4]",
    "rxn": "[C:1](=[O:2])[O:3][C:4]>>[C:1](=[O:2])[OH].[C:4][OH:3]",
    "stereo_policy": "retention",
    "type": "retro"
  },
  "D48_simmons_smith": {
    "brief": "Simmons-Smith: alkene + CH2I2/Zn-Cu delivers methylene to form cyclopropane. Syn-addition, directed by allylic OH.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "CH2I2/Zn-Cu/Et2O",
      "CH2I2/ZnEt2/DCM"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Simmons-Smith (Forward, ring reaction)",
    "note": "Zn carbenoid (IZnCH2I). Syn-addition. Allylic OH directs. Retention of alkene geometry.",
    "prereq": "[C;!a:1]=[C;!a:3]",
    "rxn": "[C;!a:1]=[C;!a:3]>>[C:1]1[CH2][C:3]1",
    "stereo_policy": "retention",
    "type": "forward"
  },
  "D48_simmons_smith_retro": {
    "brief": "Retro-Simmons-Smith: cyclopropane disconnected to alkene + CH2 (carbenoid). Forward: Zn carbenoid (CH2I2/Zn-Cu) delivers methylene to alkene with syn-addition.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "CH2I2/Zn-Cu/Et2O",
      "CH2I2/ZnEt2/DCM"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Simmons-Smith (Retro, ring reaction)",
    "note": "Retro-Simmons-Smith disconnection. Forward: CH2I2/Zn-Cu or CH2I2/ZnEt2 generates IZnCH2I carbenoid. Syn-addition to alkene. Directed by allylic OH (Zn chelation). Retention of alkene geometry in cyclopropane product.",
    "prereq": "[C:1]1[CH2:2][C:3]1",
    "rxn": "[C:1]1[CH2][C:3]1>>[C:1]=[C:3]",
    "stereo_policy": "retention",
    "type": "retro"
  },
  "D50_1_3_dipolar_isoxazoline": {
    "brief": "1,3-Dipolar cycloaddition: aldoxime (nitrile oxide precursor) + alkene → isoxazoline. Nitrile oxide generated in situ from aldoxime/NCS or hydroximoyl chloride/base.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "R-C(=NOH)H/NCS/Et3N/DCM",
      "R-C(=NOH)Cl/Et3N/DCM",
      "R-C(=NOH)H/PhI(OAc)2"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[SX2H]"
    ],
    "name": "1,3-Dipolar Cycloaddition Isoxazoline (Forward, ring reaction)",
    "note": "[3+2] cycloaddition. Nitrile oxide generated in situ from aldoxime + NCS/Et3N or hydroximoyl chloride + base. Concerted, suprafacial. Regioselectivity: 5-substituted isoxazoline preferred. Racemic at new sp3 centers. Prereq uses aldoxime (actual bench reagent) rather than transient nitrile oxide.",
    "prereq": "[C;!a:1]=[C;!a:2].[CX3H1:5](=[N:4][OH:3])",
    "rxn": "[C;!a:1]=[C;!a:2].[CX3H1:5](=[N:4][OH:3])>>[C:1]1[C:2][O:3][N:4]=[C:5]1",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "D50_1_3_dipolar_isoxazoline_retro": {
    "brief": "Retro-1,3-dipolar: isoxazoline disconnected to alkene (dipolarophile) + nitrile oxide (1,3-dipole). Forward: [3+2] cycloaddition of nitrile oxide with alkene.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "R-C(=NOH)H/NCS/Et3N/DCM",
      "R-C(=NOH)Cl/Et3N/DCM",
      "R-C(=NOH)H/PhI(OAc)2"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[SX2H]"
    ],
    "name": "1,3-Dipolar Cycloaddition Isoxazoline (Retro, ring reaction)",
    "note": "1,3-Dipolar cycloaddition: nitrile oxide (R-C≡N⁺-O⁻) + alkene → isoxazoline. Concerted, suprafacial. Nitrile oxide generated in situ from aldoxime + NCS or from hydroximoyl chloride + base. Regioselectivity: 5-substituted isoxazoline preferred (O end of dipole bonds to less substituted alkene carbon). Racemic at new sp3 centers.",
    "prereq": "[C:1]1[C:2][O:3][N:4]=[C:5]1",
    "rxn": "[C:1]1[C:2][O:3][N:4]=[C:5]1>>[C:1]=[C:2].[C:5]=[N:4][O-:3]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "D51_hantzsch_dihydropyridine": {
    "brief": "Hantzsch synthesis: aldehyde + β-ketoester + NH3 → 1,4-dihydropyridine (DHP). Multi-component condensation (Knoevenagel + Michael + cyclization).",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "NH4OAc/EtOH/reflux",
      "NH3/EtOH/AcOH/heat"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Hantzsch Dihydropyridine (Forward, ring reaction)",
    "note": "Hantzsch synthesis: aldehyde + 2 equiv β-ketoester (e.g., ethyl acetoacetate) + NH3 (or NH4OAc). Proceeds via Knoevenagel + Michael + cyclization + dehydration. DHP oxidizable to pyridine (DDQ, HNO3). Racemic at C4. Medicinal chemistry (nifedipine). Prereq matches aldehyde + β-ketoester as actual bench reagents.",
    "prereq": "[CX3H1:1](=[O])[#6].[CX3:2](=[O:3])[CH2][CX3:7](=[O:8])[O]",
    "rxn": "[CX3H1:1](=[O])[#6].[CX3:2](=[O:3])[CH2][CX3:7](=[O:8])[O]>>[C;H1,H2:1]1[C:2](=[O:3])[C]=[C][NH][C:7](=[O:8])1",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "D51_hantzsch_dihydropyridine_retro": {
    "brief": "Retro-Hantzsch DHP: 1,4-dihydropyridine disconnected to aldehyde + 2 equiv β-ketoester + NH3. Forward: four-component condensation forming DHP ring.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "NH4OAc/EtOH/reflux",
      "NH3/EtOH/AcOH/heat"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Hantzsch Dihydropyridine (Retro, ring reaction)",
    "note": "Hantzsch synthesis: aldehyde + 2 equiv ethyl acetoacetate + NH3 (or NH4OAc) → 1,4-dihydropyridine (DHP). Proceeds via Knoevenagel + Michael + cyclization + dehydration. DHP can be oxidized to pyridine (DDQ, HNO3). Racemic at C4. Widely used in medicinal chemistry (nifedipine-type calcium channel blockers).",
    "prereq": "[C;H1,H2:1]1[C:2](=[O:3])[C:4]=[C:5][NH:6][C:7](=[O:8])1",
    "rxn": "[C;H1,H2:1]1[C:2](=[O:3])[C:4]=[C:5][NH:6][C:7](=[O:8])1>>[C:1]=O.[C:2](=[O:3])[C:4]=[C:5][NH:6][C:7](=[O:8])",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "D52_intramolecular_heck": {
    "brief": "Intramolecular Heck: aryl bromide with pendant alkene undergoes Pd(0)-catalyzed cyclization to form fused ring.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "Pd(OAc)2/PPh3/Et3N/DMF",
      "Pd2(dba)3/BINAP/Cs2CO3/toluene"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Intramolecular Heck (Forward, ring reaction)",
    "note": "Pd(0) oxidative addition to ArBr, syn-migratory insertion, β-hydride elimination. 5-exo-trig. Free thiols poison Pd.",
    "prereq": "[c:4]1(Br)[c:5][c:6][c:7][c:8][c:9]1[#6:3][#6:2]=[#6:1]",
    "rxn": "[c:4]1(Br)[c:5][c:6][c:7][c:8][c:9]1[#6:3][#6:2]=[#6:1]>>[#6;!a:1]1=[#6;!a:2][#6;!a:3][c:4]2[c:5][c:6][c:7][c:8][c:9]12",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "D52_intramolecular_heck_retro": {
    "brief": "Retro-intramolecular Heck: indene/dihydronaphthalene fused ring disconnected to aryl bromide with pendant alkene. Forward: Pd(0)-catalyzed intramolecular Heck cyclization.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "Pd(OAc)2/PPh3/Et3N/DMF",
      "Pd2(dba)3/BINAP/Cs2CO3/toluene"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Intramolecular Heck (Retro, ring reaction)",
    "note": "Retro-intramolecular Heck disconnection. Forward: Pd(0) oxidative addition to ArBr, syn-migratory insertion into pendant alkene, β-hydride elimination. 5-exo-trig for indene skeleton. Pd(OAc)2/PPh3 or Pd2(dba)3/ligand. Base (Et3N, K2CO3, Cs2CO3) required. Free thiols poison Pd.",
    "prereq": "[#6;!a:1]1=[#6;!a:2][#6;!a:3][c:4]2[c:5][c:6][c:7][c:8][c:9]12",
    "rxn": "[#6;!a:1]1=[#6;!a:2][#6;!a:3][c:4]2[c:5][c:6][c:7][c:8][c:9]12>>[c:4]1(Br)[c:5][c:6][c:7][c:8][c:9]1[#6:3][#6:2]=[#6:1]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "E01_reductive_amination": {
    "brief": "Reductive amination: amine + aldehyde → imine, then NaBH3CN or NaBH(OAc)3 reduces to amine. One-pot C-N bond formation.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "NaBH3CN/AcOH/MeOH",
      "NaBH(OAc)3/DCE"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Reductive Amination (Forward, nitrogen)",
    "note": "Reductive amination: one-pot imine formation + selective reduction. NaBH3CN at pH 6-7 selectively reduces imine over aldehyde. NaBH(OAc)3 is milder. Racemic at new stereocenter. Primary amines may undergo double alkylation — use excess amine or slow addition.",
    "prereq": "[#6:1][NH:2][#6:3].[#6:5][CH1:4]=[O]",
    "rxn": "[#6:1][NH:2][#6:3].[#6:5][CH1:4]=[O]>>[#6:1][N:2]([#6:3])[CH2:4][#6:5]",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "E01_reductive_amination_retro": {
    "brief": "Retro-reductive amination: amine disconnected to amine + aldehyde. Forward: amine + aldehyde → imine → amine (NaBH3CN or NaBH(OAc)3 as selective reductant).",
    "category": "nitrogen",
    "co_reactant_examples": [
      "RCHO/NaBH3CN/AcOH",
      "RCHO/NaBH(OAc)3/DCE",
      "RCHO/NaBH4(less_selective)"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Reductive Amination (Retro, nitrogen)",
    "note": "Reductive amination: one-pot imine formation + reduction. NaBH3CN selectively reduces imines over aldehydes at pH 6-7. NaBH(OAc)3 is milder alternative. Produces racemic amine from prochiral imine. Primary amines may undergo double alkylation.",
    "prereq": "[#6:1][N:2]([#6:3])[CH2:4][#6:5]",
    "rxn": "[#6:1][N:2]([#6:3])[CH2:4][#6:5]>>[#6:1][NH:2][#6:3].[#6:5][CH1:4]=[O]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "E02_buchwald_hartwig": {
    "brief": "Buchwald-Hartwig: Pd(0)-catalyzed C-N coupling of aryl halide with amine. Forms Ar-N bond via oxidative addition/reductive elimination.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "Pd2(dba)3/XPhos/NaOtBu/toluene",
      "Pd(OAc)2/BINAP/Cs2CO3/toluene",
      "Pd2(dba)3/BrettPhos/NaOtBu/dioxane"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "Buchwald Hartwig (Forward, nitrogen)",
    "note": "Buchwald-Hartwig: Pd(0)/ligand (BINAP, XPhos, BrettPhos, RuPhos) catalyzes ArBr + R2NH → Ar-NR2. Base (NaOtBu, Cs2CO3, K3PO4) required. Bulky biaryl phosphine ligands enable coupling of challenging substrates. Free thiols poison Pd.",
    "prereq": "[c:1]Br.[#6:3][NH:2][#6:4]",
    "rxn": "[c:1]Br.[#6:3][NH:2][#6:4]>>[c:1][N:2]([#6:3])[#6:4]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "E02_buchwald_hartwig_retro": {
    "brief": "Retro-BH: aryl-N bond disconnected to aryl halide + amine. Forward: Pd(0)-catalyzed C-N coupling with bulky phosphine ligands.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "Pd2(dba)3/BINAP/NaOtBu",
      "Pd(OAc)2/XPhos/Cs2CO3",
      "Pd2(dba)3/DavePhos/NaOtBu"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Buchwald-Hartwig Amination (Retro, nitrogen)",
    "note": "Buchwald-Hartwig: Pd(0) catalyzed C-N bond formation. Bulky, electron-rich phosphine ligands (BINAP, XPhos, DavePhos) essential. Strong base (NaOtBu, Cs2CO3) required. Free thiols poison Pd. Tolerates esters, ethers, nitriles.",
    "prereq": "[c:1]!@[N:2]([#6:3])[#6:4]",
    "rxn": "[c:1]!@[N:2]([#6:3])[#6:4]>>[c:1]Br.[#6:3][NH:2][#6:4]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "E03_gabriel_retro": {
    "brief": "Retro-Gabriel: primary amine disconnected to phthalimide + alkyl halide. Forward: phthalimide anion alkylation then hydrazinolysis releases free amine.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "KPhth/DMF_then_N2H4/EtOH",
      "KPhth/DMF_then_HCl/reflux"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]"
    ],
    "name": "Gabriel (Retro, nitrogen)",
    "note": "Gabriel synthesis: potassium phthalimide (KPhth) + primary alkyl halide → N-alkyl phthalimide (SN2). Then hydrazinolysis (N2H4) or acid hydrolysis releases free primary amine. Avoids over-alkylation problem of direct amination. Only works for primary amines.",
    "prereq": "[NH2:1][CX4:2]",
    "rxn": "[NH2:1][CX4:2]>>O=C1c2ccccc2C(=O)[N:1]1.[CX4:2]Br",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "E04_curtius": {
    "brief": "Curtius degradation: carboxylic acid → acyl azide → isocyanate (loss of N2) → amine + CO2. Net loss of one carbon (the carboxyl C). Retention at migrating carbon.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "DPPA/Et3N/toluene/reflux_then_H2O",
      "SOCl2_then_NaN3_then_heat/H2O",
      "DPPA/Et3N/tBuOH(gives_Boc-amine)"
    ],
    "incompatible_groups": [
      "[OX2H]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Curtius (Forward, nitrogen)",
    "note": "Curtius: RCOOH + DPPA (or SOCl2 then NaN3) → acyl azide → heat → isocyanate + N2. Isocyanate + H2O → carbamic acid → RNH2 + CO2. Or trap with ROH → carbamate (Boc, Cbz). Product RNH2 has one fewer carbon than RCOOH (carboxyl C lost as CO2). Retention at migrating carbon. One-pot with DPPA/Et3N.",
    "prereq": "[#6:1][C](=[O])[OH]",
    "rxn": "[#6:1][C](=[O])[OH]>>[#6:1][NH2]",
    "stereo_policy": "retention",
    "type": "forward"
  },
  "E04_curtius_retro": {
    "brief": "Retro-Curtius: aliphatic primary amine RCH2NH2 traced back to carboxylic acid R-COOH. Forward: RCOOH → RCON3 → RNCO → RNH2 + CO2.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "DPPA(diphenylphosphoryl_azide)/Et3N",
      "SOCl2_then_NaN3_then_heat"
    ],
    "incompatible_groups": [
      "[OX2r3]",
      "[CX4]([OX2][#6])([OX2][#6])"
    ],
    "name": "Curtius Rearrangement (Retro, nitrogen)",
    "note": "Retro-Curtius: RNH2 → RCOOH (add back carboxyl carbon lost as CO2 in forward). Forward: acyl azide → isocyanate + N2 (1,2-shift, retention). Isocyanate trapped by H2O → amine, by ROH → carbamate, by RNH2 → urea. Prereq restricted to aliphatic primary amines: the carbon bearing NH2 must be sp3 (not aromatic). Anilines (ArNH2) are not Curtius products — they come from nitro reduction or other routes.",
    "prereq": "[CX4:1][NH2]",
    "rxn": "[#6:1][NH2]>>[#6:1][C](=[O])[OH]",
    "stereo_policy": "retention",
    "type": "retro"
  },
  "E06_hofmann_elim": {
    "brief": "Hofmann elimination: quaternary ammonium salt heated with Ag2O gives less substituted alkene (anti-Zaitsev). Bulky NMe3 leaving group favors less hindered β-H.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "Ag2O/H2O/heat",
      "KOH/heat(Hofmann_conditions)"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Hofmann Elim (Forward, nitrogen)",
    "note": "Hofmann elimination: R4N+ + Ag2O/heat → alkene + NR3. E2 mechanism, anti-periplanar. Bulky NMe3 leaving group causes Hofmann selectivity (less substituted alkene). Useful for determining structure of alkaloids. E-alkene generally favored.",
    "prereq": "[C:1]([N+](C)(C)C)[C:2]",
    "rxn": "[C:1]([N+](C)(C)C)[C:2]>>[C:1]=[C:2]",
    "stereo_policy": "not_applicable",
    "type": "forward",
    "stereo_detail": "Hofmann product (less substituted alkene)"
  },
  "E06_hofmann_elim_retro": {
    "brief": "Retro-Hofmann: alkene traced back to quaternary ammonium salt. Forward: Ag2O/heat eliminates to give less substituted (Hofmann) alkene preferentially.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "Ag2O/H2O/heat",
      "excess_MeI_then_Ag2O/heat"
    ],
    "incompatible_groups": [
      "[OX2r3]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Hofmann Elimination (Retro, nitrogen)",
    "note": "Hofmann elimination: quaternary ammonium salt + Ag2O → less substituted alkene (anti-Zaitsev). Bulky NMe3 leaving group favors removal of less hindered β-hydrogen. E2 mechanism with anti-periplanar geometry.",
    "prereq": "[CH2:1]=[CH:2]",
    "rxn": "[CH2:1]=[CH:2]>>[CH2:1]([N+](C)(C)C)[CH2:2]",
    "stereo_policy": "not_applicable",
    "type": "retro",
    "stereo_detail": "Hofmann product (less substituted / terminal alkene)"
  },
  "E07_chan_lam_retro": {
    "brief": "Retro-Chan-Lam: Ar-NH-R disconnected to aryl boronic acid + amine. Forward: Cu(OAc)2-catalyzed oxidative C-N coupling at room temperature.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "Cu(OAc)2/Et3N/DCM/air/rt",
      "Cu(OAc)2/pyridine/4A_MS/DCM"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "Chan Lam (Retro, nitrogen)",
    "note": "Chan-Lam coupling: Cu(OAc)2 catalyzes ArB(OH)2 + R-NH2 → Ar-NHR under air (O2 as terminal oxidant). Room temperature, mild base (Et3N, pyridine). No Pd required. Tolerates many FGs. Free thiols may interfere. Boronic acid must be aryl.",
    "prereq": "[c:1]!@[NH:2][#6:3]",
    "rxn": "[c:1]!@[NH:2][#6:3]>>[c:1]B(O)O.[NH2:2][#6:3]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "E08_mitsunobu_amine": {
    "brief": "Mitsunobu with N-nucleophile: alcohol + acidic N-nucleophile (phthalimide, sulfonamide) → N-alkyl product with inversion. DIAD/PPh3 activates alcohol.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "DIAD/PPh3/THF",
      "DEAD/PPh3/THF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl"
    ],
    "name": "Mitsunobu Amine (Forward, nitrogen)",
    "note": "Mitsunobu: DIAD/PPh3 activates alcohol as leaving group. SN2 by acidic N-nucleophile (pKa < ~13) gives inversion. Phthalimide, sulfonamide, imide work. Simple amines (pKa ~35) do NOT work. Primary and secondary alcohols only.",
    "prereq": "[C:1][OH].[N:2]([S,C]=O)",
    "rxn": "[C:1][OH].[N:2]([S,C]=O)>>[C:1][N:2]([S,C]=O)",
    "stereo_policy": "inversion",
    "type": "forward"
  },
  "E08_mitsunobu_amine_retro": {
    "brief": "Retro-Mitsunobu: C-N bond disconnected to alcohol + amine (pKa < 13 required for N-nucleophile). Forward: DIAD/PPh3 activates alcohol, SN2 inversion.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "DIAD/PPh3/THF",
      "DEAD/PPh3/THF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Mitsunobu Amination (Retro, nitrogen)",
    "note": "Mitsunobu: DIAD (or DEAD) + PPh3 activates alcohol as leaving group. SN2 displacement by acidic N-nucleophile (pKa < ~13) gives clean inversion. Sulfonamides, imides, phthalimides work; simple amines do not. Primary and secondary alcohols only.",
    "prereq": "[C:1][N:2]([S,C]=O)",
    "rxn": "[C:1][N:2]([S,C]=O)>>[C:1][OH].[N:2]([S,C]=O)",
    "stereo_policy": "inversion",
    "type": "retro"
  },
  "E11_chan_lam_forward": {
    "brief": "Chan-Lam coupling: Cu(OAc)2-catalyzed oxidative C-N coupling of aryl boronic acid with amine. Room temperature, air as oxidant, no Pd needed.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "Cu(OAc)2/Et3N/DCM/air/rt",
      "Cu(OAc)2/pyridine/4A_MS/DCM/O2"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "Chan Lam (Forward, nitrogen)",
    "note": "Chan-Lam: Cu(OAc)2 catalyzes ArB(OH)2 + RNH2 → Ar-NHR. O2 (air) is terminal oxidant. Mild base (Et3N, pyridine) and molecular sieves improve yield. Room temperature. Aryl boronic acids only (not alkyl). Free thiols may poison Cu. Complementary to Buchwald-Hartwig. [Retro: see E07_chan_lam_retro]",
    "prereq": "[c:1]B(O)O.[NH2:2][#6:3]",
    "rxn": "[c:1]B(O)O.[NH2:2][#6:3]>>[c:1][NH:2][#6:3]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "E12_gabriel_forward": {
    "brief": "Gabriel synthesis: potassium phthalimide + primary alkyl halide (SN2) → N-alkyl phthalimide, then hydrazinolysis releases free primary amine. Avoids over-alkylation.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "KPhth/DMF_then_N2H4/EtOH",
      "KPhth/DMF_then_HCl/reflux"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]"
    ],
    "name": "Gabriel (Forward, nitrogen)",
    "note": "Gabriel: KPhth (nucleophilic N) attacks primary alkyl halide via SN2. N-alkyl phthalimide then cleaved by N2H4 (Ing-Manske) or acid hydrolysis to give primary amine. Only primary amines accessible. Secondary/tertiary halides give elimination. Benzyl halides also work well. [Retro: see E03_gabriel_retro]",
    "prereq": "O=C1c2ccccc2C(=O)[N:1]1.[CH2:2]Br",
    "rxn": "O=C1c2ccccc2C(=O)[N:1]1.[CH2:2]Br>>[NH2:1][CH2:2]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "E14_sulfonamide_formation": {
    "brief": "Sulfonamide formation: amine + sulfonyl chloride → sulfonamide. Base (Et3N, pyridine) scavenges HCl byproduct.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "TsCl/Et3N/DCM",
      "MsCl/Et3N/DCM",
      "PhSO2Cl/pyridine"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[OX2H]"
    ],
    "name": "Sulfonamide Formation (Forward, nitrogen)",
    "note": "Sulfonamide formation: RSO2Cl + amine → sulfonamide + HCl. Chemoselective for amines. Free OH may compete slowly. Sulfonyl chlorides are electrophilic at S, attacked by N nucleophile.",
    "prereq": "[NH2:1].[S:2](=O)(=O)([#6:3])Cl",
    "rxn": "[NH2:1].[S:2](=O)(=O)([#6:3])Cl>>[N:1][S:2](=O)(=O)[#6:3]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "E14_sulfonamide_formation_retro": {
    "brief": "Retro-sulfonamide: sulfonamide disconnected to amine + sulfonyl chloride. Forward: amine attacks RSO2Cl with base to scavenge HCl.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "TsCl/Et3N/DCM",
      "MsCl/pyridine"
    ],
    "incompatible_groups": [
      "[OX2H]"
    ],
    "name": "Sulfonamide Formation (Retro, nitrogen)",
    "note": "Retrosynthetic disconnection of sulfonamide N-S bond. Forward uses RSO2Cl + amine + Et3N. Sulfonamides are stable to many reaction conditions, useful as protecting groups.",
    "prereq": "[N:1][S:2](=O)(=O)[#6:3]",
    "rxn": "[N:1][S:2](=O)(=O)[#6:3]>>[NH2:1].[S:2](=O)(=O)([#6:3])Cl",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "E15_urea_from_amine_isocyanate_forward": {
    "brief": "Urea formation: amine + isocyanate → urea. Nucleophilic addition of amine N-H to electrophilic C=N=O. No catalyst needed, exothermic.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "R-N=C=O/DCM/rt",
      "PhNCO/Et3N/THF",
      "cyclohexyl-NCO/DCM"
    ],
    "incompatible_groups": [
      "[OX2H]"
    ],
    "name": "Urea From Amine Isocyanate (Forward, nitrogen)",
    "note": "Amine attacks electrophilic carbon of isocyanate (R-N=C=O). Fast, exothermic, no catalyst required. Moisture-sensitive (H2O also reacts with isocyanate → carbamic acid → amine + CO2). Symmetric ureas from 2 equiv amine + phosgene. Asymmetric ureas from amine + alkyl/aryl isocyanate. [Retro: see E15_urea_from_amine_isocyanate_retro]",
    "prereq": "[NX3;H1,H2;+0:1].[N:2]=[C:3]=[O:4]",
    "rxn": "[NX3;H1,H2;+0:1].[N:2]=[C:3]=[O:4]>>[N:1][C:3](=[O:4])[N:2]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "E15_urea_from_amine_isocyanate_retro": {
    "brief": "Retro-urea: urea N-C(=O)-N disconnected to amine + isocyanate. Forward: nucleophilic addition of amine to isocyanate.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "R-N=C=O/DCM/rt",
      "PhNCO/THF"
    ],
    "incompatible_groups": [
      "[OX2H]"
    ],
    "name": "Urea From Amine Isocyanate (Retro, nitrogen)",
    "note": "Retrosynthetic disconnection of urea to amine + isocyanate. Forward is fast, exothermic, no catalyst. Isocyanates are moisture-sensitive. Alternative: CDI (carbonyldiimidazole) + 2 amines.",
    "prereq": "[N:1][C:3](=[O:4])[N:2]",
    "rxn": "[N:1][C:3](=[O:4])[N:2]>>[N:1].[N:2]=[C:3]=[O:4]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "E17_alkyl_halide_amination_sn2_forward": {
    "brief": "Direct SN2 amination: amine attacks primary/secondary alkyl halide. Inversion at electrophilic carbon. Over-alkylation is major side reaction.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "R-NH2(excess)/K2CO3/DMF",
      "R2NH/Et3N/CH3CN",
      "R-NH2/NaHCO3/DMF"
    ],
    "incompatible_groups": [
      "[OX2H]",
      "[SX2H]"
    ],
    "name": "Alkyl Halide Amination SN2 (Forward, nitrogen)",
    "note": "SN2 amination: amine nucleophile displaces halide from alkyl halide with inversion. Primary halides preferred. Secondary halides give competing E2 elimination. Over-alkylation (mono → di → tri → quaternary) is a problem — use large excess of amine or Gabriel synthesis instead. Benzyl halides are good substrates. [Retro: see E17_alkyl_halide_amination_sn2_retro]",
    "prereq": "[CH2,CH:1][Br,Cl,I:2].[NX3;H1,H2;+0:3]",
    "rxn": "[CH2,CH:1][Br,Cl,I].[NX3;H1,H2;+0:3]>>[CH2,CH:1][N:3]",
    "stereo_policy": "inversion",
    "type": "forward"
  },
  "E17_alkyl_halide_amination_sn2_retro": {
    "brief": "Retro-SN2 amination: C-N bond disconnected to alkyl halide + amine. Forward: SN2 with inversion.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "R-NH2(excess)/K2CO3/DMF",
      "R2NH/Et3N/CH3CN"
    ],
    "incompatible_groups": [
      "[OX2H]",
      "[SX2H]"
    ],
    "name": "Alkyl Halide Amination SN2 (Retro, nitrogen)",
    "note": "Retrosynthetic disconnection of C(sp3)-N bond. Forward uses amine + alkyl halide (SN2, inversion). Primary halides preferred. Over-alkylation is a concern — consider Gabriel synthesis for primary amines.",
    "prereq": "[CH2,CH:1][NX3;H1,H2;+0:3]",
    "rxn": "[CH2,CH:1][NX3;H1,H2;+0:3]>>[CH2,CH:1][Br,Cl,I].[N:3]",
    "stereo_policy": "inversion",
    "type": "retro"
  },
  "E19_ullmann_N_arylation_forward": {
    "brief": "Ullmann N-arylation: Cu-catalyzed (CuI/diamine ligand) coupling of aryl halide with amine. Cheaper alternative to Buchwald-Hartwig.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "CuI/DMEDA/K3PO4/dioxane/110C",
      "CuI/trans-DACH/Cs2CO3/DMF/100C",
      "Cu2O/phenanthroline/K2CO3/DMSO"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "Ullmann N Arylation (Forward, nitrogen)",
    "note": "Ullmann N-arylation: CuI + diamine ligand (DMEDA, trans-1,2-diaminocyclohexane) catalyzes ArBr + R2NH → Ar-NR2. Base (K2CO3, Cs2CO3, K3PO4) required. Higher temperature than Pd-catalyzed (80-130°C). Aryl iodides more reactive than bromides. Free thiols may poison Cu. [Retro: see E20_ullmann_N_arylation_retro]",
    "prereq": "[c:1]Br.[NX3;H1,H2;+0:2]",
    "rxn": "[c:1]Br.[NX3;H1,H2;+0:2]>>[c:1][N:2]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "E20_ullmann_N_arylation_retro": {
    "brief": "Retro-Ullmann: Ar-N bond disconnected to aryl halide + amine. Forward: Cu-catalyzed C-N coupling at elevated temperature.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "CuI/DMEDA/K3PO4/dioxane/110C",
      "CuI/trans-DACH/Cs2CO3/DMF/100C"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[OX2H]"
    ],
    "name": "Ullmann N Arylation (Retro, nitrogen)",
    "note": "Retrosynthetic disconnection of Ar-N bond. Forward uses CuI/diamine ligand/base at 80-130°C. Cheaper than Pd-catalyzed Buchwald-Hartwig but requires higher temperature. Aryl iodides preferred over bromides.",
    "prereq": "[c:1]!@[NX3;H1,H2;+0:2]",
    "rxn": "[c:1]!@[NX3;H1,H2;+0:2]>>[c:1]Br.[N:2]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "F01_cope_rearrangement": {
    "brief": "1,5-Diene undergoes [3,3]-sigmatropic rearrangement thermally. Concerted, suprafacial, chair-like transition state. Equilibrium favors more substituted product.",
    "category": "rearrangement",
    "co_reactant_examples": [
      "heat(150-250C)",
      "microwave"
    ],
    "incompatible_groups": [
      "[OX2r3]"
    ],
    "name": "Cope Rearrangement (Forward, rearrangement)",
    "note": "SMARTS_CAVEAT: [3,3]-sigmatropic rearrangements involve cyclic TS with bond-breaking and bond-forming that cannot be accurately represented in linear SMARTS. The prereq/rxn below are topological approximations only — they capture the 1,5-diene motif but do NOT correctly map the [3,3] bond reorganization. Use for pattern flagging, not atom-accurate transforms. | Cope rearrangement: thermal [3,3]-sigmatropic shift. Chair-like TS predicts stereochemistry. Equilibrium-controlled: favors more substituted/conjugated product. Oxy-Cope variant (with OH at C3) is accelerated by base (anionic oxy-Cope).",
    "prereq": "[C:1]=[C:2][C:3][C:4][C:5]=[C:6]",
    "rxn": "[C:1]=[C:2][C:3][C:4][C:5]=[C:6]>>[C:1][C:2]=[C:3][C:4]=[C:5][C:6]",
    "stereo_policy": "retention",
    "type": "forward"
  },
  "F01_cope_rearrangement_retro": {
    "brief": "Retro-Cope: 1,5-diene disconnected to different 1,5-diene isomer. Forward: thermal [3,3]-sigmatropic shift via chair-like TS.",
    "category": "rearrangement",
    "co_reactant_examples": [
      "heat/toluene/reflux",
      "heat/sealed_tube/200C"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Cope Rearrangement (Retro, rearrangement)",
    "note": "SMARTS_CAVEAT: see F01_cope_rearrangement note — same [3,3] linear-SMARTS limitation applies. | Retrosynthetic Cope: product 1,5-diene traced back to isomeric 1,5-diene. Forward is thermal [3,3]-sigmatropic, concerted, suprafacial. Chair-like TS predicts stereochemistry. Equilibrium favors more substituted/conjugated product.",
    "prereq": "[C:1][C:2]=[C:3][C:4]=[C:5][C:6]",
    "rxn": "[C:1][C:2]=[C:3][C:4]=[C:5][C:6]>>[C:1]=[C:2][C:3][C:4][C:5]=[C:6]",
    "stereo_policy": "retention",
    "type": "retro"
  },
  "F02_claisen_rearrangement": {
    "brief": "Allyl vinyl ether undergoes [3,3]-sigmatropic rearrangement to γ,δ-unsaturated carbonyl. Concerted, chair-like TS. Irreversible (C-C bond formed, C-O bond broken).",
    "category": "rearrangement",
    "co_reactant_examples": [
      "heat(150-200C)",
      "Lewis_acid(BF3·Et2O,low_temp)"
    ],
    "incompatible_groups": [
      "[OX2r3]"
    ],
    "name": "Claisen Rearrangement (Forward, rearrangement)",
    "note": "Claisen rearrangement: [3,3]-sigmatropic shift of allyl vinyl ether. Chair-like TS controls stereochemistry. Irreversible (thermodynamic driving force: C=O formation). Aromatic Claisen (allyl aryl ether) gives ortho-allyl phenol.",
    "prereq": "[C:1]=[C:2][O:3][C:4][C:5]=[C:6]",
    "rxn": "[C:1]=[C:2][O][C:4][C:5]=[C:6]>>[C:1][C:2](=O)[C:4][C:5]=[C:6]",
    "stereo_policy": "retention",
    "type": "forward"
  },
  "F02_claisen_rearrangement_retro": {
    "brief": "Retro-Claisen: γ,δ-unsaturated carbonyl disconnected to allyl vinyl ether. Forward: thermal [3,3]-sigmatropic shift, irreversible (C=O formation drives equilibrium).",
    "category": "rearrangement",
    "co_reactant_examples": [
      "heat/toluene/reflux",
      "heat/sealed_tube"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Claisen Rearrangement (Retro, rearrangement)",
    "note": "Retrosynthetic Claisen: γ,δ-unsaturated carbonyl traced to allyl vinyl ether. Forward is thermal [3,3]-sigmatropic, concerted. Irreversible due to C=O bond formation. Chair-like TS controls stereochemistry. Aromatic Claisen gives ortho-allyl phenol.",
    "prereq": "[C:1][C:2](=O)[C:4][C:5]=[C:6]",
    "rxn": "[C:1][C:2](=O)[C:4][C:5]=[C:6]>>[C:1]=[C:2][O][C:4][C:5]=[C:6]",
    "stereo_policy": "retention",
    "type": "retro"
  },
  "F03_pinacol_rearrangement": {
    "brief": "1,2-Diol rearranges under acid to give ketone/aldehyde via 1,2-shift. Acid protonates one OH, water leaves, 1,2-alkyl/aryl shift to carbocation.",
    "category": "rearrangement",
    "co_reactant_examples": [
      "H2SO4/heat",
      "BF3·Et2O"
    ],
    "incompatible_groups": [
      "[OX2r3]",
      "[CX4]([OX2][#6])([OX2][#6])"
    ],
    "name": "Pinacol Rearrangement (Forward, rearrangement)",
    "note": "Pinacol rearrangement: acid-catalyzed. Migratory aptitude: aryl > alkyl. Migrating group retains configuration. Strongly acidic conditions: acetals and epoxides incompatible.",
    "prereq": "[C:1]([OH])[C:3]([OH])([#6:4])[#6:5]",
    "rxn": "[C:1]([OH])[C:3]([OH])([#6:4])[#6:5]>>[C:1](=O)[C:3]([#6:4])([#6:5])",
    "stereo_policy": "retention",
    "type": "forward"
  },
  "F03_pinacol_rearrangement_retro": {
    "brief": "Retro-pinacol: α-substituted ketone disconnected to 1,2-diol. Forward: acid-catalyzed 1,2-shift of vicinal diol to ketone.",
    "category": "rearrangement",
    "co_reactant_examples": [
      "H2SO4/heat",
      "BF3·Et2O/DCM"
    ],
    "incompatible_groups": [
      "[OX2r3]",
      "[CX4]([OX2][#6])([OX2][#6])"
    ],
    "name": "Pinacol Rearrangement (Retro, rearrangement)",
    "note": "Retrosynthetic pinacol: ketone with quaternary α-carbon traced to 1,2-diol. Forward: acid (H2SO4, BF3·Et2O) protonates one OH, water leaves, 1,2-alkyl/aryl shift to carbocation, gives ketone. Migratory aptitude: aryl > alkyl. Retention at migrating group.",
    "prereq": "[C:1](=O)[C:3]([#6:4])([#6:5])",
    "rxn": "[C:1](=O)[C:3]([#6:4])([#6:5])>>[C:1]([OH])[C:3]([OH])([#6:4])[#6:5]",
    "stereo_policy": "retention",
    "type": "retro"
  },
  "F04_e2_elimination": {
    "brief": "E2 elimination: base removes β-H anti-periplanar to leaving group, forming alkene in concerted step. Zaitsev (more substituted) or Hofmann (less substituted) selectivity.",
    "category": "elimination",
    "co_reactant_examples": [
      "NaOEt/EtOH",
      "tBuOK/tBuOH",
      "DBU/THF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "E2 Elimination (Forward, elimination)",
    "note": "E2: concerted, anti-periplanar geometry required. Zaitsev rule: more substituted alkene favored with small bases (NaOEt). Hofmann rule: less substituted alkene with bulky bases (tBuOK). E-alkene favored over Z for acyclic substrates.",
    "prereq": "[C:1]([H])[C:2]Br",
    "rxn": "[C:1]([H])[C:2]Br>>[C:1]=[C:2]",
    "stereo_policy": "diastereoselective",
    "type": "forward",
    "stereo_detail": "E (trans) alkene favored"
  },
  "F04_e2_elimination_retro": {
    "brief": "Retro-E2: alkene disconnected to alkyl halide. Forward: strong base (tBuOK, NaOEt) induces anti-periplanar elimination. Zaitsev product (more substituted alkene) favored with small bases.",
    "category": "elimination",
    "co_reactant_examples": [
      "tBuOK/tBuOH",
      "NaOEt/EtOH",
      "DBU"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "E2 Elimination (Retro, elimination)",
    "note": "BROAD_PREREQ_BY_DESIGN: E2 elimination is a universal alkene disconnection — virtually any alkene can in principle be traced to an alkyl halide + base. The broad prereq [C]=[C] is intentional. Downstream ranking should deprioritize this template when more specific alkene-forming disconnections (Wittig, metathesis, etc.) are available. | E2: concerted, anti-periplanar geometry required. Zaitsev rule: more substituted alkene favored with small bases. Hofmann rule: less substituted alkene favored with bulky bases (tBuOK). E-alkene favored over Z for acyclic substrates. Category should be elimination, not rearrangement.",
    "prereq": "[C:1]=[C:2]",
    "rxn": "[C:1]=[C:2]>>[C:1]([H])[C:2]Br",
    "stereo_policy": "diastereoselective",
    "type": "retro",
    "stereo_detail": "E (trans) alkene favored"
  },
  "F05_ireland_claisen": {
    "brief": "Ireland-Claisen: allyl ester → silyl ketene acetal (LDA/TMSCl) → [3,3]-sigmatropic → γ,δ-unsaturated acid. Powerful C-C bond formation with stereochemical control.",
    "category": "rearrangement",
    "co_reactant_examples": [
      "LDA/TMSCl/THF/-78C_then_reflux",
      "LiHMDS/TMSCl/THF_then_heat"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Ireland Claisen (Forward, rearrangement)",
    "note": "Ireland-Claisen: LDA deprotonates allyl ester, TMSCl traps enolate as silyl ketene acetal. Thermal [3,3] shift gives γ,δ-unsaturated carboxylic acid. Chair-like TS. Enolate geometry (Z vs E) controls syn/anti diastereoselectivity. Retention at migrating centers.",
    "prereq": "[C:4]=[C:5][O][C:1](=[O:2])[C:3]",
    "rxn": "[C:4]=[C:5][O][C:1](=[O:2])[C:3]>>[C:1](=[O:2])[OH][C:3][C:4]=[C:5]",
    "stereo_policy": "retention",
    "type": "forward"
  },
  "F05_ireland_claisen_retro": {
    "brief": "Retro-Ireland-Claisen: γ,δ-unsaturated acid disconnected to allyl ester. Forward: LDA/TMSCl generates silyl ketene acetal, then [3,3]-sigmatropic rearrangement.",
    "category": "rearrangement",
    "co_reactant_examples": [
      "LDA/TMSCl/THF/-78C_then_reflux",
      "LiHMDS/TMSCl/THF_then_heat"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Ireland Claisen (Retro, rearrangement)",
    "note": "Ireland-Claisen: allyl ester + LDA → enolate, trapped as TMS enol ether (silyl ketene acetal). Thermal [3,3]-sigmatropic shift gives γ,δ-unsaturated acid. Chair-like TS. Z-enolate → syn product, E-enolate → anti product. Retention of configuration at migrating centers.",
    "prereq": "[C:1](=[O:2])[OH][C:3][C:4]=[C:5]",
    "rxn": "[C:1](=[O:2])[OH][C:3][C:4]=[C:5]>>[C:4]=[C:5][O][C:1](=[O:2])[C:3]",
    "stereo_policy": "retention",
    "type": "retro"
  },
  "F06_oxy_cope": {
    "brief": "Oxy-Cope rearrangement: 3-hydroxy-1,5-diene → [3,3]-sigmatropic → enol → δ,ε-unsaturated carbonyl. Anionic variant (KH) dramatically accelerated.",
    "category": "rearrangement",
    "co_reactant_examples": [
      "KH/18-crown-6/THF(anionic_oxy-Cope)",
      "heat/toluene/reflux(thermal)"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Oxy Cope (Forward, rearrangement)",
    "note": "SMARTS_CAVEAT: Oxy-Cope is an intramolecular [3,3]-sigmatropic rearrangement of 3-hydroxy-1,5-diene. The prereq/rxn below use intermolecular '.' notation as a topological approximation — the actual reaction is intramolecular and the linear SMARTS cannot capture the cyclic TS bond reorganization. Use for pattern flagging only. Additionally, the forward/retro direction shown here is inverted relative to the true chemical direction (forward should be 3-OH-1,5-diene → δ,ε-unsaturated carbonyl). | Oxy-Cope: thermal [3,3]-sigmatropic of 3-hydroxy-1,5-diene. Product enol tautomerizes to carbonyl. Anionic oxy-Cope (KH/18-crown-6) is vastly accelerated (10^10-10^17 rate enhancement). Chair-like TS controls stereochemistry.",
    "prereq": "[C:1](=[O:2]).[C:3]=[C:4]",
    "rxn": "[C:1](=[O:2]).[C:3]=[C:4]>>[C:1]([OH:2])[C:3]=[C:4]",
    "stereo_policy": "retention",
    "type": "forward"
  },
  "F06_oxy_cope_retro": {
    "brief": "Retro-oxy-Cope: δ,ε-unsaturated carbonyl disconnected to 3-hydroxy-1,5-diene. Forward: thermal or base-accelerated [3,3]-sigmatropic shift.",
    "category": "rearrangement",
    "co_reactant_examples": [
      "KH/18-crown-6/THF(anionic_oxy-Cope)",
      "heat/toluene/reflux(thermal)"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Oxy Cope (Retro, rearrangement)",
    "note": "SMARTS_CAVEAT: see F06_oxy_cope note — same intramolecular [3,3] limitation and direction inversion caveat applies. | Oxy-Cope: 3-hydroxy-1,5-diene undergoes [3,3]-sigmatropic shift → enol → tautomerizes to δ,ε-unsaturated carbonyl. Anionic oxy-Cope (KH/18-crown-6) is 10^10-10^17 faster than thermal. Chair-like TS. Retention at migrating centers.",
    "prereq": "[C:1]([OH:2])[C:3]=[C:4]",
    "rxn": "[C:1]([OH:2])[C:3]=[C:4]>>[C:1](=[O:2]).[C:3]=[C:4]",
    "stereo_policy": "retention",
    "type": "retro"
  },
  "F07_curtius_rearrangement": {
    "brief": "Acyl azide thermally rearranges to isocyanate with loss of N2. 1,2-Shift of R group from C to N with retention of configuration.",
    "category": "rearrangement",
    "co_reactant_examples": [
      "heat(80-100C)/toluene",
      "DPPA/Et3N/heat"
    ],
    "incompatible_groups": [
      "[OX2r3]",
      "[CX4]([OX2][#6])([OX2][#6])"
    ],
    "name": "Curtius Rearrangement (Forward, rearrangement)",
    "note": "Curtius rearrangement: acyl azide → isocyanate + N2. Concerted 1,2-shift with retention at migrating carbon. Isocyanate can be trapped: H2O → amine (via carbamic acid), ROH → carbamate, RNH2 → urea. DPPA (diphenylphosphoryl azide) allows one-pot from carboxylic acid.",
    "prereq": "[#6:1][C:2](=[O])[N]=[N+]=[N-]",
    "rxn": "[#6:1][C](=[O])[N]=[N+]=[N-]>>[#6:1][N]=[C]=[O]",
    "stereo_policy": "retention",
    "type": "forward"
  },
  "F07_curtius_rearrangement_retro": {
    "brief": "Retro-Curtius: isocyanate disconnected to acyl azide. Forward: thermal 1,2-shift with loss of N2, retention at migrating carbon.",
    "category": "rearrangement",
    "co_reactant_examples": [
      "heat/toluene",
      "DPPA/Et3N/toluene/reflux"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Curtius Rearrangement (Retro, rearrangement)",
    "note": "Retrosynthetic Curtius: isocyanate traced to acyl azide. Forward: acyl azide heated → concerted 1,2-shift → isocyanate + N2. Retention at migrating carbon. Acyl azide from RCOOH + DPPA or RCOCl + NaN3.",
    "prereq": "[#6:1][N]=[C]=[O]",
    "rxn": "[#6:1][N]=[C]=[O]>>[#6:1][C](=[O])[N]=[N+]=[N-]",
    "stereo_policy": "retention",
    "type": "retro"
  },
  "F08_hofmann_rearrangement": {
    "brief": "Hofmann rearrangement: primary amide + Br2/NaOH → isocyanate → amine (one-carbon degradation). Retention at migrating carbon.",
    "category": "rearrangement",
    "co_reactant_examples": [
      "Br2/NaOH/H2O",
      "NBS/NaOH/H2O",
      "[bis(trifluoroacetoxy)iodo]benzene/H2O"
    ],
    "incompatible_groups": [
      "[OX2H]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Hofmann Rearrangement (Forward, rearrangement)",
    "note": "Hofmann: RCONH2 + Br2/NaOH → R-N=C=O + NaBr. Isocyanate hydrolyzed to amine + CO2. Concerted 1,2-shift with retention at migrating carbon. Only primary amides work. Related to Curtius (from acyl azide) and Lossen (from hydroxamic acid).",
    "prereq": "[#6:1][C](=[O])[NH2:2]",
    "rxn": "[#6:1][C](=[O])[NH2:2]>>[#6:1][NH:2]",
    "stereo_policy": "retention",
    "type": "forward"
  },
  "F08_hofmann_rearrangement_retro": {
    "brief": "Retro-Hofmann: amine disconnected to primary amide. Forward: Br2/NaOH converts RCONH2 → RNH2 with one-carbon loss and retention.",
    "category": "rearrangement",
    "co_reactant_examples": [
      "Br2/NaOH/H2O",
      "NBS/NaOH/H2O"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Hofmann Rearrangement (Retro, rearrangement)",
    "note": "Retrosynthetic Hofmann: primary amine (RNH2) traced to primary amide (RCONH2, one carbon more). Forward uses Br2/NaOH or NBS/NaOH. Retention at migrating carbon. Only primary amides are substrates. Product is always a primary amine.",
    "prereq": "[#6:1][NH2:2]",
    "rxn": "[#6:1][NH2:2]>>[#6:1][C](=[O])[NH2:2]",
    "stereo_policy": "retention",
    "type": "retro"
  },
  "F09_favorskii": {
    "brief": "Favorskii rearrangement: α-haloketone + base → cyclopropanone intermediate → ring-opened carboxylic acid/ester. Ring contraction for cyclic substrates.",
    "category": "rearrangement",
    "co_reactant_examples": [
      "NaOH/H2O",
      "NaOMe/MeOH",
      "KOH/H2O/dioxane"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Favorskii (Forward, rearrangement)",
    "note": "Favorskii: α-haloketone + NaOH → enolate cyclizes to cyclopropanone → nucleophilic ring opening gives carboxylic acid (or ester with NaOMe). Cyclic α-haloketones undergo ring contraction. Semibenzilic mechanism for non-enolizable substrates.",
    "prereq": "[C:1](=[O:2])[C]([F,Cl,Br,I])",
    "rxn": "[C:1](=[O:2])[C]([F,Cl,Br,I])>>[C:1](=[O:2])[OH]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "F09_favorskii_retro": {
    "brief": "Retro-Favorskii: carboxylic acid/ester disconnected to α-haloketone. Forward: base-induced ring contraction via cyclopropanone intermediate.",
    "category": "rearrangement",
    "co_reactant_examples": [
      "NaOH/H2O",
      "NaOMe/MeOH",
      "KOH/H2O/dioxane"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Favorskii (Retro, rearrangement)",
    "note": "Favorskii retro: only meaningful when the acid has a quaternary or heavily branched α-carbon (suggesting skeletal rearrangement origin). Prereq restricted to α-quaternary carboxylic acids. Forward: α-haloketone + base (NaOH, NaOMe) → cyclopropanone intermediate → ring-opened by nucleophile. Ring contraction for cyclic substrates.",
    "prereq": "[C:1](=[O:2])([OH])[C]([#6])([#6])[#6]",
    "rxn": "[C:1](=[O:2])([OH])[C]([#6])([#6])[#6]>>[C:1](=[O:2])[C]([F,Cl,Br,I])",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "F10_bamford_stevens": {
    "brief": "Tosylhydrazone decomposed under basic conditions (NaOMe, NaH) to give alkene via diazo intermediate → carbene → alkene. Less substituted alkene favored under protic conditions.",
    "category": "elimination",
    "co_reactant_examples": [
      "NaOMe/diglyme/heat",
      "NaH/DME/heat"
    ],
    "incompatible_groups": [
      "[OX2r3]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Bamford-Stevens Reaction (Forward, elimination)",
    "note": "Bamford-Stevens: tosylhydrazone + base → diazo compound → carbene → alkene. Protic conditions (NaOMe/glycol): less substituted alkene (Hofmann-type). Aprotic conditions (NaH/DME): more substituted alkene (Zaitsev-type). Related to Shapiro reaction (2 equiv BuLi).",
    "prereq": "[C:1]([N]=[N]S(=O)(=O)c1ccc(C)cc1)[C:2]",
    "rxn": "[C:1]([N]=[N]S(=O)(=O)c1ccc(C)cc1)[C:2]>>[C:1]=[C:2]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "F11_beckmann_rearrangement_general": {
    "brief": "Beckmann rearrangement: oxime → amide. Acid activates oxime OH, group anti to leaving OH migrates to nitrogen with retention at migrating carbon.",
    "category": "rearrangement",
    "co_reactant_examples": [
      "H2SO4/heat",
      "PCl5/Et2O",
      "SOCl2/pyridine",
      "cyanuric_chloride/DMF"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Beckmann Rearrangement General (Forward, rearrangement)",
    "note": "Beckmann: oxime + acid (H2SO4, PCl5, SOCl2, Tf2O) → amide. Anti group migrates to N. Retention at migrating carbon. For acyclic oximes → acyclic amide. For cyclic oximes → lactam (ring expansion, see F14). Cyanuric chloride is a mild modern activator.",
    "prereq": "[C:1](=[N:2][OH:3])[#6:4]",
    "rxn": "[C:1](=[N:2][OH])[#6:4]>>[C:1](=O)[N:2][#6:4]",
    "stereo_policy": "retention",
    "type": "forward"
  },
  "F11_beckmann_rearrangement_general_retro": {
    "brief": "Retro-Beckmann: secondary amide (not lactam, not peptide) disconnected to oxime. Forward: acid-catalyzed rearrangement with retention at migrating carbon.",
    "category": "rearrangement",
    "co_reactant_examples": [
      "H2SO4/heat",
      "PCl5/Et2O"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Beckmann Rearrangement General (Retro, rearrangement)",
    "note": "Retrosynthetic Beckmann: amide traced to oxime. Forward uses H2SO4/heat or PCl5. Anti group migrates. Retention at migrating carbon. Prereq restricted to secondary amides: the nitrogen must have exactly one H (NH) and be bonded to one carbon besides the carbonyl. This excludes primary amides (NH2), tertiary amides (no H), and generic peptide bonds.",
    "prereq": "[CX3:1](=O)[NX3;H1:2][#6;!$([CX3]=O):4]",
    "rxn": "[C:1](=O)[N:2][#6:4]>>[C:1](=[N:2][OH])[#6:4]",
    "stereo_policy": "retention",
    "type": "retro"
  },
  "F12_benzilic_acid_rearrangement_placeholder": {
    "brief": "Benzilic acid rearrangement: 1,2-diketone (benzil) + KOH → α-hydroxy acid (benzilic acid). 1,2-aryl shift to electron-deficient carbon.",
    "category": "rearrangement",
    "co_reactant_examples": [
      "KOH/EtOH-H2O/reflux",
      "NaOH/H2O/EtOH"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Benzilic Acid Rearrangement (Forward, rearrangement)",
    "note": "Benzilic acid rearrangement: ArCOCOAr + KOH → Ar2C(OH)COOH. OH⁻ attacks one C=O, then 1,2-aryl shift to adjacent carbonyl carbon. Irreversible (carboxylate formation). Works best for aryl 1,2-diketones. Aliphatic diketones give lower yields. Racemic at new stereocenter.",
    "prereq": "[C:1](=O)[C:2](=O)",
    "rxn": "[C:1](=O)[C:2](=O)>>[C:1]([OH])[C:2](=O)[OH]",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "F12_benzilic_acid_rearrangement_placeholder_retro": {
    "brief": "Retro-benzilic acid: α-hydroxy acid disconnected to 1,2-diketone. Forward: KOH-induced 1,2-aryl shift.",
    "category": "rearrangement",
    "co_reactant_examples": [
      "KOH/EtOH-H2O/reflux",
      "NaOH/H2O/EtOH"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Benzilic Acid Rearrangement (Retro, rearrangement)",
    "note": "Retrosynthetic benzilic acid: Ar2C(OH)COOH traced to ArCOCOAr. Forward uses KOH/EtOH-H2O. 1,2-aryl shift. Irreversible.",
    "prereq": "[C:1]([OH])[C:2](=O)[OH]",
    "rxn": "[C:1]([OH])[C:2](=O)[OH]>>[C:1](=O)[C:2](=O)",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "F13_wagner_meerwein_placeholder": {
    "brief": "Wagner-Meerwein rearrangement: 1,2-shift of alkyl/aryl/hydride to adjacent carbocation. Driven by formation of more stable carbocation.",
    "category": "rearrangement",
    "co_reactant_examples": [
      "H2SO4/heat",
      "BF3·Et2O",
      "AlCl3/DCM"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Wagner Meerwein (Forward, rearrangement)",
    "note": "Wagner-Meerwein: 1,2-shift (alkyl, aryl, or hydride) to carbocation center. Migratory aptitude: aryl > alkyl > H (for 1,2-shifts). Retention at migrating group. Occurs under acidic conditions that generate carbocations (solvolysis, protonation of alkenes, Lewis acids). Neopentyl → tert-amyl rearrangement is classic example.",
    "prereq": "[C+:1][C:2]",
    "rxn": "[C+:1][C:2]>>[C:2][C+:1]",
    "stereo_policy": "retention",
    "type": "forward"
  },
  "F13_wagner_meerwein_placeholder_retro": {
    "brief": "Retro-Wagner-Meerwein: rearranged skeleton disconnected to pre-rearrangement carbocation precursor. Forward: acid-induced 1,2-shift.",
    "category": "rearrangement",
    "co_reactant_examples": [
      "H2SO4/heat",
      "BF3·Et2O"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Wagner Meerwein (Retro, rearrangement)",
    "note": "Retrosynthetic Wagner-Meerwein: rearranged product traced to carbocation precursor. Forward uses acid conditions (H2SO4, BF3, AlCl3). 1,2-shift to more stable carbocation.",
    "prereq": "[C:2][C+:1]",
    "rxn": "[C:2][C+:1]>>[C+:1][C:2]",
    "stereo_policy": "retention",
    "type": "retro"
  },
  "F14_beckmann_cyclic_oxime_to_lactam_placeholder": {
    "brief": "Beckmann on cyclic oxime: cyclic oxime → lactam (ring expansion by one atom). Anti group migrates, inserting N into ring. Industrial caprolactam synthesis.",
    "category": "rearrangement",
    "co_reactant_examples": [
      "H2SO4/heat",
      "PCl5/Et2O",
      "cyanuric_chloride/DMF",
      "Tf2O/pyridine"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Beckmann Cyclic Oxime To Lactam (Forward, rearrangement)",
    "note": "Beckmann on cyclic oxime: cyclohexanone oxime + H2SO4 → ε-caprolactam (ring expansion 6→7). Industrial process for nylon-6 precursor. Anti group migrates to N. Retention at migrating carbon. Cyanuric chloride or Tf2O as mild activators for lab scale.",
    "prereq": "[C:1]1(=[N:2][OH:3])[CH2:4][CH2:5][CH2:6][CH2:7][CH2:8]1",
    "rxn": "[C:1]1(=[N:2][OH:3])[CH2:4][CH2:5][CH2:6][CH2:7][CH2:8]1>>[C:1]1(=O)[N:2][CH2:4][CH2:5][CH2:6][CH2:7][CH2:8]1",
    "stereo_policy": "retention",
    "type": "forward"
  },
  "F14_beckmann_cyclic_oxime_to_lactam_placeholder_retro": {
    "brief": "Retro-Beckmann cyclic: lactam disconnected to cyclic oxime (ring contraction by one atom). Forward: acid-catalyzed ring expansion.",
    "category": "rearrangement",
    "co_reactant_examples": [
      "H2SO4/heat",
      "PCl5/Et2O"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Beckmann Cyclic Oxime To Lactam (Retro, rearrangement)",
    "note": "Retrosynthetic Beckmann cyclic: lactam traced to cyclic oxime (one ring atom fewer). Forward uses H2SO4/heat or PCl5. Ring expansion. Retention at migrating carbon.",
    "prereq": "[C:1]1(=O)[N:2][CH2:4][CH2:5][CH2:6][CH2:7][CH2:8]1",
    "rxn": "[C:1]1(=O)[N:2][CH2:4][CH2:5][CH2:6][CH2:7][CH2:8]1>>[C:1]1(=[N:2][OH:3])[CH2:4][CH2:5][CH2:6][CH2:7][CH2:8]1",
    "stereo_policy": "retention",
    "type": "retro"
  },
  "G01_fischer_ester": {
    "brief": "Carboxylic acid + alcohol → ester under acid catalysis (H2SO4, p-TsOH). Equilibrium reaction driven by excess alcohol or water removal.",
    "category": "ester_amide",
    "co_reactant_examples": [
      "H2SO4(cat)/ROH(excess)",
      "p-TsOH/toluene/Dean-Stark"
    ],
    "incompatible_groups": [
      "[OX2r3]",
      "[CX4]([OX2][#6])([OX2][#6])"
    ],
    "name": "Fischer Esterification (Forward, ester amide)",
    "note": "Fischer esterification: acid-catalyzed, equilibrium. Epoxides and acetals are acid-labile. Amines may interfere (protonated under acid conditions). Dean-Stark trap removes water to drive equilibrium.",
    "prereq": "[C:1](=[O:2])[OH].[#6:4][OH:3]",
    "rxn": "[C:1](=[O:2])[OH].[#6:4][OH:3]>>[C:1](=[O:2])[O:3][#6:4]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "G01_fischer_ester_retro": {
    "brief": "Retro-Fischer: ester disconnected to carboxylic acid + alcohol. Forward: acid-catalyzed (H2SO4, p-TsOH) esterification, equilibrium driven by excess alcohol or water removal.",
    "category": "ester_amide",
    "co_reactant_examples": [
      "H2SO4(cat)/ROH(excess)",
      "p-TsOH/toluene/Dean-Stark"
    ],
    "incompatible_groups": [
      "[OX2r3]",
      "[CX4]([OX2][#6])([OX2][#6])"
    ],
    "name": "Fischer Esterification (Retro, ester amide)",
    "note": "Fischer esterification: equilibrium reaction, driven by Le Chatelier (excess alcohol or water removal via Dean-Stark). Acid conditions: epoxides and acetals incompatible. Alternative: DCC/DMAP coupling (mild, neutral conditions).",
    "prereq": "[C:1](=[O:2])[O:3][#6:4]",
    "rxn": "[C:1](=[O:2])[O:3][#6:4]>>[C:1](=[O:2])[OH].[#6:4][OH:3]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "G02_amide": {
    "brief": "Acyl chloride + amine → amide + HCl. Base (Et3N, pyridine) scavenges HCl. Alternatively: RCOOH + amine + coupling reagent.",
    "category": "ester_amide",
    "co_reactant_examples": [
      "RCOCl/Et3N/DCM",
      "RCOCl/pyridine"
    ],
    "incompatible_groups": [
      "[OX2r3]",
      "[OX2H]"
    ],
    "name": "Amide Bond Formation (Forward, ester amide)",
    "note": "Acyl chloride + amine: fast, but acyl chlorides are moisture-sensitive and may racemize α-stereocenters. Free hydroxyl groups may also be acylated (competing). Base required to neutralize HCl byproduct.",
    "prereq": "[C:1](=[O:2])Cl.[#6:4][NH:3]",
    "rxn": "[C:1](=[O:2])Cl.[#6:4][NH:3]>>[C:1](=[O:2])[N:3]([#6:4])",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "G02_amide_retro": {
    "brief": "Retro-amide: amide disconnected to acyl chloride + amine. Forward: acyl chloride + amine → amide + HCl. Also: RCOOH + amine + coupling reagent (EDC, HATU).",
    "category": "ester_amide",
    "co_reactant_examples": [
      "RCOCl/Et3N",
      "RCOOH/EDC/HOBt",
      "RCOOH/HATU/DIPEA"
    ],
    "incompatible_groups": [
      "[OX2r3]",
      "[CX4]([OX2][#6])([OX2][#6])"
    ],
    "name": "Amide Bond Formation (Retro, ester amide)",
    "note": "Amide formation: acyl chloride + amine is direct but harsh. Peptide coupling reagents (EDC/HOBt, HATU/DIPEA) are milder and avoid racemization. Retro shows acyl chloride for simplicity; in practice, coupling reagents are preferred.",
    "prereq": "[C:1](=[O:2])[N:3]([#6:4])",
    "rxn": "[C:1](=[O:2])[N:3]([#6:4])>>[C:1](=[O:2])Cl.[#6:4][NH:3]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "G03_mitsunobu": {
    "brief": "Mitsunobu esterification: alcohol + acidic nucleophile (RCOOH, ArOH) with DIAD/PPh3 → ester/ether with inversion at alcohol carbon.",
    "category": "ester_amide",
    "co_reactant_examples": [
      "DIAD/PPh3/THF",
      "DEAD/PPh3/THF"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Mitsunobu (Forward, ester amide)",
    "note": "Mitsunobu: DIAD/PPh3 activates alcohol as leaving group. Acidic nucleophile (pKa < 13) attacks via SN2 with inversion. Carboxylic acids, phenols, phthalimides work. Simple alcohols (pKa ~16) do NOT work as nucleophiles. Primary and secondary alcohols only.",
    "prereq": "[C:1][OH:2].[#6:3][OH]",
    "rxn": "[C:1][OH:2].[#6:3][OH]>>[C:1][O:2][#6:3]",
    "stereo_policy": "inversion",
    "type": "forward"
  },
  "G03_mitsunobu_retro": {
    "brief": "Retro-Mitsunobu ester: ether/ester disconnected to two alcohols. Forward: DIAD/PPh3 activates one alcohol, SN2 by nucleophilic alcohol gives inversion.",
    "category": "ester_amide",
    "co_reactant_examples": [
      "DIAD/PPh3/THF",
      "DEAD/PPh3/THF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Mitsunobu (Retro, ester amide)",
    "note": "Mitsunobu esterification: DIAD/PPh3 converts alcohol to activated leaving group. Acidic nucleophile (pKa < 13: carboxylic acid, phenol) attacks via SN2 with inversion. Primary and secondary alcohols only. Tertiary alcohols do not react. PPh3=O byproduct can be hard to remove.",
    "prereq": "[C:1][O:2]C(=[O])[#6:3]",
    "rxn": "[C:1][O:2]C(=[O])[#6:3]>>[C:1][OH:2].[#6:3]C(=[O])[OH]",
    "stereo_policy": "inversion",
    "type": "retro"
  },
  "G04_yamaguchi_ester_retro": {
    "brief": "Retro-Yamaguchi: ester disconnected to carboxylic acid + alcohol. Forward: 2,4,6-trichlorobenzoyl chloride forms mixed anhydride, then DMAP-catalyzed esterification.",
    "category": "ester_amide",
    "co_reactant_examples": [
      "2,4,6-Cl3C6H2COCl/Et3N/DMAP/toluene",
      "Yamaguchi_reagent/Et3N/DMAP/THF"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]"
    ],
    "name": "Yamaguchi Ester (Retro, ester amide)",
    "note": "Yamaguchi esterification: RCOOH + 2,4,6-Cl3C6H2COCl/Et3N → mixed anhydride, then DMAP-catalyzed acyl transfer to alcohol. Excellent for macrolactonization (high dilution). Mild conditions, good chemoselectivity. Free amines may interfere.",
    "prereq": "[C:1](=[O:2])[O:3][#6:4]",
    "rxn": "[C:1](=[O:2])[O:3][#6:4]>>[C:1](=[O:2])[OH].[#6:4][OH:3]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "G05_steglich_ester_retro": {
    "brief": "Retro-Steglich: ester disconnected to carboxylic acid + alcohol. Forward: DCC (or EDC) + DMAP-catalyzed esterification under mild conditions.",
    "category": "ester_amide",
    "co_reactant_examples": [
      "DCC/DMAP/DCM",
      "EDC/DMAP/DCM"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]"
    ],
    "name": "Steglich Ester (Retro, ester amide)",
    "note": "Steglich esterification: RCOOH + R'OH + DCC → ester. DMAP (catalytic) dramatically accelerates via acyl pyridinium intermediate. Mild conditions (rt, neutral pH). DCU byproduct can be hard to remove (EDC gives water-soluble urea). Free amines may compete.",
    "prereq": "[C:1](=[O:2])[O:3][#6:4]",
    "rxn": "[C:1](=[O:2])[O:3][#6:4]>>[C:1](=[O:2])[OH].[#6:4][OH:3]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "G06_transesterification": {
    "brief": "Transesterification: ester + different alcohol → new ester + released alcohol. Acid (H2SO4, p-TsOH) or base (NaOMe) catalyzed. Equilibrium reaction.",
    "category": "ester_amide",
    "co_reactant_examples": [
      "Ti(OiPr)4/ROH/heat",
      "NaOMe/MeOH",
      "p-TsOH/ROH/toluene/Dean-Stark"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Transesterification (Forward, ester amide)",
    "note": "Transesterification: exchange of alkoxy group in ester. Acid-catalyzed (H2SO4, Ti(OiPr)4) or base-catalyzed (NaOMe, K2CO3). Equilibrium — drive by excess alcohol or remove volatile alcohol. Ti(OiPr)4 is mild Lewis acid catalyst. Enzymatic transesterification (lipase) for enantioselective kinetic resolution.",
    "prereq": "[C:1](=[O:2])[O][#6:3]",
    "rxn": "[C:1](=[O:2])[O][#6]>>[C:1](=[O:2])[O][CH3]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "G06_transesterification_retro": {
    "brief": "Retro-transesterification: ester disconnected to different ester + alcohol. Forward: acid or base catalyzed alkoxy exchange.",
    "category": "ester_amide",
    "co_reactant_examples": [
      "Ti(OiPr)4/ROH",
      "NaOMe/MeOH"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Transesterification (Retro, ester amide)",
    "note": "Retrosynthetic transesterification: ester traced to different ester + alcohol. Forward uses Ti(OiPr)4/ROH or NaOMe/MeOH. Equilibrium reaction.",
    "prereq": "[C:1](=[O:2])[O][CH3]",
    "rxn": "[C:1](=[O:2])[O][CH3]>>[C:1](=[O:2])[O][#6]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "G07_weinreb_amide": {
    "brief": "Weinreb amide synthesis: carboxylic acid + N,O-dimethylhydroxylamine → Weinreb amide. Key intermediate for controlled ketone synthesis with RLi/RMgBr.",
    "category": "ester_amide",
    "co_reactant_examples": [
      "MeNH(OMe)·HCl/EDC/HOBt/Et3N/DCM",
      "RCOCl/MeNH(OMe)/Et3N/DCM"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Weinreb Amide (Forward, ester amide)",
    "note": "Weinreb amide: RCOOH + MeNH(OMe)·HCl + coupling reagent (EDC/HOBt) → RC(=O)N(OMe)Me. Or from RCOCl + MeNH(OMe). Weinreb amide + RMgBr → ketone (chelated tetrahedral intermediate prevents double addition).",
    "prereq": "[C:1](=[O:2])[OH]",
    "rxn": "[C:1](=[O:2])[OH]>>[C:1](=[O:2])[N](C)[OC]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "G07_weinreb_amide_retro": {
    "brief": "Retro-Weinreb: Weinreb amide (RC(=O)N(OMe)Me) disconnected to carboxylic acid. Forward: coupling of RCOOH with MeNH(OMe) via EDC or from RCOCl.",
    "category": "ester_amide",
    "co_reactant_examples": [
      "MeNH(OMe)·HCl/EDC/HOBt/Et3N/DCM",
      "RCOCl/MeNH(OMe)/Et3N/DCM"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Weinreb Amide (Retro, ester amide)",
    "note": "Weinreb amide: RC(=O)N(OMe)Me. Key synthetic intermediate — reacts with RLi or RMgBr to give ketone (chelation prevents over-addition). Made from RCOOH + MeNH(OMe)·HCl/EDC/HOBt, or from RCOCl + MeNH(OMe). N,O-dimethylhydroxylamine is the amine component.",
    "prereq": "[C:1](=[O:2])[N](C)[OC]",
    "rxn": "[C:1](=[O:2])[N](C)[OC]>>[C:1](=[O:2])[OH]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "G08_saponification_forward": {
    "brief": "Saponification: ester hydrolysis with aqueous base (NaOH, LiOH). Irreversible — carboxylate salt does not re-esterify. Mild, selective for esters over amides.",
    "category": "ester_amide",
    "co_reactant_examples": [
      "NaOH/H2O/MeOH",
      "LiOH/THF-H2O",
      "KOH/EtOH-H2O"
    ],
    "incompatible_groups": [
      "[OX2r3]",
      "C(=O)OC(C)(C)C"
    ],
    "name": "Saponification (Forward, ester amide)",
    "note": "Saponification: ester + NaOH/H2O → carboxylate + alcohol. Irreversible (carboxylate is non-electrophilic). LiOH/THF-H2O is milder, selective for methyl/ethyl esters. tert-Butyl esters resist saponification (use TFA instead). Boc groups (tert-butyl carbamate) are stable to saponification. Epoxides are base-sensitive. [Retro: see G08_saponification_retro]",
    "prereq": "[C:1](=[O:2])[O:3][#6:4]",
    "rxn": "[C:1](=[O:2])[O:3][#6:4]>>[C:1](=[O:2])[OH].[#6:4][OH:3]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "G08_saponification_retro": {
    "brief": "Retro-saponification: carboxylic acid + alcohol disconnected to ester. Forward: NaOH/H2O hydrolyzes ester irreversibly.",
    "category": "ester_amide",
    "co_reactant_examples": [
      "NaOH/H2O/MeOH",
      "LiOH/THF-H2O"
    ],
    "incompatible_groups": [
      "[OX2r3]",
      "C(=O)OC(C)(C)C"
    ],
    "name": "Saponification (Retro, ester amide)",
    "note": "Retrosynthetic saponification: carboxylic acid + alcohol traced to ester. Forward uses NaOH/H2O or LiOH/THF-H2O. Irreversible hydrolysis. Boc and tBu esters resist saponification.",
    "prereq": "[C:1](=[O:2])[OH].[#6:4][OH:3]",
    "rxn": "[C:1](=[O:2])[OH].[#6:4][OH:3]>>[C:1](=[O:2])[O:3][#6:4]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "G09_acid_chloride_formation_SOCl2": {
    "brief": "Acid chloride formation: carboxylic acid + SOCl2 (or oxalyl chloride) → acyl chloride + SO2 + HCl. Highly reactive acylating agent.",
    "category": "ester_amide",
    "co_reactant_examples": [
      "SOCl2/reflux",
      "(COCl)2/DMF(cat)/DCM",
      "SOCl2/DMF(cat)"
    ],
    "incompatible_groups": [
      "[OX2H]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Acid Chloride Formation Socl2 (Forward, ester amide)",
    "note": "Acid chloride: RCOOH + SOCl2 → RCOCl + SO2 + HCl. Oxalyl chloride ((COCl)2/DMF cat.) is milder alternative — gaseous byproducts (CO, CO2, HCl) drive reaction. Acid chlorides are moisture-sensitive, react with alcohols, amines, water. Free OH and NH groups are incompatible.",
    "prereq": "[C:1](=[O:2])[OH]",
    "rxn": "[C:1](=[O:2])[OH]>>[C:1](=[O:2])Cl",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "G09_acid_chloride_formation_SOCl2_retro": {
    "brief": "Retro-acid chloride: acyl chloride disconnected to carboxylic acid. Forward: SOCl2 or oxalyl chloride converts RCOOH → RCOCl.",
    "category": "ester_amide",
    "co_reactant_examples": [
      "SOCl2/reflux",
      "(COCl)2/DMF(cat)/DCM"
    ],
    "incompatible_groups": [
      "[OX2H]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Acid Chloride Formation Socl2 (Retro, ester amide)",
    "note": "Retrosynthetic acid chloride: RCOCl traced to RCOOH. Forward uses SOCl2 or (COCl)2/DMF. Acid chlorides are key intermediates for amide and ester synthesis.",
    "prereq": "[C:1](=[O:2])Cl",
    "rxn": "[C:1](=[O:2])Cl>>[C:1](=[O:2])[OH]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "G11_steiglich_esterification_forward": {
    "brief": "Steglich esterification: carboxylic acid + alcohol + DCC/DMAP → ester. DMAP catalysis via acyl pyridinium intermediate dramatically accelerates reaction.",
    "category": "ester_amide",
    "co_reactant_examples": [
      "DCC/DMAP/DCM",
      "EDC/DMAP/DCM",
      "DCC/DMAP/CHCl3"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]"
    ],
    "name": "Steglich Esterification (Forward, ester amide)",
    "note": "Steglich: RCOOH + R'OH + DCC → ester + DCU. DMAP (catalytic, 5-10 mol%) forms acyl pyridinium intermediate, accelerating acyl transfer. Mild conditions (rt). EDC can replace DCC (water-soluble urea byproduct, easier purification). Free amines may compete as nucleophiles. [Retro: see G05_steglich_ester_retro]",
    "prereq": "[C:1](=[O:2])[OH].[OH:3][#6:4]",
    "rxn": "[C:1](=[O:2])[OH].[OH:3][#6:4]>>[C:1](=[O:2])[O:3][#6:4]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "G11_steiglich_esterification_retro": {
    "brief": "Retro-Steglich: ester disconnected to carboxylic acid + alcohol. Forward: DCC/DMAP-catalyzed esterification.",
    "category": "ester_amide",
    "co_reactant_examples": [
      "DCC/DMAP/DCM",
      "EDC/DMAP/DCM"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Steglich Esterification (Retro, ester amide)",
    "note": "Retrosynthetic Steglich: ester traced to RCOOH + R'OH. Forward uses DCC/DMAP/DCM or EDC/DMAP/DCM. Mild conditions, good for sensitive substrates.",
    "prereq": "[C:1](=[O:2])[O:3][#6:4]",
    "rxn": "[C:1](=[O:2])[O:3][#6:4]>>[C:1](=[O:2])[OH].[OH:3][#6:4]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "G12_weinreb_amide_forward": {
    "brief": "Weinreb amide from acid chloride: RCOCl + MeNH(OMe) → Weinreb amide. Key intermediate for ketone synthesis via RMgBr or RLi addition.",
    "category": "ester_amide",
    "co_reactant_examples": [
      "HN(Me)OMe·HCl/Et3N/DCM",
      "HN(Me)OMe/pyridine"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Weinreb Amide (Forward, ester amide)",
    "note": "Weinreb amide from acid chloride: RCOCl + HN(Me)OMe → RC(=O)N(Me)OMe + HCl. Base (Et3N) scavenges HCl. Weinreb amide reacts with 1 equiv RMgBr/RLi to give ketone (chelated tetrahedral intermediate prevents over-addition). N,O-dimethylhydroxylamine·HCl is the reagent. [Retro: see G07_weinreb_amide_retro]",
    "prereq": "[C:1](=[O:2])Cl.N(C)OC",
    "rxn": "[C:1](=[O:2])Cl.N(C)OC>>[C:1](=[O:2])N(C)OC",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "G12_weinreb_amide_retro": {
    "brief": "Retro-Weinreb amide: Weinreb amide disconnected to acid chloride + N,O-dimethylhydroxylamine. Forward: RCOCl + HN(Me)OMe.",
    "category": "ester_amide",
    "co_reactant_examples": [
      "HN(Me)OMe·HCl/Et3N/DCM",
      "HN(Me)OMe/pyridine"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Weinreb Amide (Retro, ester amide)",
    "note": "Retrosynthetic Weinreb: RC(=O)N(Me)OMe traced to RCOCl + HN(Me)OMe. Alternative: RCOOH + HN(Me)OMe·HCl + EDC/HOBt.",
    "prereq": "[C:1](=[O:2])N(C)OC",
    "rxn": "[C:1](=[O:2])N(C)OC>>[C:1](=[O:2])Cl.N(C)OC",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "G13_amide_coupling_edc_hatu_forward": {
    "brief": "Peptide/amide coupling: carboxylic acid + amine + coupling reagent (EDC/HOBt or HATU/DIPEA) → amide. Standard method for amide bond formation.",
    "category": "ester_amide",
    "co_reactant_examples": [
      "EDC/HOBt/DIPEA/DMF",
      "HATU/DIPEA/DMF",
      "EDC/HOAt/NMM/DCM"
    ],
    "incompatible_groups": [
      "[OX2H][CX3](=[OX1])"
    ],
    "name": "Amide Coupling EDC HATU (Forward, ester amide)",
    "note": "Amide coupling: RCOOH activated by EDC (carbodiimide) or HATU (uronium) to form active ester, then amine attacks. HOBt/HOAt additives suppress racemization. HATU is faster and gives less epimerization than EDC. DIPEA or NMM as base. DMF or DCM as solvent. Free OH groups may compete slowly. [Retro: see G14_amide_coupling_edc_hatu_retro]",
    "prereq": "[C:1](=[O:2])[OH].[NX3;H1,H2;+0:3]",
    "rxn": "[C:1](=[O:2])[OH].[NX3;H1,H2;+0:3]>>[C:1](=[O:2])[N:3]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "G14_amide_coupling_edc_hatu_retro": {
    "brief": "Retro-amide coupling: amide C-N bond disconnected to carboxylic acid + amine. Forward: EDC/HOBt or HATU/DIPEA coupling.",
    "category": "ester_amide",
    "co_reactant_examples": [
      "EDC/HOBt/DIPEA/DMF",
      "HATU/DIPEA/DMF"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Amide Coupling EDC HATU (Retro, ester amide)",
    "note": "Retrosynthetic amide coupling: amide traced to RCOOH + R'NH2. Forward uses EDC/HOBt/DIPEA/DMF or HATU/DIPEA/DMF. Key disconnection in peptide synthesis. Racemization at α-carbon is a concern — HOBt/HOAt additives minimize it.",
    "prereq": "[C:1](=[O:2])[N:3]",
    "rxn": "[C:1](=[O:2])[N:3]>>[C:1](=[O:2])[OH].[N:3]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "G15_carbamate_from_chloroformate_forward": {
    "brief": "Carbamate formation: amine + alkyl chloroformate (ROC(=O)Cl) → carbamate (urethane). Common for Boc, Cbz, Fmoc protection of amines.",
    "category": "ester_amide",
    "co_reactant_examples": [
      "CbzCl/NaHCO3/dioxane-H2O",
      "Boc2O/Et3N/DCM",
      "FmocCl/Na2CO3/dioxane-H2O"
    ],
    "incompatible_groups": [
      "[OX2H]"
    ],
    "name": "Carbamate From Chloroformate (Forward, ester amide)",
    "note": "Carbamate: amine attacks electrophilic C of chloroformate. Base (Et3N, NaHCO3) scavenges HCl. Boc2O (di-tert-butyl dicarbonate) is alternative Boc source. CbzCl (benzyl chloroformate) for Cbz protection. FmocCl for Fmoc. Free OH groups may compete but amines are faster. [Retro: see G15_carbamate_from_chloroformate_retro]",
    "prereq": "[N:1].[O:2][C:3](=[O:4])Cl",
    "rxn": "[N:1].[O:2][C:3](=[O:4])Cl>>[N:1][C:3](=[O:4])[O:2]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "G15_carbamate_from_chloroformate_retro": {
    "brief": "Retro-carbamate: carbamate N-C(=O) disconnected to amine + chloroformate. Forward: amine + ROC(=O)Cl with base.",
    "category": "ester_amide",
    "co_reactant_examples": [
      "CbzCl/NaHCO3/dioxane-H2O",
      "Boc2O/Et3N/DCM"
    ],
    "incompatible_groups": [
      "[OX2H]"
    ],
    "name": "Carbamate From Chloroformate (Retro, ester amide)",
    "note": "Retrosynthetic carbamate: N-C(=O)-O traced to amine + chloroformate. Forward uses CbzCl/NaHCO3 or Boc2O/Et3N. Key protecting group disconnection in peptide synthesis.",
    "prereq": "[N:1][C:3](=[O:4])[O:2]",
    "rxn": "[N:1][C:3](=[O:4])[O:2]>>[N:1].[O:2][C:3](=[O:4])Cl",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "H01_nitration": {
    "brief": "Electrophilic aromatic substitution: HNO3/H2SO4 generates NO2+ electrophile. Electron-rich rings react faster. ortho/para directors give ortho+para products; meta directors give meta.",
    "category": "aromatic",
    "co_reactant_examples": [
      "HNO3/H2SO4(mixed_acid)",
      "AcONO2(acetyl_nitrate)"
    ],
    "incompatible_groups": [
      "[CX4]([OX2][#6])([OX2][#6])",
      "C(=O)OC(C)(C)C",
      "[OX2r3]"
    ],
    "name": "Aromatic Nitration (Forward, aromatic)",
    "note": "Nitration: strongly acidic conditions. Acetals hydrolyzed, Boc groups cleaved, epoxides opened. Electron-poor rings (already bearing NO2, CN) require fuming HNO3/H2SO4. Phenols may be over-oxidized.",
    "prereq": "[cH:1]",
    "rxn": "[cH:1]>>[c:1][N+](=O)[O-]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "H01_nitration_retro": {
    "brief": "Retro-nitration: nitroarene disconnected to arene. Forward: HNO3/H2SO4 electrophilic aromatic nitration.",
    "category": "aromatic",
    "co_reactant_examples": [
      "HNO3/H2SO4",
      "fuming_HNO3/AcOH"
    ],
    "incompatible_groups": [
      "[CX4]([OX2][#6])([OX2][#6])",
      "C(=O)OC(C)(C)C"
    ],
    "name": "Nitration (Retro, aromatic)",
    "note": "Retrosynthetic nitration: ArNO2 traced to ArH. Forward uses HNO3/H2SO4 (mixed acid). NO2+ is electrophile. Meta-directing for subsequent EAS. Acetals and Boc groups are acid-labile.",
    "prereq": "[c:1][N+](=O)[O-]",
    "rxn": "[c:1][N+](=O)[O-]>>[cH:1]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "H02_halogenation": {
    "brief": "Electrophilic aromatic bromination using Br2/FeBr3 (Lewis acid catalyst). Electron-rich rings react without catalyst. Regioselectivity follows directing effects.",
    "category": "aromatic",
    "co_reactant_examples": [
      "Br2/FeBr3",
      "Br2/AlBr3",
      "NBS/DMF(for_selective_monobromination)"
    ],
    "incompatible_groups": [
      "[C]=[C]",
      "[SX2][#6]"
    ],
    "name": "Aromatic Bromination (Forward, aromatic)",
    "note": "Aromatic bromination: Br2/FeBr3 for deactivated rings. Activated rings (phenols, anilines) react with Br2 alone. NBS in DMF for selective monobromination. Alkenes may undergo addition with Br2 (competing). Thioethers may be oxidized.",
    "prereq": "[cH:1]",
    "rxn": "[cH:1]>>[c:1]Br",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "H02_halogenation_retro": {
    "brief": "Retro-halogenation: aryl bromide disconnected to arene. Forward: Br2/FeBr3 electrophilic aromatic bromination.",
    "category": "aromatic",
    "co_reactant_examples": [
      "Br2/FeBr3",
      "Br2/AlBr3"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2][#6]"
    ],
    "name": "Halogenation (Retro, aromatic)",
    "note": "Retrosynthetic halogenation: ArBr traced to ArH. Forward uses Br2/FeBr3 or Br2/AlBr3. Lewis acid generates Br+ electrophile. Ortho/para for activated rings, meta for deactivated.",
    "prereq": "[c:1]Br",
    "rxn": "[c:1]Br>>[cH:1]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "H03_birch_reduction": {
    "brief": "Aromatic ring partially reduced to 1,4-cyclohexadiene using Na or Li in liquid NH3/tBuOH. EDG-substituted rings: unconjugated diene. EWG-substituted rings: conjugated diene.",
    "category": "aromatic",
    "co_reactant_examples": [
      "Na/NH3(l)/tBuOH",
      "Li/NH3(l)/tBuOH"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]",
      "O[CH2]c1ccccc1"
    ],
    "name": "Birch Reduction (Forward, aromatic)",
    "note": "Birch reduction: dissolving metal reduction (solvated electrons). EDG (OMe, NR2): reduction at 2,5-positions (unconjugated product). EWG (COOH, COOR): reduction at 1,4-positions (conjugated product). Esters may be reduced by Li/NH3. Benzyl ethers cleaved. Acid chlorides and epoxides incompatible.",
    "prereq": "[c:1]1[c:2][cH:3][c:4][c:5][cH:6]1",
    "rxn": "[c:1]1[c:2][cH:3][c:4][c:5][cH:6]1>>[C:1]1=[C:2][CH2:3][C:4]=[C:5][CH2:6]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "H03_birch_reduction_retro": {
    "brief": "Retro-Birch: 1,4-cyclohexadiene disconnected to arene. Forward: Na/NH3(l)/tBuOH dissolving metal reduction.",
    "category": "aromatic",
    "co_reactant_examples": [
      "Na/NH3(l)/tBuOH",
      "Li/NH3(l)/tBuOH"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])[OX2][#6]",
      "[CX3](=[OX1])[NX3]"
    ],
    "name": "Birch Reduction (Retro, aromatic)",
    "note": "Retrosynthetic Birch: 1,4-diene traced to arene. Forward uses Na or Li in liquid NH3 with tBuOH as proton source. EDG → unconjugated product (2,5-reduction). EWG → conjugated product (1,4-reduction).",
    "prereq": "[C:1]1=[C:2][CH2:3][C:4]=[C:5][CH2:6]1",
    "rxn": "[C:1]1=[C:2][CH2:3][C:4]=[C:5][CH2:6]1>>[c:1]1[c:2][cH:3][c:4][c:5][cH:6]1",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "H04_sandmeyer": {
    "brief": "Aniline → diazonium salt (NaNO2/HCl, 0°C) → aryl chloride (CuCl). Also: CuBr→ArBr, CuCN→ArCN, KI→ArI, H3PO2→ArH, HBF4→ArF (Balz-Schiemann).",
    "category": "aromatic",
    "co_reactant_examples": [
      "NaNO2/HCl/0C_then_CuCl",
      "NaNO2/HCl/0C_then_CuBr",
      "NaNO2/HCl/0C_then_CuCN"
    ],
    "incompatible_groups": [
      "[OX2r3]",
      "[CX4]([OX2][#6])([OX2][#6])"
    ],
    "name": "Sandmeyer Reaction (Forward, aromatic)",
    "note": "Sandmeyer: ArNH2 → ArN2+ (diazotization at 0°C) → ArX (Cu(I) halide). Diazonium salts are thermally unstable (explosive when dry). Must keep at 0°C. Acidic conditions: epoxides and acetals incompatible.",
    "prereq": "[c:1][NH2]",
    "rxn": "[c:1][NH2]>>[c:1]Cl",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "H04_sandmeyer_retro": {
    "brief": "Retro-Sandmeyer: aryl halide disconnected to aniline via diazonium. Forward: ArNH2 → ArN2+ → ArX (CuX).",
    "category": "aromatic",
    "co_reactant_examples": [
      "NaNO2/HCl/0C_then_CuCl",
      "NaNO2/HBF4_then_heat(Balz-Schiemann)"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2][#6]"
    ],
    "name": "Sandmeyer (Retro, aromatic)",
    "note": "Retrosynthetic Sandmeyer: ArCl traced to ArNH2 via diazonium salt. Forward: NaNO2/HCl at 0°C → ArN2+, then CuCl → ArCl, CuBr → ArBr, CuCN → ArCN. Balz-Schiemann: ArN2+BF4⁻ → ArF.",
    "prereq": "[c:1]Cl",
    "rxn": "[c:1]Cl>>[c:1][NH2]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "H05_directed_ortho_metalation": {
    "brief": "Directed ortho metalation: DMG (OMe, OCONR2, CONR2, NR2) directs sBuLi to ortho C-H, generating aryllithium. Quench with electrophile gives ortho-functionalized arene.",
    "category": "aromatic",
    "co_reactant_examples": [
      "sBuLi/TMEDA/THF/-78C_then_electrophile",
      "nBuLi/THF/-78C_then_CO2"
    ],
    "incompatible_groups": [
      "[OX2H]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Directed Ortho Metalation (Forward, aromatic)",
    "note": "DoM: DMG (OMe, NR2, OCONR2, CONR2) coordinates RLi, directing deprotonation ortho. sBuLi/TMEDA/THF/-78°C. Electrophile quench: CO2→COOH, DMF→CHO, I2→ArI, B(OMe)3→ArB(OH)2. Complementary to EAS regioselectivity. prereq restricts neighbor to recognized DMG patterns (alkoxy, carbamate, amide, tertiary amine).",
    "prereq": "[c:1]([H])[c:3]([OX2;!$([OX2H]):4]).[#6:2][Li]",
    "prereq_alt": [
      "[c:1]([H])[c:3]([OX2]C(=O)[NX3]):DMG=carbamate",
      "[c:1]([H])[c:3]([CX3](=O)[NX3]):DMG=amide",
      "[c:1]([H])[c:3]([NX3;H0;+0]):DMG=tertiary_amine"
    ],
    "rxn": "[c:1]([H])[c:3]([OX2;!$([OX2H]):4]).[#6:2][Li]>>[c:1]([#6:2])[c:3]([OX2;!$([OX2H]):4])",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "H05_directed_ortho_metalation_retro": {
    "brief": "Retro-DoM: ortho-substituted arene (with DMG neighbor) disconnected to arene + organolithium. Forward: DMG (OMe, OCONR2, CONR2, NR2) directs sBuLi/nBuLi to ortho position.",
    "category": "aromatic",
    "co_reactant_examples": [
      "sBuLi/TMEDA/THF/-78C_then_electrophile",
      "nBuLi/THF/-78C_then_DMF"
    ],
    "incompatible_groups": [
      "[OX2H]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Directed Ortho Metalation (Retro, aromatic)",
    "note": "Directed ortho metalation (DoM): DMG (OMe, NR2, OCONR2, CONR2, oxazoline) coordinates to RLi, directing deprotonation ortho. sBuLi or nBuLi in THF at -78°C. Electrophile quench (CO2, DMF, I2, B(OMe)3) gives ortho-functionalized product. Free NH/OH incompatible. prereq restricts neighbor to recognized DMG patterns.",
    "prereq": "[c:1](!@[#6:2])[c:3]([OX2;!$([OX2H]):4])",
    "prereq_alt": [
      "[c:1]([#6:2])[c:3]([OX2]C(=O)[NX3]):DMG=carbamate",
      "[c:1]([#6:2])[c:3]([CX3](=O)[NX3]):DMG=amide",
      "[c:1]([#6:2])[c:3]([NX3;H0;+0]):DMG=tertiary_amine"
    ],
    "rxn": "[c:1](!@[#6:2])[c:3]([OX2;!$([OX2H]):4])>>[c:1]([H])[c:3]([OX2;!$([OX2H]):4]).[#6:2][Li]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "H06_diazo_coupling": {
    "brief": "Diazo coupling: diazonium salt + electron-rich arene (phenol, aniline) → azo compound (Ar-N=N-Ar'). Electrophilic attack on para C-H of activated ring; OH is retained.",
    "category": "aromatic",
    "co_reactant_examples": [
      "ArN2+Cl⁻/NaOH(aq)/0C",
      "ArN2+Cl⁻/NaOAc(aq)/0C"
    ],
    "incompatible_groups": [
      "[SX2][#6]"
    ],
    "name": "Diazo Coupling (Forward, aromatic)",
    "note": "Diazo coupling: ArN2+ is weak electrophile, requires activated arene (phenol at pH 8-10, aniline at pH 5). Para-selective EAS on the activated ring — the electrophile attacks a C-H position para to OH/NH2, NOT the OH itself. OH is retained in product. Azo dyes are colored (extended conjugation). Diazonium prepared from ArNH2 + NaNO2/HCl at 0°C.",
    "prereq": "[c:1][N+:2]#[N].[cH:3][c:4]([OH:5])",
    "rxn": "[c:1][N+:2]#[N].[cH:3][c:4]([OH:5])>>[c:1][N:2]=[N][c:3][c:4]([OH:5])",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "H06_diazo_coupling_retro": {
    "brief": "Retro-diazo coupling: azo dye (Ar-N=N-Ar'(OH)) disconnected to diazonium salt + phenol. The OH on the activated ring is retained throughout.",
    "category": "aromatic",
    "co_reactant_examples": [
      "NaNO2/HCl/0C_then_ArOH/NaOH",
      "NaNO2/HCl/0C_then_ArNH2/NaOAc"
    ],
    "incompatible_groups": [
      "[SX2][#6]"
    ],
    "name": "Diazo Coupling (Retro, aromatic)",
    "note": "Retrosynthetic diazo coupling: azo bond on activated ring (bearing OH/NH2) disconnects to diazonium salt + phenol/aniline. The OH/NH2 is retained — it was the activating group for EAS, not the leaving group. Para-selective. Diazonium salts are unstable, prepared in situ at 0°C.",
    "prereq": "[c:1][N:2]=[N:3][c:4][c:5]([OH:6])",
    "rxn": "[c:1][N:2]=[N][c:4][c:5]([OH:6])>>[c:1][N+:2]#[N].[cH:4][c:5]([OH:6])",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "H07_ullmann": {
    "brief": "Ullmann diaryl ether: Cu-catalyzed coupling of phenol with aryl halide → diaryl ether. CuI/diamine ligand at elevated temperature.",
    "category": "aromatic",
    "co_reactant_examples": [
      "CuI/DMEDA/Cs2CO3/dioxane/110C",
      "CuI/phenanthroline/K3PO4/DMF"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Ullmann (Forward, aromatic)",
    "note": "Ullmann ether: CuI + diamine ligand catalyzes ArOH + ArBr → Ar-O-Ar. Cs2CO3 or K3PO4 as base. 80-130°C. Aryl iodides preferred. Complementary to Buchwald Pd-catalyzed etherification.",
    "prereq": "[c:1][OH:2].[c:3]Br",
    "rxn": "[c:1][OH:2].[c:3]Br>>[c:1][O:2][c:3]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "H07_ullmann_retro": {
    "brief": "Retro-Ullmann ether: diaryl ether disconnected to phenol + aryl bromide. Forward: Cu-catalyzed C-O coupling at elevated temperature.",
    "category": "aromatic",
    "co_reactant_examples": [
      "CuI/DMEDA/Cs2CO3/dioxane/110C",
      "CuI/1,10-phenanthroline/K3PO4/DMF"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Ullmann (Retro, aromatic)",
    "note": "Ullmann diaryl ether: CuI/diamine ligand catalyzes ArOH + ArBr → Ar-O-Ar. Base (Cs2CO3, K3PO4) required. 80-130°C. Aryl iodides more reactive. Modern ligands (DMEDA, phenanthroline) enable milder conditions. Free thiols may poison Cu.",
    "prereq": "[c:1][O:2]!@[c:3]",
    "rxn": "[c:1][O:2]!@[c:3]>>[c:1][OH:2].[c:3]Br",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "H08_sulfonation": {
    "brief": "Electrophilic aromatic sulfonation: SO3/H2SO4 (fuming sulfuric acid) introduces -SO3H group. Reversible under acidic conditions (thermodynamic control).",
    "category": "aromatic",
    "co_reactant_examples": [
      "SO3/H2SO4(fuming)",
      "ClSO3H/DCM"
    ],
    "incompatible_groups": [
      "[CX4]([OX2][#6])([OX2][#6])",
      "C(=O)OC(C)(C)C"
    ],
    "name": "Sulfonation (Forward, aromatic)",
    "note": "Sulfonation: SO3 (electrophile) attacks arene. Reversible — heating with dilute H2SO4 removes SO3H (ipso protonation). Useful as blocking group in EAS sequences. Ortho/para for activated rings. Acetals and Boc groups are acid-labile.",
    "prereq": "[cH:1]",
    "rxn": "[cH:1]>>[c:1]S(=O)(=O)O",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "H08_sulfonation_retro": {
    "brief": "Retro-sulfonation: aryl sulfonic acid disconnected to arene. Forward: SO3/H2SO4 electrophilic sulfonation (reversible).",
    "category": "aromatic",
    "co_reactant_examples": [
      "SO3/H2SO4(fuming)",
      "ClSO3H"
    ],
    "incompatible_groups": [
      "[CX4]([OX2][#6])([OX2][#6])",
      "C(=O)OC(C)(C)C"
    ],
    "name": "Sulfonation (Retro, aromatic)",
    "note": "Retrosynthetic sulfonation: ArSO3H traced to ArH. Forward uses SO3/H2SO4. Reversible — can be removed by heating with dilute acid (desulfonation).",
    "prereq": "[c:1]S(=O)(=O)O",
    "rxn": "[c:1]S(=O)(=O)O>>[cH:1]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "H09_vilsmeier_formylation": {
    "brief": "Vilsmeier-Haack formylation: DMF/POCl3 generates chloroiminium electrophile, attacks electron-rich arene → aryl aldehyde after hydrolysis.",
    "category": "aromatic",
    "co_reactant_examples": [
      "DMF/POCl3/DCE_then_NaOAc(aq)",
      "DMF/POCl3/0C_then_H2O"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]"
    ],
    "name": "Vilsmeier Formylation (Forward, aromatic)",
    "note": "Vilsmeier: POCl3 + DMF → chloroiminium ion (Cl-CH=NMe2+), electrophilic attack on activated arene (phenols, anilines, pyrroles, indoles). Aqueous workup hydrolyzes iminium to aldehyde. Only works on electron-rich arenes. Free amines may interfere.",
    "prereq": "[cH:1]",
    "rxn": "[cH:1]>>[c:1][CH]=O",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "H09_vilsmeier_formylation_retro": {
    "brief": "Retro-Vilsmeier: aryl aldehyde disconnected to arene. Forward: DMF/POCl3 formylation of electron-rich arene.",
    "category": "aromatic",
    "co_reactant_examples": [
      "DMF/POCl3/DCE",
      "DMF/POCl3/0C"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]"
    ],
    "name": "Vilsmeier Formylation (Retro, aromatic)",
    "note": "Retrosynthetic Vilsmeier: ArCHO traced to ArH. Forward uses DMF/POCl3. Only electron-rich arenes (phenols, anilines, heterocycles).",
    "prereq": "[c:1][CH]=O",
    "rxn": "[c:1][CH]=O>>[cH:1]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "H10_snar_amine_forward": {
    "brief": "Nucleophilic aromatic substitution (SNAr): amine displaces F/Cl on electron-poor arene (ortho/para to NO2, CN). Addition-elimination mechanism via Meisenheimer complex.",
    "category": "aromatic",
    "co_reactant_examples": [
      "R-NH2/DIPEA/DMF/80C",
      "R-NH2/K2CO3/DMSO/100C",
      "morpholine/Et3N/DMF"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2][#6]"
    ],
    "name": "SNAr Amine (Forward, aromatic)",
    "note": "SNAr: amine attacks ipso carbon of arene bearing EWG (NO2, CN, CF3) and leaving group (F > Cl > Br). Meisenheimer complex intermediate. F is best leaving group (C-F bond strength irrelevant — rate-determining step is addition). Requires strong EWG activation. [Retro: see H10_snar_amine_retro]",
    "prereq": "[c:1]([N+](=O)[O-])[c:2][F,Cl:3].[NH2:4][#6:5]",
    "rxn": "[c:1]([N+](=O)[O-])[c:2][F,Cl].[NH2:4][#6:5]>>[c:1]([N+](=O)[O-])[c:2][N:4][#6:5]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "H10_snar_amine_retro": {
    "brief": "Retro-SNAr: Ar-NHR disconnected to aryl fluoride/chloride + amine. Forward: SNAr on electron-poor arene.",
    "category": "aromatic",
    "co_reactant_examples": [
      "R-NH2/DIPEA/DMF/80C",
      "R-NH2/K2CO3/DMSO"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2][#6]"
    ],
    "name": "SNAr Amine (Retro, aromatic)",
    "note": "Retrosynthetic SNAr: Ar-NHR traced to Ar-F/Cl (with EWG) + amine. Forward uses amine/base/DMF at elevated temperature. F is best leaving group for SNAr.",
    "prereq": "[c:1]([N+](=O)[O-])[c:2]!@[N:4][#6:5]",
    "rxn": "[c:1]([N+](=O)[O-])[c:2]!@[N:4][#6:5]>>[c:1]([N+](=O)[O-])[c:2][F,Cl].[NH2:4][#6:5]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "H11_miyaura_borylation_forward": {
    "brief": "Miyaura borylation: Pd-catalyzed coupling of aryl halide with B2pin2 (bis(pinacolato)diboron) → aryl boronate ester. Key for Suzuki coupling precursors.",
    "category": "aromatic",
    "co_reactant_examples": [
      "B2pin2/Pd(dppf)Cl2/KOAc/dioxane",
      "B2pin2/PdCl2(PPh3)2/KOAc/DMSO",
      "HBpin/Pd(dppf)Cl2/Et3N/dioxane"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "Miyaura Borylation (Forward, aromatic)",
    "note": "Miyaura borylation: Pd(dppf)Cl2 or PdCl2(PPh3)2 catalyzes ArX + B2pin2 → ArBpin. ArI > ArBr >> ArCl in reactivity. Base (KOAc) required. Mild conditions. Alternative: ArX + HBpin/Pd catalyst. Product ArBpin used directly in Suzuki coupling. B(O)O in SMARTS is a simplified representation of boronate ester (Bpin) for template matching convenience. Free thiols poison Pd. [Retro: see H11_miyaura_borylation_retro]",
    "prereq": "[c:1][Br,I]",
    "rxn": "[c:1][Br,I]>>[c:1]B(O)O",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "H11_miyaura_borylation_retro": {
    "brief": "Retro-Miyaura: aryl boronate disconnected to aryl bromide. Forward: Pd-catalyzed borylation with B2pin2.",
    "category": "aromatic",
    "co_reactant_examples": [
      "B2pin2/Pd(dppf)Cl2/KOAc/dioxane",
      "HBpin/Pd(dppf)Cl2/Et3N"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "Miyaura Borylation (Retro, aromatic)",
    "note": "Retrosynthetic Miyaura: ArBpin traced to ArBr (or ArI). Forward uses B2pin2/Pd(dppf)Cl2/KOAc. ArI > ArBr in reactivity. ArBpin is Suzuki coupling precursor. B(O)O in SMARTS is a simplified representation of boronate ester (Bpin).",
    "prereq": "[c:1]B(O)O",
    "rxn": "[c:1]B(O)O>>[c:1]Br",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "H12_sandmeyer_cyanation_forward": {
    "brief": "Sandmeyer cyanation: aniline → diazonium salt (NaNO2/HCl, 0°C) → aryl nitrile (CuCN). Introduces CN group via diazonium intermediate.",
    "category": "aromatic",
    "co_reactant_examples": [
      "NaNO2/HCl/0C_then_CuCN",
      "NaNO2/HBF4/0C_then_CuCN/heat"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[OX2r3]"
    ],
    "name": "Sandmeyer Cyanation (Forward, aromatic)",
    "note": "Sandmeyer cyanation: ArNH2 + NaNO2/HCl at 0°C → ArN2+, then CuCN → ArCN. Cu(I) mediates radical or SET mechanism. Diazonium salts are thermally unstable — keep at 0°C. HCN is toxic byproduct. Incompatible with thioethers (poison Cu). Epoxides may open under acidic diazotization conditions. Additional free amines (beyond the reacting one) may undergo competing diazotization. Alternative: Pd-catalyzed cyanation (Zn(CN)2/Pd). [Retro: see H12_sandmeyer_cyanation_retro]",
    "prereq": "[c:1][NH2]",
    "rxn": "[c:1][NH2]>>[c:1]C#N",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "H12_sandmeyer_cyanation_retro": {
    "brief": "Retro-Sandmeyer cyanation: aryl nitrile disconnected to aniline via diazonium. Forward: ArNH2 → ArN2+ → ArCN (CuCN).",
    "category": "aromatic",
    "co_reactant_examples": [
      "NaNO2/HCl/0C_then_CuCN",
      "NaNO2/HBF4_then_CuCN"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[OX2r3]"
    ],
    "name": "Sandmeyer Cyanation (Retro, aromatic)",
    "note": "Retrosynthetic Sandmeyer cyanation: ArCN traced to ArNH2. Forward uses NaNO2/HCl then CuCN. Diazonium intermediate. Thioethers poison Cu catalyst. Additional free amines may undergo competing diazotization.",
    "prereq": "[c:1]C#N",
    "rxn": "[c:1]C#N>>[c:1][NH2]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "H13_snar_heteroaryl_amine_forward": {
    "brief": "SNAr on heteroaromatic: amine displaces halide on electron-poor heterocycle (pyrimidine, pyrazine). Two ring nitrogens activate C-X toward nucleophilic substitution.",
    "category": "aromatic",
    "co_reactant_examples": [
      "R-NH2/DIPEA/nBuOH/120C",
      "R-NH2/K2CO3/DMF/80C",
      "morpholine/Et3N/DMSO/100C"
    ],
    "incompatible_groups": [
      "[SX2][#6]"
    ],
    "name": "SNAr Heteroaryl Amine (Forward, aromatic)",
    "note": "Heteroaromatic SNAr: two ring nitrogens act as EWGs, activating adjacent C-halide toward nucleophilic displacement. Matches pyrimidine/pyrazine (2 ring N). For single-N heterocycles (pyridine), see H10 SNAr templates. F > Cl as leaving group. Base (DIPEA, K2CO3) and heat (60-120°C) typically required. Amine nucleophile in prereq is restricted to primary/secondary amines ([NX3;H1,H2;+0]). [Retro: see H13_snar_heteroaryl_amine_retro]",
    "prereq": "[n:1]1[c:2][c:3][c:4][c:5]([F,Cl,Br:6])[n:7]1.[NX3;H1,H2;+0:8]",
    "rxn": "[n:1]1[c:2][c:3][c:4][c:5]([F,Cl,Br])[n:7]1.[NX3;H1,H2;+0:8]>>[n:1]1[c:2][c:3][c:4][c:5]([N:8])[n:7]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "H13_snar_heteroaryl_amine_retro": {
    "brief": "Retro-SNAr heteroaryl: Ar-NHR disconnected to halo-heterocycle + amine. Forward: SNAr on di-N-heterocycle (pyrimidine/pyrazine).",
    "category": "aromatic",
    "co_reactant_examples": [
      "R-NH2/DIPEA/nBuOH/120C",
      "R-NH2/K2CO3/DMF/80C"
    ],
    "incompatible_groups": [
      "[SX2][#6]"
    ],
    "name": "SNAr Heteroaryl Amine (Retro, aromatic)",
    "note": "Retrosynthetic heteroaromatic SNAr: HetAr-NHR traced to HetAr-X + amine. Forward uses amine/base/heat. Two ring N atoms activate C-X. For single-N heterocycles (pyridine), see H10 SNAr templates.",
    "prereq": "[n:1]1[c:2][c:3][c:4][c:5](!@[NX3;H1;+0:8])[n:7]1",
    "rxn": "[n:1]1[c:2][c:3][c:4][c:5](!@[N:8])[n:7]1>>[n:1]1[c:2][c:3][c:4][c:5]([F,Cl,Br])[n:7]1.[N:8]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "H15_snar_heteroaryl_alkoxy_forward": {
    "brief": "SNAr with alkoxide: alcohol displaces halide on electron-poor heterocycle → heteroaryl ether. Base generates alkoxide nucleophile.",
    "category": "aromatic",
    "co_reactant_examples": [
      "ROH/NaH/DMF/60C",
      "ROH/K2CO3/DMSO/80C",
      "ROH/Cs2CO3/DMF/100C"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2][#6]"
    ],
    "name": "SNAr Heteroaryl Alkoxy (Forward, aromatic)",
    "note": "Heteroaromatic SNAr with O-nucleophile: NaH or K2CO3 generates alkoxide, which displaces halide on N-heterocycle. F > Cl leaving group. DMF or DMSO solvent. 60-100°C. Phenols (lower pKa) are deprotonated more easily and react faster than aliphatic alcohols. Complementary to Ullmann O-arylation (Cu-catalyzed). [Retro: see H15_snar_heteroaryl_alkoxy_retro]",
    "prereq": "[n:1]1[c:2][c:3][c:4][c:5]([F,Cl,Br:6])[n:7]1.[OH:8][#6:9]",
    "rxn": "[n:1]1[c:2][c:3][c:4][c:5]([F,Cl,Br])[n:7]1.[OH:8][#6:9]>>[n:1]1[c:2][c:3][c:4][c:5]([O:8][#6:9])[n:7]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "H15_snar_heteroaryl_alkoxy_retro": {
    "brief": "Retro-SNAr alkoxy: heteroaryl ether disconnected to halo-heterocycle + alcohol. Forward: alkoxide SNAr on N-heterocycle.",
    "category": "aromatic",
    "co_reactant_examples": [
      "ROH/NaH/DMF/60C",
      "ROH/K2CO3/DMSO/80C"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2][#6]"
    ],
    "name": "SNAr Heteroaryl Alkoxy (Retro, aromatic)",
    "note": "Retrosynthetic SNAr: HetAr-OR traced to HetAr-X + ROH. Forward uses ROH/NaH/DMF or ROH/K2CO3/DMSO.",
    "prereq": "[n:1]1[c:2][c:3][c:4][c:5](!@[O:8][#6:9])[n:7]1",
    "rxn": "[n:1]1[c:2][c:3][c:4][c:5](!@[O:8][#6:9])[n:7]1>>[n:1]1[c:2][c:3][c:4][c:5]([F,Cl,Br])[n:7]1.[OH:8][#6:9]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "H16_minisci_alkylation_forward": {
    "brief": "Minisci reaction: radical addition to protonated N-heterocycle. Carboxylic acid + Ag(I)/persulfate generates alkyl radical, adds to electron-poor heterocycle at C2/C4.",
    "category": "aromatic",
    "co_reactant_examples": [
      "RCOOH/AgNO3/K2S2O8/H2SO4/H2O",
      "RCOOH/AgNO3/(NH4)2S2O8/TFA/DCM"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "Minisci Alkylation (Forward, aromatic)",
    "note": "Minisci: RCOOH + AgNO3/K2S2O8 → R• (via oxidative decarboxylation). Radical adds to protonated pyridine/quinoline at C2/C4 (electron-poor positions). Acidic conditions (TFA, H2SO4). Regioselectivity: C2 > C4. Primary, secondary, and tertiary carboxylic acids all undergo decarboxylation. Complementary to Friedel-Crafts (which fails on electron-poor arenes). [Retro: see H16_minisci_alkylation_retro]",
    "prereq": "[c:1]1[c:2][c:3][c:4][c:5][n:6]1.[C:7][C:8](=[O:9])[OH:10]",
    "rxn": "[c:1]1[c:2][c:3][c:4][c:5][n:6]1.[C:7][C](=[O])[OH]>>[c:1]1[c:2]([C:7])[c:3][c:4][c:5][n:6]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "H16_minisci_alkylation_retro": {
    "brief": "Retro-Minisci: alkyl group on N-heterocycle (pyridine/quinoline) disconnected to carboxylic acid. Forward: radical decarboxylative addition.",
    "category": "aromatic",
    "co_reactant_examples": [
      "RCOOH/AgNO3/K2S2O8/H2SO4",
      "RCOOH/AgNO3/(NH4)2S2O8/TFA"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "Minisci Alkylation (Retro, aromatic)",
    "note": "Retrosynthetic Minisci: alkyl-HetAr traced to RCOOH + HetAr (pyridine, quinoline). Forward uses AgNO3/K2S2O8 for radical generation from carboxylic acid. C2 position preferred.",
    "prereq": "[c:1]1[c:2](!@[C:7])[c:3][c:4][c:5][n:6]1",
    "rxn": "[c:1]1[c:2](!@[C:7])[c:3][c:4][c:5][n:6]1>>[c:1]1[c:2][c:3][c:4][c:5][n:6]1.[C:7][C](=[O])[OH]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "H18_ullmann_O_arylation_forward": {
    "brief": "Ullmann O-arylation: Cu-catalyzed coupling of aryl halide with alcohol → aryl ether. CuI/diamine ligand, base, elevated temperature.",
    "category": "aromatic",
    "co_reactant_examples": [
      "CuI/DMEDA/Cs2CO3/dioxane/110C",
      "CuI/phenanthroline/K3PO4/DMF/100C"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]"
    ],
    "name": "Ullmann O Arylation (Forward, aromatic)",
    "note": "Ullmann O-arylation: CuI + diamine ligand (DMEDA, phenanthroline) catalyzes ArX + ROH → Ar-OR. Base (Cs2CO3, K3PO4) required. 80-130°C. ArI > ArBr in reactivity. Phenols are better nucleophiles than aliphatic alcohols. [Retro: see H18_ullmann_O_arylation_retro]",
    "prereq": "[c:1][Br,I].[OH:2][#6:3]",
    "rxn": "[c:1][Br,I].[OH:2][#6:3]>>[c:1][O:2][#6:3]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "H18_ullmann_O_arylation_retro": {
    "brief": "Retro-Ullmann O-arylation: aryl ether disconnected to aryl halide + alcohol. Forward: Cu-catalyzed C-O coupling.",
    "category": "aromatic",
    "co_reactant_examples": [
      "CuI/DMEDA/Cs2CO3/dioxane/110C",
      "CuI/phenanthroline/K3PO4/DMF"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]"
    ],
    "name": "Ullmann O Arylation (Retro, aromatic)",
    "note": "Retrosynthetic Ullmann O-arylation: Ar-OR traced to ArBr + ROH. Forward uses CuI/diamine/Cs2CO3 at elevated temperature. ArI > ArBr in reactivity. Prereq requires O bonded to non-aromatic carbon to avoid trivial matches on diaryl ethers (use dedicated diaryl ether template for those).",
    "prereq": "[c:1]!@[O:2][CX4:3]",
    "rxn": "[c:1]!@[O:2][CX4:3]>>[c:1]Br.[OH:2][CX4:3]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "H19_chan_lam_O_arylation_forward": {
    "brief": "Chan-Lam O-arylation: Cu(OAc)2-catalyzed coupling of aryl boronic acid with alcohol → aryl ether. Room temperature, air as oxidant.",
    "category": "aromatic",
    "co_reactant_examples": [
      "Cu(OAc)2/Et3N/4A_MS/DCM/air/rt",
      "Cu(OAc)2/pyridine/4A_MS/DCM/O2"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "Chan Lam O Arylation (Forward, aromatic)",
    "note": "Chan-Lam O-arylation: Cu(OAc)2 catalyzes ArB(OH)2 + ROH → Ar-OR under air. Room temperature, mild base (Et3N, pyridine). Molecular sieves improve yield. Phenols and aliphatic alcohols both work. Complementary to Ullmann (no high temperature needed). [Retro: see H19_chan_lam_O_arylation_retro]",
    "prereq": "[c:1]B(O)O.[OH:2][#6:3]",
    "rxn": "[c:1]B(O)O.[OH:2][#6:3]>>[c:1][O:2][#6:3]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "H19_chan_lam_O_arylation_retro": {
    "brief": "Retro-Chan-Lam O-arylation: aryl ether disconnected to aryl boronic acid + alcohol. Forward: Cu(OAc)2/air coupling at rt.",
    "category": "aromatic",
    "co_reactant_examples": [
      "Cu(OAc)2/Et3N/4A_MS/DCM/air/rt",
      "Cu(OAc)2/pyridine/DCM/O2"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "Chan Lam O Arylation (Retro, aromatic)",
    "note": "Retrosynthetic Chan-Lam: Ar-OR traced to ArB(OH)2 + ROH. Forward uses Cu(OAc)2/Et3N/air at room temperature. Prereq requires O bonded to non-aromatic carbon (sp3) to avoid trivial matches. Complementary to Ullmann retro (which traces to ArBr).",
    "prereq": "[c:1]!@[O:2][CX4:3]",
    "rxn": "[c:1]!@[O:2][CX4:3]>>[c:1]B(O)O.[OH:2][CX4:3]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "I01_williamson": {
    "brief": "Williamson ether synthesis: alkoxide (from NaH or KOtBu) attacks primary alkyl halide via SN2. Inversion at electrophilic carbon.",
    "category": "special",
    "co_reactant_examples": [
      "NaH/R-Br/DMF",
      "KOtBu/R-I/THF",
      "K2CO3/R-Br/acetone"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Williamson (Forward, special)",
    "note": "Williamson: NaH deprotonates alcohol to alkoxide, which attacks primary alkyl halide (SN2). Secondary halides give E2 elimination. Methyl and primary halides preferred. Intramolecular Williamson for cyclic ethers. prereq restricts electrophile to primary carbon (CH2Br) to avoid E2.",
    "prereq": "[#6:1][OH:2].[CH2:3]Br",
    "rxn": "[#6:1][OH:2].[CH2:3]Br>>[#6:1][O:2][CH2:3]",
    "stereo_policy": "inversion",
    "type": "forward"
  },
  "I01_williamson_retro": {
    "brief": "Retro-Williamson: ether disconnected to alkoxide + primary alkyl halide. Forward: SN2 of alkoxide on primary alkyl halide. Best with primary RX to avoid elimination.",
    "category": "special",
    "co_reactant_examples": [
      "NaH/DMF_then_RBr",
      "KOH/DMSO_then_RBr",
      "K2CO3/acetone_then_RBr"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Williamson Ether Synthesis (Retro, special)",
    "note": "Williamson: SN2 mechanism. Use primary alkyl halides (secondary give elimination). Alkoxide generated by NaH, KOH, or K2CO3. DMF or DMSO as polar aprotic solvent improves SN2 rate. Tertiary alkyl halides give only elimination.",
    "prereq": "[#6:1][O:2][CH2:3]",
    "rxn": "[#6:1][O:2][CH2:3]>>[#6:1][OH:2].[CH2:3]Br",
    "stereo_policy": "inversion",
    "type": "retro"
  },
  "I02_appel": {
    "brief": "Alcohol (primary or secondary) converted to alkyl bromide using CBr4/PPh3. SN2 mechanism gives inversion of configuration at carbon.",
    "category": "special",
    "co_reactant_examples": [
      "CBr4/PPh3",
      "CCl4/PPh3(for_chloride)",
      "I2/PPh3/imidazole(for_iodide)"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Appel Reaction (Forward, special)",
    "note": "Appel reaction: PPh3 + CX4 activates OH as leaving group (via oxyphosphonium intermediate). SN2 displacement gives inversion. Mild conditions, compatible with most functional groups. Epoxides may be opened. Primary and secondary alcohols work well; tertiary give elimination. prereq excludes tertiary alcohols (no H on carbinol carbon).",
    "prereq": "[CH1,CH2:1][OH:2]",
    "rxn": "[CH1,CH2:1][OH:2]>>[C:1]Br",
    "stereo_policy": "inversion",
    "type": "forward"
  },
  "I02_appel_retro": {
    "brief": "Retro-Appel: alkyl bromide disconnected to alcohol. Forward: CBr4/PPh3 converts ROH to RBr with inversion (SN2).",
    "category": "special",
    "co_reactant_examples": [
      "CBr4/PPh3/DCM",
      "CCl4/PPh3/DCM(for_RCl)"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Appel (Retro, special)",
    "note": "Retrosynthetic Appel: RBr traced to ROH. Forward uses CBr4/PPh3 (or CCl4/PPh3 for RCl). Oxyphosphonium intermediate, SN2 displacement gives inversion.",
    "prereq": "[CH1,CH2:1]Br",
    "rxn": "[CH1,CH2:1]Br>>[C:1][OH]",
    "stereo_policy": "inversion",
    "type": "retro"
  },
  "I03_finkelstein": {
    "brief": "Finkelstein halide exchange: alkyl bromide + NaI in acetone gives alkyl iodide. Driven by NaBr precipitation.",
    "category": "special",
    "co_reactant_examples": [
      "NaI/acetone/reflux",
      "NaI/acetone/56C"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl"
    ],
    "name": "Finkelstein (Forward, special)",
    "note": "Finkelstein: SN2 halide exchange. NaI soluble in acetone, NaBr/NaCl precipitate driving equilibrium. Primary and secondary halides. Inversion at carbon. Alcohols, amines, and thiols are generally compatible with NaI/acetone conditions.",
    "prereq": "[C:1][Br]",
    "rxn": "[C:1][Br]>>[C:1][I]",
    "stereo_policy": "inversion",
    "type": "forward"
  },
  "I03_finkelstein_retro": {
    "brief": "Retro-Finkelstein: alkyl iodide disconnected to alkyl bromide. Forward: NaI/acetone halide exchange (SN2).",
    "category": "special",
    "co_reactant_examples": [
      "NaI/acetone/reflux",
      "NaI/acetone"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl"
    ],
    "name": "Finkelstein (Retro, special)",
    "note": "Retrosynthetic Finkelstein: RI traced to RBr. Forward uses NaI/acetone. NaBr precipitates driving equilibrium. Alcohols, amines, and thiols are compatible.",
    "prereq": "[C:1][I]",
    "rxn": "[C:1][I]>>[C:1][Br]",
    "stereo_policy": "inversion",
    "type": "retro"
  },
  "I04_barton_mccombrie": {
    "brief": "Barton-McCombie deoxygenation: secondary or tertiary alcohol to xanthate (CS2/MeI) then radical reduction (Bu3SnH/AIBN). Removes OH without rearrangement.",
    "category": "special",
    "co_reactant_examples": [
      "NaH/CS2/MeI_then_Bu3SnH/AIBN/toluene",
      "NaH/CS2/MeI_then_(TMS)3SiH/AIBN"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Barton Mccombrie (Forward, special)",
    "note": "Barton-McCombie: ROH + NaH/CS2/MeI gives xanthate ester. Bu3SnH/AIBN radical chain cleaves C-O via radical fragmentation. No carbocation, no rearrangement. Alternative: (TMS)3SiH/AIBN (less toxic). Primarily used for secondary and tertiary alcohols where simpler methods fail. Epoxides may open under radical conditions.",
    "prereq": "[CH1:1]([#6])([#6])[OH]",
    "rxn": "[CH1:1]([#6])([#6])[OH]>>[CH2:1]([#6])([#6])",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "I04_barton_mccombrie_retro": {
    "brief": "Retro-Barton-McCombie: secondary C-H disconnected to secondary C-OH. Forward: deoxygenation via xanthate + Bu3SnH radical reduction.",
    "category": "special",
    "co_reactant_examples": [
      "NaH/CS2/MeI_then_Bu3SnH/AIBN",
      "(imidazolyl)thiocarbamate_then_Bu3SnH/AIBN"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Barton Mccombrie (Retro, special)",
    "note": "Retrosynthetic Barton-McCombie: secondary/tertiary C-H traced to C-OH. Forward uses xanthate formation then radical reduction. No rearrangement. prereq restricted to secondary CH2 flanked by two carbons to avoid matching every C-H in the molecule.",
    "prereq": "[CH2:1]([#6])([#6])",
    "rxn": "[CH2:1]([#6])([#6])>>[CH1:1]([#6])([#6])[OH]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "I05_wittig_forward": {
    "brief": "Wittig methylenation: aldehyde + Ph3P=CH2 gives terminal alkene (=CH2) + Ph3P=O. This template covers methylenation only; no E/Z issue for =CH2.",
    "category": "special",
    "co_reactant_examples": [
      "Ph3P=CH2/THF(methylenation)",
      "Ph3P+CH3_Br-/nBuLi/THF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl"
    ],
    "name": "Wittig Methylenation (Forward, special)",
    "note": "Wittig methylenation: Ph3P=CH2 attacks aldehyde forming betaine then oxaphosphetane then terminal alkene + Ph3P=O. This template is specific to methylenation (Ph3P=CH2); product is =CH2 with no E/Z stereochemistry. For general Wittig with substituted ylides (E/Z selectivity), see separate templates.",
    "prereq": "[CH1:1](=[O:2])",
    "rxn": "[CH1:1](=[O])>>[C:1]=[CH2]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "I05_wittig_retro": {
    "brief": "Retro-Wittig methylenation: terminal alkene (=CH2) disconnected to aldehyde + Ph3P=CH2.",
    "category": "special",
    "co_reactant_examples": [
      "Ph3P+CH3_Br-/nBuLi/THF",
      "Ph3P=CH2/THF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl"
    ],
    "name": "Wittig Methylenation (Retro, special)",
    "note": "Retrosynthetic Wittig methylenation: terminal =CH2 traced to aldehyde C=O + Ph3P=CH2. No E/Z issue for terminal =CH2. For internal alkenes with E/Z selectivity, see general Wittig or HWE templates.",
    "prereq": "[C:1]=[CH2]",
    "rxn": "[C:1]=[CH2]>>[CH1:1](=[O])",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "I06_tebbe_olefination": {
    "brief": "Tebbe olefination: Cp2TiCl2/AlMe3 (Tebbe reagent) converts ester C=O to C=CH2 without cleaving ester linkage. Methylenation of esters, lactones, amides.",
    "category": "special",
    "co_reactant_examples": [
      "Cp2TiCl2/AlMe3/THF/-40C_to_rt",
      "Cp2TiMe2/toluene/65C(Petasis)"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]",
      "[CX3](=[OX1])([#6])[#6]"
    ],
    "name": "Tebbe Olefination (Forward, special)",
    "note": "Tebbe reagent (Cp2Ti=CH2 from Cp2TiCl2 + AlMe3) is a Schrock carbene. Reacts with ester/lactone/amide C=O to give enol ether/enamide. Does not reduce or cleave ester. Advantage over Wittig: works on esters. Moisture-sensitive. Petasis reagent (Cp2TiMe2) is milder alternative. Ketones are also reactive toward Tebbe — if substrate contains both ester and ketone, both may be methylenated (competing reaction).",
    "prereq": "[C:1](=[O])[O:2][#6:3]",
    "rxn": "[C:1](=[O])[O:2][#6:3]>>[C:1](=[CH2])[O:2][#6:3]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "I06_tebbe_olefination_retro": {
    "brief": "Retro-Tebbe: enol ether (C=CH2 adjacent to O) disconnected to ester C=O. Forward: Tebbe or Petasis methylenation.",
    "category": "special",
    "co_reactant_examples": [
      "Cp2TiCl2/AlMe3/THF",
      "Cp2TiMe2/toluene/65C"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]",
      "[CX3](=[OX1])([#6])[#6]"
    ],
    "name": "Tebbe Olefination (Retro, special)",
    "note": "Retrosynthetic Tebbe: vinyl ether traced to ester/lactone. Forward uses Cp2TiCl2/AlMe3 or Cp2TiMe2. Selective for C=O methylenation without ester cleavage. Ketones are also reactive (competing).",
    "prereq": "[C:1](=[CH2])[O:2][#6:3]",
    "rxn": "[C:1](=[CH2])[O:2][#6:3]>>[C:1](=[O])[O:2][#6:3]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "I07_arndt_eistert": {
    "brief": "Arndt-Eistert homologation: RCOOH converted to RCH2COOH (one-carbon chain extension). SOCl2 gives acyl chloride, CH2N2 gives diazoketone, Ag2O/H2O triggers Wolff rearrangement.",
    "category": "special",
    "co_reactant_examples": [
      "SOCl2_then_CH2N2_then_Ag2O/H2O/dioxane",
      "SOCl2_then_CH2N2_then_PhCOOAg/Et3N/THF"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]",
      "[SX2H]"
    ],
    "name": "Arndt Eistert (Forward, special)",
    "note": "Arndt-Eistert: RCOOH + SOCl2 -> RCOCl + CH2N2 -> RCOCHN2 + Ag2O/H2O (or hv/PhCOOAg) -> ketene via Wolff rearrangement -> RCH2COOH. Retention at migrating carbon. Diazomethane is explosive/toxic. Ag(I) catalyzes Wolff rearrangement. One-carbon homologation of carboxylic acids. Note: atom map tracks net transformation (RCOOH→RCH2COOH); mechanistically the new COOH carbon originates from CH2N2, not the original carbonyl.",
    "prereq": "[#6:3][C:1](=[O:2])[OH:4]",
    "rxn": "[#6:3][C:1](=[O:2])[OH:4]>>[#6:3][CH2][C:1](=[O:2])[OH:4]",
    "stereo_policy": "retention",
    "type": "forward"
  },
  "I07_arndt_eistert_retro": {
    "brief": "Retro-Arndt-Eistert: homologated acid RCH2COOH disconnected to RCOOH. Forward: one-carbon homologation via diazoketone/Wolff rearrangement.",
    "category": "special",
    "co_reactant_examples": [
      "SOCl2_then_CH2N2_then_Ag2O/H2O",
      "SOCl2_then_TMSCHN2_then_Ag(I)"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]",
      "[SX2H]"
    ],
    "name": "Arndt Eistert (Retro, special)",
    "note": "Retrosynthetic Arndt-Eistert: RCH2COOH traced to RCOOH (one carbon shorter). Forward uses SOCl2/CH2N2/Ag2O. Retention at migrating carbon. prereq requires alpha-CH2 flanked by a non-H group and COOH to reduce false positives (simple acetic acid derivatives excluded).",
    "prereq": "[#6:3][CH2][C:1](=[O:2])[OH:4]",
    "rxn": "[#6:3][CH2][C:1](=[O:2])[OH:4]>>[#6:3][C:1](=[O:2])[OH:4]",
    "stereo_policy": "retention",
    "type": "retro"
  },
  "I08_kolbe_schmitt": {
    "brief": "Kolbe-Schmitt carboxylation: sodium phenoxide + CO2 under pressure/heat gives ortho-hydroxybenzoic acid (salicylic acid). Regioselective ortho-carboxylation.",
    "category": "special",
    "co_reactant_examples": [
      "CO2/NaOH/125C/pressure",
      "CO2/Na/125C/4-7atm"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[CX3](=[OX1])[OX2][#6]"
    ],
    "name": "Kolbe Schmitt (Forward, special)",
    "note": "Kolbe-Schmitt: phenol + NaOH -> sodium phenoxide, then CO2 at 125C/high pressure. Na+ directs ortho (smaller cation). K+ gives para product. Industrial route to salicylic acid (aspirin precursor). Requires anhydrous conditions. Esters may saponify under strongly basic NaOH conditions.",
    "prereq": "[c:1]([OH:2])[cH:3]",
    "rxn": "[c:1]([OH:2])[cH:3]>>[c:1]([OH:2])[c:3]C(=O)[OH]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "I08_kolbe_schmitt_retro": {
    "brief": "Retro-Kolbe-Schmitt: salicylic acid disconnected to phenol + CO2. Forward: sodium phenoxide + CO2 at high temperature/pressure.",
    "category": "special",
    "co_reactant_examples": [
      "CO2/NaOH/125C/pressure",
      "CO2/Na/high_T_P"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[CX3](=[OX1])[OX2][#6]"
    ],
    "name": "Kolbe Schmitt (Retro, special)",
    "note": "Retrosynthetic Kolbe-Schmitt: ortho-hydroxy benzoic acid traced to phenol + CO2. Forward uses NaOH/CO2/125C/pressure. Esters may saponify under basic conditions.",
    "prereq": "[c:1]([OH:2])[c:3]C(=O)[OH]",
    "rxn": "[c:1]([OH:2])[c:3]C(=O)[OH]>>[c:1]([OH:2])[cH:3]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "I09_reimer_tiemann": {
    "brief": "Reimer-Tiemann formylation: phenol + CHCl3/NaOH generates dichlorocarbene (:CCl2) which attacks ortho position, hydrolysis gives salicylaldehyde.",
    "category": "special",
    "co_reactant_examples": [
      "CHCl3/NaOH(aq)/60C",
      "CHCl3/KOH/reflux"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])[OX2][#6]",
      "[CX3](=[OX1])[NX3]"
    ],
    "name": "Reimer Tiemann (Forward, special)",
    "note": "Reimer-Tiemann: NaOH/CHCl3 generates :CCl2 (dichlorocarbene). Electrophilic attack on phenoxide at ortho position. Hydrolysis of dichloromethyl intermediate gives aldehyde. Low yields (10-30%). Esters and amides may hydrolyze under strongly basic conditions.",
    "prereq": "[c:1]([OH:2])[cH:3]",
    "rxn": "[c:1]([OH:2])[cH:3]>>[c:1]([OH:2])[c:3][CH]=[O]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "I09_reimer_tiemann_retro": {
    "brief": "Retro-Reimer-Tiemann: salicylaldehyde disconnected to phenol. Forward: CHCl3/NaOH ortho-formylation via dichlorocarbene.",
    "category": "special",
    "co_reactant_examples": [
      "CHCl3/NaOH(aq)/60C",
      "CHCl3/KOH/reflux"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])[OX2][#6]",
      "[CX3](=[OX1])[NX3]"
    ],
    "name": "Reimer Tiemann (Retro, special)",
    "note": "Retrosynthetic Reimer-Tiemann: ortho-hydroxybenzaldehyde traced to phenol. Forward uses CHCl3/NaOH. Low yields typical.",
    "prereq": "[c:1]([OH:2])[c:3][CH]=[O]",
    "rxn": "[c:1]([OH:2])[c:3][CH]=[O]>>[c:1]([OH:2])[cH:3]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "I10_duff_reaction": {
    "brief": "Duff reaction: phenol + hexamethylenetetramine (HMTA)/TFA gives ortho-hydroxybenzaldehyde. Electrophilic formylation of activated arenes.",
    "category": "special",
    "co_reactant_examples": [
      "HMTA/TFA/reflux",
      "HMTA/AcOH/reflux"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[CX4]([OX2][#6])([OX2][#6])",
      "C(=O)OC(C)(C)C"
    ],
    "name": "Duff Reaction (Forward, special)",
    "note": "Duff: HMTA (urotropine) in TFA generates iminium electrophile that attacks electron-rich arene (phenol, aniline) at ortho position. Hydrolysis gives aldehyde. Complementary to Reimer-Tiemann. Works on electron-rich arenes only. Free amines may compete. Acidic conditions (TFA): acetals hydrolyzed, Boc groups cleaved.",
    "prereq": "[c:1]([OH:2])[cH:3]",
    "rxn": "[c:1]([OH:2])[cH:3]>>[c:1]([OH:2])[c:3][CH]=[O]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "I11_dakin_reaction": {
    "brief": "Dakin oxidation: electron-rich aryl aldehyde (ortho/para OH or NH2) + H2O2/NaOH gives phenol. Baeyer-Villiger-type oxidation of aldehyde to formate, then hydrolysis.",
    "category": "special",
    "co_reactant_examples": [
      "H2O2/NaOH(aq)/rt",
      "H2O2/Na2CO3/H2O"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[SX2][#6]"
    ],
    "name": "Dakin Reaction (Forward, special)",
    "note": "Dakin: ArCHO (with ortho/para OH or NH2) + H2O2/NaOH -> aryl formate -> hydrolysis -> ArOH + HCO2H. Baeyer-Villiger mechanism: aryl group migrates preferentially. Only works on electron-rich aryl aldehydes. Electron-poor aryl aldehydes do not undergo Dakin. This template covers ortho-OH variant; para-OH variant uses a separate prereq pattern.",
    "prereq": "[c:1]([OH:2])[c:3][CH](=[O])",
    "rxn": "[c:1]([OH:2])[c:3][CH](=[O])>>[c:1]([OH:2])[c:3][OH]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "I11_dakin_reaction_retro": {
    "brief": "Retro-Dakin: catechol/aminophenol disconnected to hydroxybenzaldehyde. Forward: H2O2/NaOH Baeyer-Villiger oxidation of ArCHO.",
    "category": "special",
    "co_reactant_examples": [
      "H2O2/NaOH(aq)",
      "H2O2/Na2CO3"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[SX2][#6]"
    ],
    "name": "Dakin Reaction (Retro, special)",
    "note": "Retrosynthetic Dakin: ArOH traced to ArCHO (electron-rich). Forward uses H2O2/NaOH. Only electron-rich aryl aldehydes react.",
    "prereq": "[c:1]([OH:2])[c:3][OH]",
    "rxn": "[c:1]([OH:2])[c:3][OH]>>[c:1]([OH:2])[c:3][CH](=[O])",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "I11b_dakin_reaction_para_forward": {
    "brief": "Dakin oxidation (para variant): para-hydroxybenzaldehyde + H2O2/NaOH gives hydroquinone. Baeyer-Villiger-type oxidation then hydrolysis.",
    "category": "special",
    "co_reactant_examples": [
      "H2O2/NaOH(aq)/rt",
      "H2O2/Na2CO3/H2O"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[SX2][#6]"
    ],
    "name": "Dakin Reaction Para (Forward, special)",
    "note": "Dakin para variant: 4-hydroxybenzaldehyde + H2O2/NaOH -> hydroquinone + HCO2H. Same Baeyer-Villiger mechanism as ortho variant (I11). Only works on electron-rich aryl aldehydes.",
    "prereq": "[c:1]([OH:2])[c:3][c:4][c:5][CH](=[O])",
    "rxn": "[c:1]([OH:2])[c:3][c:4][c:5][CH](=[O])>>[c:1]([OH:2])[c:3][c:4][c:5][OH]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "I11b_dakin_reaction_para_retro": {
    "brief": "Retro-Dakin (para): hydroquinone disconnected to para-hydroxybenzaldehyde. Forward: H2O2/NaOH.",
    "category": "special",
    "co_reactant_examples": [
      "H2O2/NaOH(aq)",
      "H2O2/Na2CO3"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[SX2][#6]"
    ],
    "name": "Dakin Reaction Para (Retro, special)",
    "note": "Retrosynthetic Dakin para: 1,4-dihydroxybenzene traced to 4-hydroxybenzaldehyde. Forward uses H2O2/NaOH.",
    "prereq": "[c:1]([OH:2])[c:3][c:4][c:5][OH]",
    "rxn": "[c:1]([OH:2])[c:3][c:4][c:5][OH]>>[c:1]([OH:2])[c:3][c:4][c:5][CH](=[O])",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "I12_cannizzaro": {
    "brief": "Cannizzaro disproportionation: 2 equivalents of non-enolizable aldehyde (ArCHO) + NaOH give one alcohol + one carboxylate. Hydride transfer between two aldehyde molecules.",
    "category": "special",
    "co_reactant_examples": [
      "NaOH(conc)/H2O/rt",
      "KOH/H2O-EtOH"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl"
    ],
    "name": "Cannizzaro (Forward, special)",
    "note": "Cannizzaro: non-enolizable aldehydes (ArCHO, HCHO, R3CCHO) undergo base-induced disproportionation. One aldehyde is oxidized to carboxylate, the other reduced to alcohol. Crossed Cannizzaro with HCHO: HCHO is preferentially oxidized (to formate), other aldehyde reduced. Not useful for enolizable aldehydes (aldol dominates). Prereq restricted to aryl aldehydes (most common non-enolizable substrate).",
    "prereq": "[c:1][CH1:2](=[O:3]).[c:4][CH1:5](=[O:6])",
    "rxn": "[c:1][CH1:2](=[O]).[c:4][CH1:5](=[O:6])>>[c:1][CH2:2][OH].[c:4][C:5](=[O:6])[OH]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "I12_cannizzaro_retro": {
    "brief": "Retro-Cannizzaro: benzylic alcohol + aryl carboxylic acid disconnected to two equivalents of aryl aldehyde. Forward: NaOH-mediated disproportionation.",
    "category": "special",
    "co_reactant_examples": [
      "NaOH(conc)/H2O",
      "KOH/H2O"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl"
    ],
    "name": "Cannizzaro (Retro, special)",
    "note": "Retrosynthetic Cannizzaro: ArCH2OH + ArCOOH traced to 2 ArCHO. Forward uses concentrated NaOH. Only non-enolizable aldehydes (aryl aldehydes). Prereq restricted to benzylic alcohol + aryl acid pair.",
    "prereq": "[c:1][CH2:2][OH].[c:4][C:5](=[O:6])[OH]",
    "rxn": "[c:1][CH2:2][OH].[c:4][C:5](=[O:6])[OH]>>[c:1][CH1:2](=[O]).[c:4][CH1:5](=[O:6])",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "I13_tishchenko": {
    "brief": "Tishchenko reaction: 2 equivalents of aldehyde dimerize to ester via hydride transfer. Catalyzed by Al(OiPr)3 or SmI2. No oxidant/reductant needed.",
    "category": "special",
    "co_reactant_examples": [
      "Al(OiPr)3/toluene/rt",
      "SmI2/THF",
      "RuH2(PPh3)4/toluene"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2H]"
    ],
    "name": "Tishchenko (Forward, special)",
    "note": "Tishchenko: 2 RCHO -> RCH2-O-COR (ester). Al(OiPr)3 (classic) or SmI2, RuH2(PPh3)4, NHC catalysts. One aldehyde acts as hydride donor (reduced to alkoxide), the other as acceptor (oxidized to acyl). Atom-economical. Works best with non-enolizable aldehydes. Differs from Cannizzaro (which uses strong base and gives alcohol + carboxylate, not ester). Prereq restricted to aryl aldehydes (most common non-enolizable substrate).",
    "prereq": "[c:1][CH1:2](=[O:3]).[c:4][CH1:5](=[O:6])",
    "rxn": "[c:1][CH1:2](=[O]).[c:4][CH1:5](=[O:6])>>[c:1][CH2:2][O][C:5](=[O:6])[c:4]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "I13_tishchenko_retro": {
    "brief": "Retro-Tishchenko: ester disconnected to two equivalents of aryl aldehyde. Forward: Al(OiPr)3-catalyzed aldehyde dimerization.",
    "category": "special",
    "co_reactant_examples": [
      "Al(OiPr)3/toluene",
      "SmI2/THF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2H]"
    ],
    "name": "Tishchenko (Retro, special)",
    "note": "Retrosynthetic Tishchenko: ArCH2-O-COAr traced to 2 ArCHO. Forward uses Al(OiPr)3 or SmI2 catalyst. Prereq requires benzylic ester pattern (ArCH2-O-CO-Ar) to restrict to aryl aldehyde dimerization products.",
    "prereq": "[c:1][CH2:2][O][C:5](=[O:6])[c:4]",
    "rxn": "[c:1][CH2:2][O][C:5](=[O:6])[c:4]>>[c:1][CH1:2](=[O]).[c:4][CH1:5](=[O:6])",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "I15_nbs_allylic_bromination": {
    "brief": "NBS allylic bromination: NBS/AIBN (or hv) in CCl4 brominates allylic C-H via radical chain. Low Br2 concentration prevents alkene addition.",
    "category": "special",
    "co_reactant_examples": [
      "NBS/AIBN/CCl4/reflux",
      "NBS/benzoyl_peroxide/CCl4",
      "NBS/hv/CCl4"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2H]"
    ],
    "name": "NBS Allylic Bromination (Forward, special)",
    "note": "NBS allylic bromination (Wohl-Ziegler type): NBS maintains low [Br2] via NBS + HBr -> succinimide + Br2. Radical chain: Br. abstracts allylic H, then Br2 gives allylic bromide + Br.. Allylic radical is resonance-stabilized. Racemic at new C-Br. CCl4 or DCM as solvent.",
    "prereq": "[C:1]=[C:2][CH:3]",
    "rxn": "[C:1]=[C:2][CH:3]>>[C:1]=[C:2][C:3]Br",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "I15_nbs_allylic_bromination_retro": {
    "brief": "Retro-NBS allylic bromination: allylic bromide disconnected to alkene. Forward: NBS/AIBN radical allylic bromination.",
    "category": "special",
    "co_reactant_examples": [
      "NBS/AIBN/CCl4",
      "NBS/hv/CCl4"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2H]"
    ],
    "name": "NBS Allylic Bromination (Retro, special)",
    "note": "Retrosynthetic: allylic C-Br traced to allylic C-H. Forward uses NBS/AIBN/CCl4. Radical mechanism, racemic.",
    "prereq": "[C:1]=[C:2][C:3]Br",
    "rxn": "[C:1]=[C:2][C:3]Br>>[C:1]=[C:2][CH:3]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "I16_nbs_benzylic_bromination": {
    "brief": "NBS benzylic bromination: NBS/AIBN (or hv) brominates benzylic sp3 C-H via radical chain. Benzylic radical stabilized by aromatic ring.",
    "category": "special",
    "co_reactant_examples": [
      "NBS/AIBN/CCl4/reflux",
      "NBS/hv/CCl4",
      "NBS/benzoyl_peroxide/CCl4"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2H]"
    ],
    "name": "NBS Benzylic Bromination (Forward, special)",
    "note": "NBS benzylic bromination: radical mechanism analogous to allylic bromination. Benzylic radical is resonance-stabilized. NBS maintains low [Br2]. AIBN or hv as radical initiator. CCl4 or DCM solvent. Racemic at benzylic carbon. Prereq restricted to sp3 benzylic CH (CX4) to avoid matching sp2 carbons (aldehydes, etc.).",
    "prereq": "[c:1]!@[CX4;H1,H2:2]",
    "rxn": "[c:1][CX4;H1,H2:2]>>[c:1][C:2]Br",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "I16_nbs_benzylic_bromination_retro": {
    "brief": "Retro-NBS benzylic bromination: benzylic bromide disconnected to arene. Forward: NBS/AIBN radical benzylic bromination.",
    "category": "special",
    "co_reactant_examples": [
      "NBS/AIBN/CCl4",
      "NBS/hv/CCl4"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2H]"
    ],
    "name": "NBS Benzylic Bromination (Retro, special)",
    "note": "Retrosynthetic: benzylic C-Br traced to benzylic C-H. Forward uses NBS/AIBN/CCl4. Radical mechanism, racemic. Prereq restricted to sp3 benzylic bromide.",
    "prereq": "[c:1][CX4;H0,H1:2]Br",
    "rxn": "[c:1][CX4:2]Br>>[c:1][CH:2]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "I18_corey_winter": {
    "brief": "Corey-Winter olefin synthesis: 1,2-diol converted to thionocarbonate (with thiocarbonyldiimidazole), then treated with P(OMe)3 giving alkene via syn-elimination. Retention of relative stereochemistry.",
    "category": "special",
    "co_reactant_examples": [
      "thiocarbonyldiimidazole/THF_then_P(OMe)3/heat",
      "thiophosgene/py_then_P(OMe)3"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[SX2H]"
    ],
    "name": "Corey Winter (Forward, special)",
    "note": "Corey-Winter: 1,2-diol + thiocarbonyldiimidazole -> cyclic thionocarbonate. P(OMe)3 (or heat) induces syn-elimination -> alkene + COS. Syn-elimination means cis-diol gives cis-alkene, trans-diol gives trans-alkene. Stereospecific. Useful for stereocontrolled alkene synthesis. Free thiols may interfere with thionocarbonate formation.",
    "prereq": "[C:1]([OH])[C:2]([OH])",
    "rxn": "[C:1]([OH])[C:2]([OH])>>[C:1]=[C:2]",
    "stereo_policy": "retention",
    "type": "forward"
  },
  "I18_corey_winter_retro": {
    "brief": "Retro-Corey-Winter: alkene disconnected to 1,2-diol. Forward: thionocarbonate formation then syn-elimination.",
    "category": "special",
    "co_reactant_examples": [
      "thiocarbonyldiimidazole_then_P(OMe)3",
      "thiophosgene/py_then_P(OMe)3"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[SX2H]"
    ],
    "name": "Corey Winter (Retro, special)",
    "note": "Retrosynthetic Corey-Winter: disubstituted alkene traced to 1,2-diol. Forward uses thiocarbonyldiimidazole then P(OMe)3. Syn-elimination preserves relative stereochemistry. Prereq requires disubstituted non-aromatic alkene (both carbons bear at least one non-H substituent) to avoid trivial matches on terminal alkenes.",
    "prereq": "[#6;!a][C;!a:1]=[C;!a:2][#6;!a]",
    "rxn": "[#6][C;!a:1]=[C;!a:2][#6]>>[C:1]([OH])[C:2]([OH])",
    "stereo_policy": "retention",
    "type": "retro"
  },
  "I19_chugaev_elimination": {
    "brief": "Chugaev (xanthate) elimination: alcohol converted to xanthate ester (NaH/CS2/MeI), pyrolysis (150-250C) gives alkene via Ei (syn) mechanism. Hofmann-type product often favored.",
    "category": "special",
    "co_reactant_examples": [
      "NaH/CS2/MeI_then_pyrolysis/200C",
      "NaH/CS2/MeI_then_sealed_tube/250C"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[CX3](=[OX1])[OX2][#6]",
      "[OX2r3]",
      "C(=O)OC(C)(C)C"
    ],
    "name": "Chugaev Elimination (Forward, special)",
    "note": "Chugaev: ROH + NaH/CS2/MeI -> xanthate. Pyrolysis (150-250C) gives alkene + COS + MeSH via concerted syn-elimination (Ei, intramolecular). Six-membered cyclic TS. Syn-periplanar H and xanthate are eliminated. Less substituted (Hofmann) alkene may be favored due to steric effects in TS. High temperature: esters may undergo transesterification, epoxides may open, Boc groups cleaved. Suitable for substrates that cannot tolerate strong acid/base elimination conditions.",
    "prereq": "[C:1]([H])[C:2][OH]",
    "rxn": "[C:1]([H])[C:2][OH]>>[C:1]=[C:2]",
    "stereo_policy": "retention",
    "type": "forward"
  },
  "I19_chugaev_elimination_retro": {
    "brief": "Retro-Chugaev: alkene disconnected to alcohol. Forward: xanthate formation then pyrolytic syn-elimination (Ei mechanism).",
    "category": "special",
    "co_reactant_examples": [
      "NaH/CS2/MeI_then_pyrolysis",
      "NaH/CS2/MeI_then_heat/200C"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[CX3](=[OX1])[OX2][#6]",
      "[OX2r3]",
      "C(=O)OC(C)(C)C"
    ],
    "name": "Chugaev Elimination (Retro, special)",
    "note": "Retrosynthetic Chugaev: disubstituted alkene traced to alcohol. Forward uses NaH/CS2/MeI then pyrolysis (150-250C). Syn-elimination (Ei). Prereq requires disubstituted non-aromatic alkene to avoid trivial matches. High temperature conditions: esters, epoxides, Boc groups incompatible.",
    "prereq": "[#6;!a][C;!a:1]=[C;!a:2][#6;!a]",
    "rxn": "[#6][C;!a:1]=[C;!a:2][#6]>>[C:1]([H])[C:2][OH]",
    "stereo_policy": "retention",
    "type": "retro"
  },
  "I20_ley_oxidation": {
    "brief": "Ley oxidation: TPAP (Pr4N+RuO4-) catalytic with NMO as stoichiometric co-oxidant. Selectively oxidizes primary alcohol to aldehyde without over-oxidation to acid. 4A molecular sieves required.",
    "category": "special",
    "co_reactant_examples": [
      "TPAP(cat)/NMO/4A_MS/DCM/rt",
      "TPAP(5mol%)/NMO(1.5eq)/4A_MS/CH2Cl2"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Ley Oxidation (Forward, special)",
    "note": "TPAP/NMO (Ley) oxidation variant. Same transformation as A09_swern but different reagent system. Ley-Griffith oxidation: TPAP (cat., 5 mol%) + NMO (1.5 equiv) + 4A MS in DCM at rt. Primary ROH -> RCHO (no over-oxidation). Secondary ROH -> ketone. Mild, neutral conditions. 4A MS essential to remove water. Incompatible with free amines and thioethers (poison Ru catalyst).",
    "prereq": "[C:1]([H])[OH:2]",
    "rxn": "[C:1]([H])[OH:2]>>[C:1]=[O:2]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "I21_grignard_addition_forward": {
    "brief": "Grignard addition: RMgBr adds to aldehyde/ketone C=O giving secondary/tertiary alcohol after aqueous workup. Racemic at new stereocenter.",
    "category": "special",
    "co_reactant_examples": [
      "EtMgBr/THF/0C_then_NH4Cl(aq)",
      "PhMgBr/THF/-78C_then_H3O+",
      "MeMgBr/Et2O/0C"
    ],
    "incompatible_groups": [
      "[OX2H]",
      "[NX3;H2,H1;+0]",
      "[SX2H]",
      "[CX3](=[OX1])[OX2H]"
    ],
    "name": "Grignard Addition (Forward, special)",
    "note": "Grignard: RMgBr (from RBr + Mg/THF) adds to C=O. RCHO -> secondary alcohol, R2CO -> tertiary alcohol, HCHO -> primary alcohol. Incompatible with protic groups (OH, NH, SH, COOH) which destroy RMgBr. Esters give tertiary alcohol (2 equiv RMgBr). Chelation control possible for alpha-alkoxy substrates. [Retro: see C04_grignard_retro]",
    "prereq": "[C:1](=[O:2]).[#6:3][Mg]Br",
    "rxn": "[C:1](=[O:2]).[#6:3][Mg]Br>>[C:1]([OH:2])[#6:3]",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "I21_grignard_addition_retro": {
    "brief": "Retro-Grignard: secondary/tertiary alcohol disconnected to carbonyl + RMgBr. Forward: Grignard addition to C=O.",
    "category": "special",
    "co_reactant_examples": [
      "EtMgBr/THF_then_H3O+",
      "PhMgBr/THF_then_NH4Cl(aq)"
    ],
    "incompatible_groups": [
      "[OX2H]",
      "[NX3;H2,H1;+0]",
      "[SX2H]",
      "[CX3](=[OX1])[OX2H]"
    ],
    "name": "Grignard Addition (Retro, special)",
    "note": "Retrosynthetic Grignard: R1R2(R3)COH traced to R1R2C=O + R3MgBr. Multiple disconnection options for tertiary alcohols. Racemic. Prereq requires at least two carbon substituents on the carbinol (secondary or tertiary alcohol) to avoid trivial matches on primary alcohols. For primary alcohol Grignard disconnection, see aldehyde reduction retro templates. May overlap with C04_grignard_retro.",
    "prereq": "[CX4:1]([OH:2])([#6:3])[#6]",
    "rxn": "[CX4:1]([OH:2])([#6:3])[#6]>>[C:1](=[O:2]).[#6:3][Mg]Br",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "I22_hwe_forward_general": {
    "brief": "Horner-Wadsworth-Emmons (HWE): phosphonate ester + aldehyde gives E-alkene predominantly. Base (NaH, LDA, KHMDS) generates phosphonate carbanion. Water-soluble phosphate byproduct.",
    "category": "special",
    "co_reactant_examples": [
      "(EtO)2P(O)CH2CO2Et/NaH/THF",
      "(EtO)2P(O)CH2CO2Et/LDA/THF/-78C",
      "Still-Gennari:(CF3CH2O)2P(O)CH2CO2R/KHMDS/18-crown-6"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])[OX2H]",
      "[OX2H]"
    ],
    "name": "HWE General (Forward, special)",
    "note": "HWE: (RO)2P(O)CH2CO2R + base -> carbanion, attacks RCHO -> E-alkene + (RO)2PO2- (water-soluble). E-selective (thermodynamic control). Still-Gennari modification (CF3CH2O phosphonate/KHMDS/18-crown-6) gives Z-selectivity. Advantage over Wittig: easy purification, E-selective. [Retro: see C18_horner_wadsworth_emmons_retro]",
    "prereq": "[CH1:1](=[O:2]).[CH2:3][P](=O)(OC)OC",
    "rxn": "[CH1:1](=[O]).[CH2:3][P](=O)(OC)OC>>[C:1]=[CH:3]",
    "stereo_policy": "diastereoselective",
    "type": "forward",
    "stereo_detail": "E (trans) alkene favored"
  },
  "I22_hwe_forward_general_retro": {
    "brief": "Retro-HWE: α,β-unsaturated ester disconnected to aldehyde + phosphonate ester. Forward: base-mediated HWE olefination.",
    "category": "special",
    "co_reactant_examples": [
      "(EtO)2P(O)CH2CO2Et/NaH/THF",
      "(EtO)2P(O)CH2CO2Et/LDA/THF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])[OX2H]",
      "[OX2H]"
    ],
    "name": "HWE General (Retro, special)",
    "note": "Retrosynthetic HWE: alpha,beta-unsaturated ester traced to RCHO + phosphonate. Forward uses NaH or LDA. E-selective. Prereq restricted to alpha,beta-unsaturated ester/carbonyl pattern to avoid matching all alkenes. May overlap with C18_horner_wadsworth_emmons_retro.",
    "prereq": "[C:1]=[CH:3][CX3](=[OX1])",
    "rxn": "[C:1]=[CH:3][CX3](=[OX1])>>[CH1:1](=[O]).[CH2:3][P](=O)(OC)OC",
    "stereo_policy": "diastereoselective",
    "type": "retro",
    "stereo_detail": "E (trans) alkene favored"
  },
  "I23_mitsunobu_forward": {
    "brief": "Mitsunobu reaction: DIAD/PPh3 activates alcohol for SN2 displacement by acidic N-nucleophile (phthalimide, sulfonamide, azide). Inversion at carbon.",
    "category": "special",
    "co_reactant_examples": [
      "DIAD/PPh3/phthalimide/THF",
      "DEAD/PPh3/HN3/toluene",
      "DIAD/PPh3/4-NO2-PhOH/THF"
    ],
    "incompatible_groups": [
      "[OX2r3]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Mitsunobu (Forward, special)",
    "note": "Mitsunobu: PPh3 + DIAD (or DEAD) form betaine, activate ROH as oxyphosphonium leaving group. Nucleophile (pKa < 13: phthalimide, HN3, ArOH, RCOOH, sulfonamide) attacks via SN2 -> inversion. Secondary alcohols work well. Tertiary alcohols do not react (SN2 impossible). Stoichiometric PPh3=O and diazadicarboxylate hydrazide byproducts. Carboxylic acids are valid nucleophiles (not incompatible). Epoxides may open under acidic conditions. [Retro: see G03_mitsunobu_retro]",
    "prereq": "[CX4:1][OH:2].[NX3;H1;+0:3]",
    "rxn": "[CX4:1][OH].[NX3;H1;+0:3]>>[CX4:1][N:3]",
    "stereo_policy": "inversion",
    "type": "forward"
  },
  "I23_mitsunobu_retro": {
    "brief": "Retro-Mitsunobu: C-N bond on sp3 carbon disconnected to alcohol + N-nucleophile. Forward: DIAD/PPh3 SN2 with inversion.",
    "category": "special",
    "co_reactant_examples": [
      "DIAD/PPh3/phthalimide/THF",
      "DEAD/PPh3/HN3/toluene"
    ],
    "incompatible_groups": [
      "[OX2r3]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Mitsunobu (Retro, special)",
    "note": "Retrosynthetic Mitsunobu: sp3 C-N traced to C-OH + HN (with inversion). Forward uses DIAD/PPh3. Nucleophile pKa must be < 13. Prereq restricted to sp3 carbon bearing N (CX4-N) to avoid matching amides, aromatic amines, etc. May overlap with G03_mitsunobu_retro.",
    "prereq": "[CX4:1][NX3;H0,H1:3]",
    "rxn": "[CX4:1][NX3:3]>>[CX4:1][OH].[NH:3]",
    "stereo_policy": "inversion",
    "type": "retro"
  },
  "I24_tsuji_trost_forward": {
    "brief": "Tsuji-Trost: Pd(0)-catalyzed allylic substitution. Allylic acetate/carbonate + nucleophile gives allylic substitution product. Soft nucleophiles attack from face opposite Pd.",
    "category": "special",
    "co_reactant_examples": [
      "Pd(PPh3)4/NaCH(CO2Me)2/THF",
      "Pd2(dba)3/Trost_ligand/BSA/DCM",
      "[Pd(allyl)Cl]2/dppf/morpholine"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Tsuji Trost (Forward, special)",
    "note": "Tsuji-Trost: Pd(0) oxidative addition to allylic OAc/OCO2R gives pi-allyl-Pd complex. Soft nucleophiles (malonates, amines, phenoxides) attack from face opposite Pd (net retention). Hard nucleophiles (RMgBr, RZnCl) transmetalate then reductive elimination (net inversion). Enantioselective with chiral ligands (Trost ligand, PHOX). [Retro: see C24_tsuji_trost_retro]",
    "prereq": "[C:1]=[C:2][C:3]([O:6]C(=O)C)[#6:4].[#6,#7,#8:5]",
    "rxn": "[C:1]=[C:2][C:3]([O]C(=O)C)[#6:4].[#6,#7,#8:5]>>[C:1]=[C:2][C:3]([#6:4])[#6,#7,#8:5]",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "I24_tsuji_trost_retro": {
    "brief": "Retro-Tsuji-Trost: allylic C-Nu bond disconnected to allylic acetate + nucleophile. Forward: Pd(0)-catalyzed allylic substitution.",
    "category": "special",
    "co_reactant_examples": [
      "Pd(PPh3)4/THF",
      "Pd2(dba)3/Trost_ligand/DCM"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Tsuji Trost (Retro, special)",
    "note": "Retrosynthetic Tsuji-Trost: allylic C-Nu traced to allylic OAc + NuH. Forward uses Pd(0) catalyst. Racemic without chiral ligand.",
    "prereq": "[C:1]=[C:2][C:3]([#6:4])[#6,#7,#8:5]",
    "rxn": "[C:1]=[C:2][C:3]([#6:4])[#6,#7,#8:5]>>[C:1]=[C:2][C:3]([O]C(=O)C)[#6:4].[#6,#7,#8:5]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "I25_scholl_oxidative_cyclodehydrogenation_placeholder": {
    "brief": "Scholl-type oxidative cyclodehydrogenation: intramolecular oxidative C–C bond formation within suitably preorganized biaryl/oligoaryl frameworks to give fused polycyclic aromatic systems (PAHs).",
    "category": "special",
    "co_reactant_examples": [
      "FeCl3/DCM/rt",
      "DDQ/TfOH/DCM",
      "FeCl3/MeNO2"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]"
    ],
    "name": "Scholl Oxidative Cyclodehydrogenation (Forward, special)",
    "note": "Scholl oxidative cyclodehydrogenation (net): an oxidant/Lewis or Brønsted acid system (e.g., FeCl3 or DDQ/strong acid) removes two hydrogens and forms a new aryl–aryl σ bond, followed by rearomatization. First-principles constraints: requires an accessible pair of aryl C–H sites (often ortho positions) and a geometry that brings them into proximity; regiochemistry is substrate-controlled and can be sensitive to electronic effects. This template encodes the net connectivity change and is intentionally simplified.",
    "prereq": "[c:1]1ccc(cc1)[c:2]3ccccc3",
    "rxn": "[c:1]1ccc(cc1)[c:2]3ccccc3>>[c:1]1ccc2cccc3cccc1c23",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "I25_scholl_oxidative_cyclodehydrogenation_placeholder_retro": {
    "brief": "Retro-Scholl: fused polycyclic aromatic system disconnected to a less fused biaryl/oligoaryl precursor (formal C–C bond cleavage + rehydrogenation).",
    "category": "special",
    "co_reactant_examples": [
      "FeCl3/DCM",
      "DDQ/TfOH/DCM"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]"
    ],
    "name": "Scholl Oxidative Cyclodehydrogenation (Retro, special)",
    "note": "Retrosynthetic disconnection for Scholl-type cyclodehydrogenation: fused PAHs can be traced to biaryl/oligoaryl precursors that differ by one missing aryl–aryl bond. Forward reaction typically uses FeCl3 or DDQ/strong acid to effect oxidative C–C bond formation and rearomatization. Use this as a coarse connectivity-level disconnection; successful forward execution depends strongly on substrate electronics, conformation, and availability of the requisite C–H positions.",
    "prereq": "[c:1]1ccc2cccc3cccc1c23",
    "rxn": "[c:1]1ccc2cccc3cccc1c23>>[c:1]1ccc(cc1)[c:2]3ccccc3",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "I27_ullmann_aryl_ether_cyclization_dibenzofuran_placeholder": {
    "brief": "Intramolecular Ullmann-type C–O coupling: 2-halo-2′-hydroxybiphenyl cyclizes under Cu catalysis to dibenzofuran via aryl–oxygen bond formation and rearomatization.",
    "category": "special",
    "co_reactant_examples": [
      "CuI/DMEDA/Cs2CO3/DMF/150C",
      "Cu/quinoline/220C(classical)"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[PX3]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Intramolecular Ullmann C-O Cyclization to Dibenzofuran (Forward, special)",
    "note": "Dibenzofuran formation via intramolecular C–O coupling: a 2-halo-2′-hydroxybiphenyl undergoes Cu-catalyzed aryl–O bond formation (Ullmann/Chan–Lam family depending on conditions), closing the central furan ring. First-principles: requires a good leaving group (Ar–X), generation of phenoxide (base), and metal-mediated C–O bond construction; thiols and strong phosphines can bind/poison Cu catalysts. This template encodes the net connectivity change and is simplified with respect to ligand/base/temperature details.",
    "prereq": "[c:1]1ccc([OH:2])cc1[c:3]2ccccc2[Br,Cl,I:4]",
    "rxn": "[c:1]1ccc([OH:2])cc1[c:3]2ccccc2[Br,Cl,I:4]>>[c:1]1ccc2[o:2]c3ccccc3c2c1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "I27_ullmann_aryl_ether_cyclization_dibenzofuran_placeholder_retro": {
    "brief": "Retro-dibenzofuran Ullmann: dibenzofuran disconnected to 2-halo-2′-hydroxybiphenyl precursor (formal C–O bond cleavage + halogenation).",
    "category": "special",
    "co_reactant_examples": [
      "CuI/DMEDA/Cs2CO3/DMF/150C",
      "Cu/quinoline/220C"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[PX3]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Intramolecular Ullmann C-O Cyclization to Dibenzofuran (Retro, special)",
    "note": "Retrosynthetic disconnection: dibenzofuran traced to a 2-halo-2′-hydroxybiphenyl that can cyclize via intramolecular Cu-catalyzed C–O coupling. Forward success depends on leaving-group identity (I/Br/Cl), base to form phenoxide, and ligand/temperature. Use as a connectivity-level template.",
    "prereq": "[c:1]1ccc2[o:2]c3ccccc3c2c1",
    "rxn": "[c:1]1ccc2[o:2]c3ccccc3c2c1>>[c:1]1ccc([OH:2])cc1[c:3]2ccccc2[Br,Cl,I:4]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "I28_photocyclization_mallory_placeholder": {
    "brief": "Mallory photocyclization: stilbene-like diaryl alkene undergoes photochemical electrocyclic ring closure to a dihydrophenanthrene, followed by oxidation to phenanthrene (hv + I2/O2).",
    "category": "special",
    "co_reactant_examples": [
      "hv(300nm)/I2/cyclohexane",
      "hv/I2/propylene_oxide(HI_scavenger)"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]"
    ],
    "name": "Mallory Photocyclization (Forward, special)",
    "note": "Mallory photocyclization (net): diaryl alkene (stilbene motif) + hv → 6π electrocyclic ring closure to dihydrophenanthrene, then oxidation (I2 or O2) restores aromaticity to give phenanthrene. First-principles: photochemical access to the excited state enables otherwise symmetry-forbidden pathways; cis (Z) geometry is required for ring closure, but trans/cis isomerization can occur under irradiation so both E and Z isomers can be used as starting material. This template encodes the net connectivity change and is simplified.",
    "prereq": "[c:1]1ccc(cc1)[CH:2]=[CH:3]c4ccccc4",
    "rxn": "[c:1]1ccc(cc1)[CH:2]=[CH:3]c4ccccc4>>[c:1]12ccc3cccc4c1c2c34",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "I28_photocyclization_mallory_placeholder_retro": {
    "brief": "Retro-Mallory: phenanthrene-type fused aromatic core disconnected to a stilbene-like diaryl alkene precursor. Forward: hv-induced electrocyclic ring closure + oxidation.",
    "category": "special",
    "co_reactant_examples": [
      "hv(300nm)/I2/cyclohexane",
      "hv/I2/propylene_oxide"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]"
    ],
    "name": "Mallory Photocyclization (Retro, special)",
    "note": "Retrosynthetic disconnection based on Mallory photocyclization: phenanthrene traced to a stilbene-like diaryl alkene. Forward requires photochemical conditions and an oxidant (I2/O2) to rearomatize. Z geometry required for ring closure but E/Z isomerization occurs under irradiation. This is a connectivity-level disconnection.",
    "prereq": "[c:1]12ccc3cccc4c1c2c34",
    "rxn": "[c:1]12ccc3cccc4c1c2c34>>[c:1]1ccc(cc1)[CH:2]=[CH:3]c4ccccc4",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "I29_nbs_heteroarene_halogenation_forward": {
    "brief": "NBS bromination of electron-rich heterocycle (pyrrole, furan, thiophene): electrophilic aromatic substitution at most nucleophilic position (C2).",
    "category": "special",
    "co_reactant_examples": [
      "NBS/DMF/0C",
      "NBS/THF/-78C",
      "NBS/CHCl3/0C"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "NBS Heteroarene Halogenation Pyrrole (Forward, special)",
    "note": "NBS on electron-rich heterocycles: electrophilic (not radical) mechanism. Pyrrole brominated at C2 (most electron-rich). Low temperature (-78C to 0C) for monosubstitution. DMF or THF as solvent. No Lewis acid needed (heterocycle is activated). This template covers pyrrole (nH). See I29b for furan (o) and I29c for thiophene (s) variants. [Retro: see I29_nbs_heteroarene_halogenation_retro]",
    "prereq": "[nH:1]1[cH:2][c:3][c:4][c:5]1",
    "rxn": "[nH:1]1[cH:2][c:3][c:4][c:5]1>>[nH:1]1[c:2]([Br])[c:3][c:4][c:5]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "I29_nbs_heteroarene_halogenation_retro": {
    "brief": "Retro-NBS pyrrole bromination: 2-bromopyrrole disconnected to pyrrole. Forward: NBS electrophilic bromination.",
    "category": "special",
    "co_reactant_examples": [
      "NBS/DMF/0C",
      "NBS/THF/-78C"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "NBS Heteroarene Halogenation Pyrrole (Retro, special)",
    "note": "Retrosynthetic: 2-bromopyrrole traced to pyrrole. Forward uses NBS/DMF at low temperature. See I29b/I29c for furan/thiophene variants.",
    "prereq": "[nH:1]1[c:2]([Br])[c:3][c:4][c:5]1",
    "rxn": "[nH:1]1[c:2]([Br])[c:3][c:4][c:5]1>>[nH:1]1[cH:2][c:3][c:4][c:5]1",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "I29b_nbs_furan_bromination_forward": {
    "brief": "NBS bromination of furan at C2: electrophilic aromatic substitution on electron-rich O-heterocycle.",
    "category": "special",
    "co_reactant_examples": [
      "NBS/DMF/-20C",
      "NBS/THF/-78C"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "NBS Furan Bromination (Forward, special)",
    "note": "NBS on furan: electrophilic bromination at C2 (most nucleophilic position). Low temperature essential to prevent ring-opening side reactions. Furan is more sensitive than pyrrole/thiophene to electrophilic conditions.",
    "prereq": "[o:1]1[cH:2][c:3][c:4][c:5]1",
    "rxn": "[o:1]1[cH:2][c:3][c:4][c:5]1>>[o:1]1[c:2]([Br])[c:3][c:4][c:5]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "I29b_nbs_furan_bromination_retro": {
    "brief": "Retro-NBS furan bromination: 2-bromofuran disconnected to furan.",
    "category": "special",
    "co_reactant_examples": [
      "NBS/DMF/-20C",
      "NBS/THF/-78C"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "NBS Furan Bromination (Retro, special)",
    "note": "Retrosynthetic: 2-bromofuran traced to furan. Forward uses NBS at low temperature.",
    "prereq": "[o:1]1[c:2]([Br])[c:3][c:4][c:5]1",
    "rxn": "[o:1]1[c:2]([Br])[c:3][c:4][c:5]1>>[o:1]1[cH:2][c:3][c:4][c:5]1",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "I29c_nbs_thiophene_bromination_forward": {
    "brief": "NBS bromination of thiophene at C2: electrophilic aromatic substitution on electron-rich S-heterocycle.",
    "category": "special",
    "co_reactant_examples": [
      "NBS/DMF/0C",
      "NBS/AcOH/rt",
      "NBS/CHCl3/0C"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "NBS Thiophene Bromination (Forward, special)",
    "note": "NBS on thiophene: electrophilic bromination at C2. Thiophene is less reactive than pyrrole but more stable than furan under electrophilic conditions. Room temperature or 0C typically sufficient.",
    "prereq": "[s:1]1[cH:2][c:3][c:4][c:5]1",
    "rxn": "[s:1]1[cH:2][c:3][c:4][c:5]1>>[s:1]1[c:2]([Br])[c:3][c:4][c:5]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "I29c_nbs_thiophene_bromination_retro": {
    "brief": "Retro-NBS thiophene bromination: 2-bromothiophene disconnected to thiophene.",
    "category": "special",
    "co_reactant_examples": [
      "NBS/DMF/0C",
      "NBS/AcOH/rt"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "NBS Thiophene Bromination (Retro, special)",
    "note": "Retrosynthetic: 2-bromothiophene traced to thiophene. Forward uses NBS at 0C or rt.",
    "prereq": "[s:1]1[c:2]([Br])[c:3][c:4][c:5]1",
    "rxn": "[s:1]1[c:2]([Br])[c:3][c:4][c:5]1>>[s:1]1[cH:2][c:3][c:4][c:5]1",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "I30_ncs_pyrrole_c2_chlorination_forward": {
    "brief": "NCS chlorination of pyrrole at C2: electrophilic aromatic substitution at the most nucleophilic position (C2/C5, alpha to nitrogen). NCS is a milder Cl+ source than Cl2.",
    "category": "special",
    "co_reactant_examples": [
      "NCS/DMF/0C",
      "NCS/THF/-78C",
      "NCS/CHCl3/rt"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[SX2][#6]"
    ],
    "name": "NCS Pyrrole C2 Chlorination (Forward, special)",
    "note": "NCS electrophilic chlorination on pyrrole: C2 (alpha) position is most nucleophilic due to highest electron density. NCS is milder electrophile than NBS or Cl2. Low temperature (0C to -78C) prevents polychlorination. DMF or THF solvent. Requires C2 to be unsubstituted. Thioethers may be oxidized to sulfoxides by NCS.",
    "prereq": "[nH:1]1[cH:2][c:3][c:4][c:5]1",
    "rxn": "[nH:1]1[cH:2][c:3][c:4][c:5]1>>[nH:1]1[c:2]([Cl])[c:3][c:4][c:5]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "I30_ncs_pyrrole_c2_chlorination_retro": {
    "brief": "Retro-NCS pyrrole C2 chlorination: 2-chloropyrrole disconnected to pyrrole. Forward: NCS electrophilic chlorination at C2.",
    "category": "special",
    "co_reactant_examples": [
      "NCS/DMF/0C",
      "NCS/THF/-78C"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[SX2][#6]"
    ],
    "name": "NCS Pyrrole C2 Chlorination (Retro, special)",
    "note": "Retrosynthetic: 2-chloropyrrole traced to unsubstituted pyrrole. Forward uses NCS/DMF at low temperature. C2 selectivity due to highest electron density at alpha position.",
    "prereq": "[nH:1]1[c:2]([Cl])[c:3][c:4][c:5]1",
    "rxn": "[nH:1]1[c:2]([Cl])[c:3][c:4][c:5]1>>[nH:1]1[cH:2][c:3][c:4][c:5]1",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "I31_nbs_indole_3_bromination_forward": {
    "brief": "NBS bromination of indole at C3: electrophilic substitution at most nucleophilic position of indole ring. C3 is preferred over C2 due to thermodynamic stability of 3-substituted product.",
    "category": "special",
    "co_reactant_examples": [
      "NBS/DMF/0C",
      "NBS/THF/-78C",
      "NBS/CCl4/0C"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "NBS Indole 3 Bromination (Forward, special)",
    "note": "Indole C3 bromination: NBS in DMF or THF at 0C to -78C. C3 is most nucleophilic position of indole (highest electron density). Electrophilic mechanism. Low temperature prevents polybromination. Requires C3 unsubstituted.",
    "prereq": "[c:1]1[c:2][c:3][c:4]2[nH:5][cH:6][c:7][c:8]2[c:9]1",
    "rxn": "[c:1]1[c:2][c:3][c:4]2[nH:5][cH:6][c:7][c:8]2[c:9]1>>[c:1]1[c:2][c:3][c:4]2[nH:5][c:6]([Br])[c:7][c:8]2[c:9]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "I31_nbs_indole_3_bromination_retro": {
    "brief": "Retro-NBS indole bromination: 3-bromoindole disconnected to indole. Forward: NBS electrophilic C3 bromination.",
    "category": "special",
    "co_reactant_examples": [
      "NBS/DMF/0C",
      "NBS/THF/-78C"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "NBS Indole 3 Bromination (Retro, special)",
    "note": "Retrosynthetic: 3-bromoindole traced to indole. Forward uses NBS/DMF/0C. C3 selectivity. Requires C3 unsubstituted in forward direction.",
    "prereq": "[c:1]1[c:2][c:3][c:4]2[nH:5][c:6]([Br])[c:7][c:8]2[c:9]1",
    "rxn": "[c:1]1[c:2][c:3][c:4]2[nH:5][c:6]([Br])[c:7][c:8]2[c:9]1>>[c:1]1[c:2][c:3][c:4]2[nH:5][cH:6][c:7][c:8]2[c:9]1",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "I32_ncs_indole_3_chlorination_forward": {
    "brief": "NCS chlorination of indole at C3: electrophilic substitution at most nucleophilic position. Analogous to NBS but introduces Cl at C3.",
    "category": "special",
    "co_reactant_examples": [
      "NCS/DMF/0C",
      "NCS/THF/-78C",
      "NCS/AcOH/rt"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "NCS Indole 3 Chlorination (Forward, special)",
    "note": "Indole C3 chlorination: NCS in DMF or THF at low temperature. Same C3 regioselectivity as NBS. NCS is milder electrophile. Low temperature for monosubstitution. [Retro: see I32_ncs_indole_3_chlorination_retro]",
    "prereq": "[c:1]1[c:2][c:3][c:4]2[nH:5][cH:6][c:7][c:8]2[c:9]1",
    "rxn": "[c:1]1[c:2][c:3][c:4]2[nH:5][cH:6][c:7][c:8]2[c:9]1>>[c:1]1[c:2][c:3][c:4]2[nH:5][c:6]([Cl])[c:7][c:8]2[c:9]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "I32_ncs_indole_3_chlorination_retro": {
    "brief": "Retro-NCS indole chlorination: 3-chloroindole disconnected to indole. Forward: NCS electrophilic C3 chlorination.",
    "category": "special",
    "co_reactant_examples": [
      "NCS/DMF/0C",
      "NCS/THF/-78C"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "NCS Indole 3 Chlorination (Retro, special)",
    "note": "Retrosynthetic: 3-chloroindole traced to indole. Forward uses NCS/DMF/0C. Requires C3 unsubstituted in forward direction.",
    "prereq": "[c:1]1[c:2][c:3][c:4]2[nH:5][c:6]([Cl])[c:7][c:8]2[c:9]1",
    "rxn": "[c:1]1[c:2][c:3][c:4]2[nH:5][c:6]([Cl])[c:7][c:8]2[c:9]1>>[c:1]1[c:2][c:3][c:4]2[nH:5][cH:6][c:7][c:8]2[c:9]1",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "I33_selectfluor_pyrrole_c2_fluorination_forward": {
    "brief": "Selectfluor fluorination of pyrrole at C2: electrophilic F+ source introduces fluorine at the most nucleophilic alpha position. Selectfluor is a strong, water-compatible F+ reagent.",
    "category": "special",
    "co_reactant_examples": [
      "Selectfluor/MeCN/rt",
      "Selectfluor/DMF/rt",
      "Selectfluor/MeCN-H2O/rt"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[SX2][#6]"
    ],
    "name": "Selectfluor Pyrrole C2 Fluorination (Forward, special)",
    "note": "Selectfluor (1-chloromethyl-4-fluoro-1,4-diazoniabicyclo[2.2.2]octane bis(tetrafluoroborate)): strong electrophilic F+ reagent. Fluorinates pyrrole at C2 (alpha, most nucleophilic). MeCN or DMF solvent. Room temperature. Water-compatible. Requires C2 unsubstituted. Thioethers may be oxidized.",
    "prereq": "[nH:1]1[cH:2][c:3][c:4][c:5]1",
    "rxn": "[nH:1]1[cH:2][c:3][c:4][c:5]1>>[nH:1]1[c:2]([F])[c:3][c:4][c:5]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "I33_selectfluor_pyrrole_c2_fluorination_retro": {
    "brief": "Retro-Selectfluor pyrrole C2 fluorination: 2-fluoropyrrole disconnected to pyrrole. Forward: Selectfluor electrophilic fluorination at C2.",
    "category": "special",
    "co_reactant_examples": [
      "Selectfluor/MeCN/rt",
      "Selectfluor/DMF/rt"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[SX2][#6]"
    ],
    "name": "Selectfluor Pyrrole C2 Fluorination (Retro, special)",
    "note": "Retrosynthetic: 2-fluoropyrrole traced to unsubstituted pyrrole. Forward uses Selectfluor/MeCN at room temperature.",
    "prereq": "[nH:1]1[c:2]([F])[c:3][c:4][c:5]1",
    "rxn": "[nH:1]1[c:2]([F])[c:3][c:4][c:5]1>>[nH:1]1[cH:2][c:3][c:4][c:5]1",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "I34_nfsi_pyrrole_c2_fluorination_forward": {
    "brief": "NFSI fluorination of pyrrole at C2: N-fluorobenzenesulfonimide as milder electrophilic F+ source. Complementary to Selectfluor with better selectivity for sensitive substrates.",
    "category": "special",
    "co_reactant_examples": [
      "NFSI/THF/rt",
      "NFSI/MeCN/rt",
      "NFSI/Cs2CO3/DMF"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[SX2][#6]"
    ],
    "name": "NFSI Pyrrole C2 Fluorination (Forward, special)",
    "note": "NFSI (N-fluorobenzenesulfonimide): milder electrophilic F+ source than Selectfluor. Fluorinates pyrrole at C2 (alpha position). Often better selectivity for sensitive substrates. THF or MeCN solvent. Room temperature. Can be used with metal catalysts (Pd, Cu) for directed C-H fluorination. Requires C2 unsubstituted.",
    "prereq": "[nH:1]1[cH:2][c:3][c:4][c:5]1",
    "rxn": "[nH:1]1[cH:2][c:3][c:4][c:5]1>>[nH:1]1[c:2]([F])[c:3][c:4][c:5]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "I34_nfsi_pyrrole_c2_fluorination_retro": {
    "brief": "Retro-NFSI pyrrole C2 fluorination: 2-fluoropyrrole disconnected to pyrrole. Forward: NFSI electrophilic fluorination at C2.",
    "category": "special",
    "co_reactant_examples": [
      "NFSI/THF/rt",
      "NFSI/MeCN/rt"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[SX2][#6]"
    ],
    "name": "NFSI Pyrrole C2 Fluorination (Retro, special)",
    "note": "Retrosynthetic: 2-fluoropyrrole traced to unsubstituted pyrrole. Forward uses NFSI/THF at room temperature. NFSI is milder than Selectfluor, preferred for sensitive substrates.",
    "prereq": "[nH:1]1[c:2]([F])[c:3][c:4][c:5]1",
    "rxn": "[nH:1]1[c:2]([F])[c:3][c:4][c:5]1>>[nH:1]1[cH:2][c:3][c:4][c:5]1",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "I35_nbs_imidazole_halogenation_forward": {
    "brief": "NBS bromination of imidazole: electrophilic substitution at C4/C5 position (most electron-rich). Regioselectivity depends on N-substitution pattern.",
    "category": "special",
    "co_reactant_examples": [
      "NBS/DMF/0C",
      "NBS/CHCl3/rt",
      "NBS/MeCN/0C"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "NBS Imidazole Halogenation (Forward, special)",
    "note": "Imidazole NBS bromination: electrophilic at C4 or C5 (equivalent in unsubstituted imidazole). N-substituted imidazoles: C4/C5 selectivity depends on substituents. NBS/DMF at 0C to rt. N-H imidazole may require protection or careful pH control. [Retro: see I35_nbs_imidazole_halogenation_retro]",
    "prereq": "[c:1]1[n:2][cH:3][c:4][nH:5]1",
    "rxn": "[c:1]1[n:2][cH:3][c:4][nH:5]1>>[c:1]1[n:2][c:3]([Br])[c:4][nH:5]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "I35_nbs_imidazole_halogenation_retro": {
    "brief": "Retro-NBS imidazole bromination: bromoimidazole disconnected to imidazole. Forward: NBS electrophilic bromination at C4/C5.",
    "category": "special",
    "co_reactant_examples": [
      "NBS/DMF/0C",
      "NBS/CHCl3/rt"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "NBS Imidazole Halogenation (Retro, special)",
    "note": "Retrosynthetic: bromoimidazole traced to imidazole. Forward uses NBS/DMF.",
    "prereq": "[c:1]1[n:2][c:3]([Br])[c:4][nH:5]1",
    "rxn": "[c:1]1[n:2][c:3]([Br])[c:4][nH:5]1>>[c:1]1[n:2][cH:3][c:4][nH:5]1",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "I36_ncs_imidazole_halogenation_forward": {
    "brief": "NCS chlorination of imidazole: electrophilic substitution at C4/C5 position. Analogous to NBS but introduces Cl.",
    "category": "special",
    "co_reactant_examples": [
      "NCS/DMF/0C",
      "NCS/CHCl3/rt",
      "NCS/MeCN/0C"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "NCS Imidazole Halogenation (Forward, special)",
    "note": "Imidazole NCS chlorination: electrophilic at C4/C5. NCS/DMF at 0C to rt. Same regioselectivity considerations as NBS variant. NCS is milder electrophile. [Retro: see I36_ncs_imidazole_halogenation_retro]",
    "prereq": "[c:1]1[n:2][cH:3][c:4][nH:5]1",
    "rxn": "[c:1]1[n:2][cH:3][c:4][nH:5]1>>[c:1]1[n:2][c:3]([Cl])[c:4][nH:5]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "I36_ncs_imidazole_halogenation_retro": {
    "brief": "Retro-NCS imidazole chlorination: chloroimidazole disconnected to imidazole. Forward: NCS electrophilic chlorination at C4/C5.",
    "category": "special",
    "co_reactant_examples": [
      "NCS/DMF/0C",
      "NCS/CHCl3/rt"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "NCS Imidazole Halogenation (Retro, special)",
    "note": "Retrosynthetic: chloroimidazole traced to imidazole. Forward uses NCS/DMF.",
    "prereq": "[c:1]1[n:2][c:3]([Cl])[c:4][nH:5]1",
    "rxn": "[c:1]1[n:2][c:3]([Cl])[c:4][nH:5]1>>[c:1]1[n:2][cH:3][c:4][nH:5]1",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "I37_ugi_4_component": {
    "brief": "Ugi 4-component coupling: carboxylic acid + amine + carbonyl (aldehyde/ketone) + isocyanide → α-acylamino amide (bis-amide). High-level multicomponent template for library-like bond construction.",
    "category": "special",
    "co_reactant_examples": [
      "MeOH or DCM",
      "rt to 60°C",
      "mild acid catalyst (optional)"
    ],
    "incompatible_groups": [
      "[CX3](=O)Cl",
      "[SX2H]",
      "[N-]=[N+]=[N-]"
    ],
    "name": "Ugi 4-Component Reaction (Forward, special)",
    "note": "Ugi 4-component reaction forms a new C–N bond and a new amide bond in a single operation via imine formation, isocyanide addition, and acyl transfer. First-principles: imine formation increases electrophilicity at the carbonyl carbon; isocyanide acts as a 1,1-dipole equivalent; the carboxylate traps the nitrilium intermediate, and rearrangement yields an α-acylamino amide. A new stereocenter is commonly created at the former carbonyl carbon, so outcomes are typically racemic without chiral catalysis.",
    "prereq": "[#6:10][C:8](=O)[OH:9].[NX3;H2,H1:1][#6:2].[CX3:3](=O)([#6,H])[#6:4].[#6:7][N:5]#[C:6]",
    "rxn": "[#6:10][C:8](=O)[OH:9].[NX3;H2,H1:1][#6:2].[CX3:3](=O)([#6,H])[#6:4].[#6:7][N:5]#[C:6]>>[#6:10][C:8](=O)[N:1]([#6:2])[C:3]([#6:4])[C:6](=O)[N:5]([#6:7])",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "I37_ugi_4_component_retro": {
    "brief": "Retro-Ugi: α-acylamino amide (bis-amide) can be disconnected to carboxylic acid + amine + carbonyl + isocyanide precursors.",
    "category": "special",
    "co_reactant_examples": [
      "MeOH or DCM",
      "rt to 60°C"
    ],
    "incompatible_groups": [
      "[CX3](=O)Cl",
      "[SX2H]",
      "[N-]=[N+]=[N-]"
    ],
    "name": "Ugi 4-Component Disconnection (Retro, special)",
    "note": "Retrosynthetic disconnection based on the Ugi 4-component coupling: bis-amide products can be traced to an acid, an amine, a carbonyl compound, and an isocyanide. Forward Ugi is mechanistically grounded in imine/nitrilium chemistry and typically produces racemic mixtures when a new stereocenter is formed.",
    "prereq": "[#6:10][C:8](=O)[N:1]([#6:2])[C:3]([#6:4])[C:6](=O)[N:5]([#6:7])",
    "rxn": "[#6:10][C:8](=O)[N:1]([#6:2])[C:3]([#6:4])[C:6](=O)[N:5]([#6:7])>>[#6:10][C:8](=O)[OH:9].[NX3;H2,H1:1][#6:2].[CX3:3](=O)[#6:4].[#6:7][N:5]#[C:6]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "I38_passerini_3_component": {
    "brief": "Passerini 3-component coupling: carboxylic acid + carbonyl + isocyanide → α-acyloxy amide (ester + amide). High-level multicomponent template that creates a new stereocenter at the former carbonyl carbon.",
    "category": "special",
    "co_reactant_examples": [
      "DCM or MeCN",
      "rt to 40°C",
      "mild acid catalyst (optional)"
    ],
    "incompatible_groups": [
      "[CX3](=O)Cl",
      "[SX2H]",
      "[N-]=[N+]=[N-]"
    ],
    "name": "Passerini 3-Component Reaction (Forward, special)",
    "note": "Passerini reaction proceeds via addition of an isocyanide to a carbonyl activated by a carboxylic acid, followed by acyl transfer to give an α-acyloxy amide. First-principles: electrophile activation by hydrogen bonding/acid–base pairing enables isocyanide addition; rearrangement installs both ester and amide functionalities. A new stereocenter is typically created at the former carbonyl carbon; outcomes are generally racemic without chiral catalysis.",
    "prereq": "[#6:10][C:8](=O)[OH:9].[CX3:3](=O)([#6,H])[#6:4].[#6:7][N:5]#[C:6]",
    "rxn": "[#6:10][C:8](=O)[OH:9].[CX3:3](=O)([#6,H])[#6:4].[#6:7][N:5]#[C:6]>>[#6:10][C:8](=O)O[C:3]([#6:4])[C:6](=O)[N:5]([#6:7])",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "I38_passerini_3_component_retro": {
    "brief": "Retro-Passerini: α-acyloxy amide disconnected to carboxylic acid + carbonyl + isocyanide precursors.",
    "category": "special",
    "co_reactant_examples": [
      "DCM or MeCN",
      "rt to 40°C"
    ],
    "incompatible_groups": [
      "[CX3](=O)Cl",
      "[SX2H]",
      "[N-]=[N+]=[N-]"
    ],
    "name": "Passerini 3-Component Disconnection (Retro, special)",
    "note": "Retrosynthetic disconnection based on the Passerini 3-component coupling: α-acyloxy amides can be traced to a carboxylic acid, a carbonyl compound, and an isocyanide. Forward reaction creates a stereocenter and is typically racemic without chiral induction.",
    "prereq": "[#6:10][C:8](=O)O[C:3]([#6:4])[C:6](=O)[N:5]([#6:7])",
    "rxn": "[#6:10][C:8](=O)O[C:3]([#6:4])[C:6](=O)[N:5]([#6:7])>>[#6:10][C:8](=O)[OH:9].[CX3:3](=O)[#6:4].[#6:7][N:5]#[C:6]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "J01_paal_knorr_furan": {
    "brief": "Paal-Knorr furan: 1,4-dicarbonyl cyclodehydrated to furan under acid catalysis (P2O5, ZnCl2). Aromatic product, no stereocenter.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "P2O5/xylene/reflux",
      "ZnCl2/AcOH/heat",
      "H2SO4(cat)/toluene/reflux"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Paal Knorr Furan (Forward, heterocycle)",
    "note": "Paal-Knorr furan: 1,4-diketone + strong dehydrating agent (P2O5, ZnCl2, H2SO4) -> furan via double intramolecular dehydration. Harsher conditions than pyrrole/thiophene variants because furan is less nucleophilic. Product is aromatic, no sp3 center created.",
    "prereq": "[C:1](=O)[CX4:2][CX4:3][C:4](=O)",
    "rxn": "[C:1](=O)[CX4:2][CX4:3][C:4](=O)>>[c:1]1[c:2][c:3][o][c:4]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J01_paal_knorr_furan_retro": {
    "brief": "Retro-Paal-Knorr furan: furan disconnected to 1,4-dicarbonyl. Forward: acid-catalyzed cyclodehydration of 1,4-diketone to furan.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "P2O5/xylene/reflux",
      "ZnCl2/AcOH/heat",
      "H2SO4(cat)/toluene/reflux"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Paal Knorr Furan (Retro, heterocycle)",
    "note": "Retrosynthetic Paal-Knorr furan: furan ring traced to 1,4-diketone precursor. Forward requires strong dehydrating agent (P2O5, ZnCl2). Harsher than pyrrole variant. Product is aromatic.",
    "prereq": "[c:1]1[c:2][c:3][o][c:4]1",
    "rxn": "[c:1]1[c:2][c:3][o][c:4]1>>[C:1](=O)[C:2][C:3][C:4](=O)",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "J02_paal_knorr_pyrrole": {
    "brief": "Paal-Knorr pyrrole: 1,4-dicarbonyl + primary amine condense to N-substituted pyrrole. Acid-catalyzed double condensation/dehydration. Aromatic product.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "RNH2/AcOH/EtOH/reflux",
      "NH4OAc/AcOH/heat",
      "RNH2/p-TsOH/toluene/Dean-Stark"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Paal Knorr Pyrrole (Forward, heterocycle)",
    "note": "Paal-Knorr pyrrole: 1,4-diketone + RNH2 (or NH4OAc for NH-pyrrole) + acid catalyst (AcOH, p-TsOH). Double condensation then dehydration. Mild conditions. Product is aromatic, no sp3 center.",
    "prereq": "[C:1](=O)[CX4:2][CX4:3][C:5](=O).[NH2:4]",
    "rxn": "[C:1](=O)[CX4:2][CX4:3][C:5](=O).[NH2:4]>>[c:1]1[c:2][c:3][n:4][c:5]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J02_paal_knorr_pyrrole_retro": {
    "brief": "Retro-Paal-Knorr pyrrole: pyrrole disconnected to 1,4-dicarbonyl + ammonia/primary amine. Forward: acid-catalyzed condensation.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "RNH2/AcOH/EtOH/reflux",
      "NH4OAc/AcOH/heat"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Paal Knorr Pyrrole (Retro, heterocycle)",
    "note": "Retrosynthetic Paal-Knorr pyrrole: N-substituted pyrrole traced to 1,4-diketone + RNH2. Forward uses AcOH catalyst, mild conditions. NH4OAc for NH-pyrrole.",
    "prereq": "[c:1]1[c:2][c:3][n:4][c:5]1",
    "rxn": "[c:1]1[c:2][c:3][n:4][c:5]1>>[C:1](=O)[CX4:2][CX4:3][C:5](=O).[NH2:4]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "J03_hantzsch_pyridine": {
    "brief": "Hantzsch pyridine: aldehyde + 2 beta-ketoesters + NH4OAc condense to 1,4-DHP, oxidized to pyridine. Four-component reaction, aromatic product.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "NH4OAc/EtOH/reflux_then_HNO3",
      "NH4OAc/AcOH/heat_then_DDQ"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Hantzsch Pyridine (Forward, heterocycle)",
    "note": "Hantzsch pyridine: RCHO + 2 equiv beta-ketoester (e.g. ethyl acetoacetate) + NH4OAc -> 1,4-dihydropyridine (Hantzsch ester), then oxidation (HNO3, DDQ, MnO2) -> pyridine. Symmetric substitution pattern. Product is aromatic. Prereq requires aldehyde + beta-ketoester components explicitly.",
    "prereq": "[CH1:1](=O)[#6:2].[CX3:3](=O)[CH2][CX3:5](=O)[OX2].[CX3:6](=O)[CH2][CX3](=O)[OX2]",
    "rxn": "[CH1:1](=O)[#6:2].[CX3:3](=O)[CH2][CX3:5](=O)[OX2].[CX3:6](=O)[CH2][CX3](=O)[OX2]>>[c:1]1[c:2][c:3][n][c:5][c:6]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J03_hantzsch_pyridine_retro": {
    "brief": "Retro-Hantzsch: symmetrically 2,6-disubstituted pyridine with ester groups disconnected to aldehyde + two beta-ketoesters + ammonia. Forward: four-component condensation then oxidation.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "NH4OAc/EtOH/reflux_then_HNO3",
      "NH4OAc/AcOH/heat_then_DDQ"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Hantzsch Pyridine (Retro, heterocycle)",
    "note": "Retrosynthetic Hantzsch: pyridine bearing ester substituents traced to RCHO + 2 ethyl acetoacetate + NH4OAc. Forward gives 1,4-DHP intermediate, oxidized to pyridine by HNO3/DDQ/MnO2. Best applied to symmetrically substituted pyridines with ester groups at C3/C5.",
    "prereq": "[c:1]1[c:2][c:3]([CX3](=O)[OX2])[n:4][c:5]([CX3](=O)[OX2])[c:6]1",
    "rxn": "[c:1]1[c:2][c:3]([CX3](=O)[OX2])[n:4][c:5]([CX3](=O)[OX2])[c:6]1>>[CH1:1](=O)[#6:2].[CX3:3](=O)[CH2][CX3:5](=O)[OX2].[CX3:6](=O)[CH2][CX3](=O)[OX2]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "J04_chichibabin": {
    "brief": "Chichibabin amination: pyridine + NaNH2 gives 2-aminopyridine via nucleophilic addition-elimination at C2. Aromatic product.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "NaNH2/toluene/reflux",
      "NaNH2/xylene/heat"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Chichibabin (Forward, heterocycle)",
    "note": "Chichibabin: NaNH2 attacks C2 of pyridine (LUMO coefficient highest at C2/C4). Hydride eliminated as NaH. Harsh conditions (reflux in toluene/xylene). Regioselective for C2. Product is aromatic.",
    "prereq": "[c:1]1[c:2][cH:3][n:5][c:6][c:7]1",
    "rxn": "[c:1]1[c:2][cH:3][n:5][c:6][c:7]1>>[c:1]1[c:2][c:3]([NH2])[n:5][c:6][c:7]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J04_chichibabin_retro": {
    "brief": "Retro-Chichibabin: 2-aminopyridine disconnected to pyridine + NaNH2. Forward: nucleophilic addition of amide to pyridine C2, elimination of hydride.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "NaNH2/toluene/reflux",
      "NaNH2/xylene/heat"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Chichibabin (Retro, heterocycle)",
    "note": "Retrosynthetic Chichibabin: 2-aminopyridine traced to pyridine. Forward uses NaNH2/toluene/reflux. Regioselective C2 amination.",
    "prereq": "[c:1]1[c:2][c:3]([NH2:4])[n:5][c:6][c:7]1",
    "rxn": "[c:1]1[c:2][c:3]([NH2:4])[n:5][c:6][c:7]1>>[c:1]1[c:2][cH:3][n:5][c:6][c:7]1",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "J05_gewald": {
    "brief": "Gewald reaction: ketone + alpha-cyanoacetate + elemental sulfur (S8) condense to 2-aminothiophene. Base-catalyzed multicomponent reaction. Aromatic product.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "S8/morpholine/EtOH/reflux",
      "S8/Et3N/DMF/80C",
      "S8/piperidine/EtOH/reflux"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Gewald (Forward, heterocycle)",
    "note": "Gewald: ketone + alpha-cyanoacetate undergo Knoevenagel condensation, then S8 inserts via base-mediated cyclization (morpholine or Et3N as base). Product is 2-amino-3-acylthiophene (aromatic). Widely used in medicinal chemistry. Requires alpha-H on cyanoacetate for Knoevenagel step. Ketone component must have alpha-CH2 for enolization.",
    "prereq": "[CX3:1](=O)([#6])[CH2:7].[CX3:4](=O)[OX2][#6].[CH2:2](C#N)[CX3](=O)[OX2]",
    "rxn": "[CX3:1](=O)([#6])[CH2:7].[CX3:4](=O)[OX2][#6].[CH2:2](C#N)[CX3](=O)[OX2]>>[c:1]1[c:2]([NH2])[c:4][s][c:7]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J05_gewald_retro": {
    "brief": "Retro-Gewald: 2-aminothiophene disconnected to ketone + cyanoacetate + S8. Forward: base-catalyzed multicomponent Gewald reaction.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "S8/morpholine/EtOH/reflux",
      "S8/Et3N/DMF/80C"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Gewald (Retro, heterocycle)",
    "note": "Retrosynthetic Gewald: 2-amino-3-substituted thiophene traced to ketone + alpha-cyanoacetate + S8. Forward uses morpholine or Et3N as base in EtOH. Aromatic product.",
    "prereq": "[c:1]1[c:2]([NH2])[c:4][s][c:7]1",
    "rxn": "[c:1]1[c:2]([NH2])[c:4][s][c:7]1>>[CX3:1](=O)([#6])[CH2:7].[CH2:2](C#N)[CX3:4](=O)[OX2]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "J08_paal_knorr_thiophene_forward": {
    "brief": "Paal-Knorr thiophene: 1,4-dicarbonyl + Lawesson reagent or P4S10 gives thiophene. Sulfur replaces both oxygens. Aromatic product.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "Lawesson_reagent/toluene/reflux",
      "P4S10/xylene/reflux",
      "P4S10/pyridine/heat"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Paal Knorr Thiophene (Forward, heterocycle)",
    "note": "Paal-Knorr thiophene: 1,4-diketone + thionating agent (Lawesson reagent, P4S10). Both C=O converted to C=S, then cyclodehydration to thiophene. Milder than furan variant. Product is aromatic. [Retro: see J08_paal_knorr_thiophene_retro]",
    "prereq": "[C:1](=O)[CH2:3][CH2:4][C:5](=O)",
    "rxn": "[C:1](=O)[CH2:3][CH2:4][C:5](=O)>>[s]1[c:1][c:3][c:4][c:5]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J08_paal_knorr_thiophene_retro": {
    "brief": "Retro-Paal-Knorr thiophene: thiophene disconnected to 1,4-dicarbonyl. Forward: Lawesson reagent or P4S10 thionation/cyclization.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "Lawesson_reagent/toluene/reflux",
      "P4S10/xylene/reflux"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Paal Knorr Thiophene (Retro, heterocycle)",
    "note": "Retrosynthetic Paal-Knorr thiophene: thiophene traced to 1,4-diketone. Forward uses Lawesson reagent or P4S10. Aromatic product.",
    "prereq": "[s]1[c:1][c:3][c:4][c:5]1",
    "rxn": "[s]1[c:1][c:3][c:4][c:5]1>>[C:1](=O)[CH2:3][CH2:4][C:5](=O)",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "J09_huisgen_click_triazole_forward": {
    "brief": "CuAAC click chemistry: organic azide + terminal alkyne -> 1,4-disubstituted 1,2,3-triazole. Cu(I)-catalyzed, regioselective. Aromatic product.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "CuSO4/sodium_ascorbate/tBuOH-H2O/rt",
      "CuI/DIPEA/DMF/rt",
      "CuSO4/NaAsc/THF-H2O"
    ],
    "incompatible_groups": [
      "[NX3+](=O)[O-]",
      "[SX2H]"
    ],
    "name": "Huisgen Click Triazole (Forward, heterocycle)",
    "note": "Huisgen 1,3-dipolar cycloaddition (CuAAC): Cu(I) (from CuSO4/sodium ascorbate or CuI) catalyzes [3+2] cycloaddition of azide + terminal alkyne. Regioselective for 1,4-regioisomer (thermal gives mixture). Mild conditions (rt, aqueous). Bioorthogonal. Product is aromatic triazole. Requires terminal alkyne (internal alkynes do not react under CuAAC). Thiols poison Cu(I) catalyst.",
    "prereq": "[N:1]=[N+:2]=[N-:3].[C:4]#[CH:5]",
    "rxn": "[N:1]=[N+:2]=[N-:3].[C:4]#[CH:5]>>[n:1]1[n:2][n:3][c:4][c:5]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J09_huisgen_click_triazole_retro": {
    "brief": "Retro-CuAAC: 1,2,3-triazole disconnected to azide + terminal alkyne. Forward: Cu(I)-catalyzed click cycloaddition.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "CuSO4/sodium_ascorbate/tBuOH-H2O",
      "CuI/DIPEA/DMF"
    ],
    "incompatible_groups": [
      "[NX3+](=O)[O-]",
      "[SX2H]"
    ],
    "name": "Huisgen Click Triazole (Retro, heterocycle)",
    "note": "Retrosynthetic CuAAC: 1,4-disubstituted 1,2,3-triazole traced to organic azide + terminal alkyne. Forward uses CuSO4/sodium ascorbate. Regioselective for 1,4-isomer. Thiols poison Cu(I) catalyst.",
    "prereq": "[n:1]1[n:2][n:3][c:4][c:5]1",
    "rxn": "[n:1]1[n:2][n:3][c:4][c:5]1>>[N:1]=[N+:2]=[N-:3].[C:4]#[CH:5]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "J10_tetrazole_from_nitrile_azide": {
    "brief": "Tetrazole synthesis: nitrile + sodium azide (NaN3) undergo [3+2] cycloaddition to give 5-substituted tetrazole. Aromatic product.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "NaN3/NH4Cl/DMF/120C",
      "NaN3/ZnBr2/H2O/reflux",
      "TMSN3/Bu2SnO/toluene/100C"
    ],
    "incompatible_groups": [
      "[NX3+](=O)[O-]"
    ],
    "name": "Tetrazole From Nitrile Azide (Forward, heterocycle)",
    "note": "Tetrazole from nitrile + azide: RCN + NaN3/NH4Cl in DMF at 120C (or ZnBr2 catalyst). [3+2] cycloaddition. Product is aromatic 5-membered ring with 4 nitrogens. Acidic NH (pKa ~4.9). Used as carboxylic acid bioisostere in medicinal chemistry.",
    "prereq": "[C:1]#[N:2].[N:3]=[N+:4]=[N-:5]",
    "rxn": "[C:1]#[N:2].[N:3]=[N+:4]=[N-:5]>>[n:2]1[n:3][n:4][n:5][c:1]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J10_tetrazole_from_nitrile_azide_retro": {
    "brief": "Retro-tetrazole: tetrazole disconnected to nitrile + azide. Forward: [3+2] cycloaddition of RCN + NaN3.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "NaN3/NH4Cl/DMF/120C",
      "NaN3/ZnBr2/H2O/reflux"
    ],
    "incompatible_groups": [
      "[NX3+](=O)[O-]"
    ],
    "name": "Tetrazole From Nitrile Azide (Retro, heterocycle)",
    "note": "Retrosynthetic tetrazole: 5-substituted tetrazole traced to RCN + NaN3. Forward uses NaN3/NH4Cl/DMF/120C or ZnBr2 catalyst.",
    "prereq": "[n:2]1[n:3][n:4][n:5][c:1]1",
    "rxn": "[n:2]1[n:3][n:4][n:5][c:1]1>>[C:1]#[N:2].[N:3]=[N+:4]=[N-:5]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "J11_pyrazole_from_1_3_dicarbonyl_hydrazine": {
    "brief": "Pyrazole synthesis: 1,3-dicarbonyl + hydrazine (N2H4) condense to pyrazole. Double condensation/dehydration. Aromatic product.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "N2H4-H2O/EtOH/reflux",
      "N2H4-H2O/AcOH/heat",
      "ArNHNH2/EtOH/reflux"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Pyrazole From 1 3 Dicarbonyl Hydrazine (Forward, heterocycle)",
    "note": "Pyrazole from 1,3-diketone + hydrazine: double condensation gives pyrazole. Unsymmetrical 1,3-diketones may give regioisomeric mixtures. AcOH or EtOH as solvent. Product is aromatic. Substituted hydrazines (ArNHNH2) give N-aryl pyrazoles.",
    "prereq": "[C:1](=O)[CH2:2][C:3](=O).[NH2:4][NH2:5]",
    "rxn": "[C:1](=O)[CH2:2][C:3](=O).[NH2:4][NH2:5]>>[n:4]1[n:5][c:2][c:1][c:3]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J11_pyrazole_from_1_3_dicarbonyl_hydrazine_retro": {
    "brief": "Retro-pyrazole: pyrazole disconnected to 1,3-dicarbonyl + hydrazine. Forward: double condensation/dehydration.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "N2H4-H2O/EtOH/reflux",
      "N2H4-H2O/AcOH/heat"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Pyrazole From 1 3 Dicarbonyl Hydrazine (Retro, heterocycle)",
    "note": "Retrosynthetic pyrazole: pyrazole traced to 1,3-diketone + N2H4. Regioisomers possible with unsymmetrical diketones.",
    "prereq": "[n:4]1[n:5][c:2][c:1][c:3]1",
    "rxn": "[n:4]1[n:5][c:2][c:1][c:3]1>>[C:1](=O)[CH2:2][C:3](=O).[NH2:4][NH2:5]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "J12_isoxazole_from_1_3_dicarbonyl_hydroxylamine": {
    "brief": "Isoxazole synthesis: 1,3-dicarbonyl + hydroxylamine condense to isoxazole. Double condensation/dehydration. Aromatic product.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "NH2OH-HCl/NaOAc/EtOH/reflux",
      "NH2OH-HCl/pyridine/EtOH",
      "NH2OH/AcOH/heat"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Isoxazole From 1 3 Dicarbonyl Hydroxylamine (Forward, heterocycle)",
    "note": "Isoxazole from 1,3-diketone + NH2OH: one C=O forms oxime, other C=O condenses with OH to close ring. Aromatic product. Regioisomers possible with unsymmetrical diketones. Mild conditions (EtOH, AcOH).",
    "prereq": "[C:1](=O)[CH2:2][C:3](=O).[NH2:4][OH:5]",
    "rxn": "[C:1](=O)[CH2:2][C:3](=O).[NH2:4][OH:5]>>[o:5]1[n:4][c:2][c:1][c:3]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J12_isoxazole_from_1_3_dicarbonyl_hydroxylamine_retro": {
    "brief": "Retro-isoxazole: isoxazole disconnected to 1,3-dicarbonyl + hydroxylamine. Forward: condensation/cyclodehydration.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "NH2OH-HCl/NaOAc/EtOH/reflux",
      "NH2OH/AcOH/heat"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Isoxazole From 1 3 Dicarbonyl Hydroxylamine (Retro, heterocycle)",
    "note": "Retrosynthetic isoxazole: isoxazole traced to 1,3-diketone + NH2OH. Regioisomers possible with unsymmetrical substrates.",
    "prereq": "[o:5]1[n:4][c:2][c:1][c:3]1",
    "rxn": "[o:5]1[n:4][c:2][c:1][c:3]1>>[C:1](=O)[CH2:2][C:3](=O).[NH2:4][OH:5]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "J13_barbiturate_like_from_1_3_dicarbonyl_urea": {
    "brief": "Barbiturate synthesis: 1,3-dicarbonyl (malonate ester) + urea condense to barbituric acid derivative. Double amidation/cyclization. Non-aromatic product.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "NaOEt/EtOH/reflux",
      "NaOMe/MeOH/reflux",
      "NaH/DMF/heat"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Barbiturate Like From 1 3 Dicarbonyl Urea (Forward, heterocycle)",
    "note": "Barbiturate: diethyl malonate + urea + NaOEt -> barbituric acid (pyrimidine-2,4,6-trione). Condensation of both NH2 groups of urea with ester carbonyls. Product is non-aromatic (three C=O). Historically important (barbital, phenobarbital). NaOEt as base catalyst.",
    "prereq": "[CX3:1](=O)([OX2][#6])[CH2:2][CX3:3](=O)[OX2][#6].[NH2:4][C:5](=O)[NH2:6]",
    "rxn": "[CX3:1](=O)([OX2][#6])[CH2:2][CX3:3](=O)[OX2][#6].[NH2:4][C:5](=O)[NH2:6]>>[n:4]1[c:2][c:1](=O)[n:6][c:3](=O)[c:5](=O)1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J13_barbiturate_like_from_1_3_dicarbonyl_urea_retro": {
    "brief": "Retro-barbiturate: barbituric acid disconnected to malonate ester + urea. Forward: base-catalyzed double condensation.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "NaOEt/EtOH/reflux",
      "NaOMe/MeOH/reflux"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Barbiturate Like From 1 3 Dicarbonyl Urea (Retro, heterocycle)",
    "note": "Retrosynthetic barbiturate: pyrimidine-2,4,6-trione traced to diethyl malonate + urea. Forward uses NaOEt/EtOH.",
    "prereq": "[n:4]1[c:2][c:1](=O)[n:6][c:3](=O)[c:5](=O)1",
    "rxn": "[n:4]1[c:2][c:1](=O)[n:6][c:3](=O)[c:5](=O)1>>[CX3:1](=O)([OX2][#6])[CH2:2][CX3:3](=O)[OX2][#6].[NH2:4][C:5](=O)[NH2:6]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "J14_thiobarbiturate_like_from_1_3_dicarbonyl_thiourea": {
    "brief": "Thiobarbiturate synthesis: 1,3-dicarbonyl (malonate ester) + thiourea condense to 2-thiobarbituric acid. Double amidation/cyclization with C=S retained.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "NaOEt/EtOH/reflux",
      "NaOMe/MeOH/reflux",
      "K2CO3/DMF/heat"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Thiobarbiturate Like From 1 3 Dicarbonyl Thiourea (Forward, heterocycle)",
    "note": "Thiobarbiturate: diethyl malonate + thiourea + NaOEt -> 2-thiobarbituric acid. Analogous to barbiturate synthesis but thiourea retains C=S in product. Non-aromatic. Used in TBARS assay for lipid peroxidation.",
    "prereq": "[CX3:1](=O)([OX2][#6])[CH2:2][CX3:3](=O)[OX2][#6].[NH2:4][C:5](=[S:6])[NH2:7]",
    "rxn": "[CX3:1](=O)([OX2][#6])[CH2:2][CX3:3](=O)[OX2][#6].[NH2:4][C:5](=[S:6])[NH2:7]>>[n:4]1[c:2][c:1](=O)[n:7][c:3](=O)[c:5](=[S:6])1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J14_thiobarbiturate_like_from_1_3_dicarbonyl_thiourea_retro": {
    "brief": "Retro-thiobarbiturate: 2-thiobarbituric acid disconnected to malonate ester + thiourea. Forward: base-catalyzed condensation.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "NaOEt/EtOH/reflux",
      "NaOMe/MeOH/reflux"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Thiobarbiturate Like From 1 3 Dicarbonyl Thiourea (Retro, heterocycle)",
    "note": "Retrosynthetic thiobarbiturate: 2-thiobarbituric acid traced to diethyl malonate + thiourea. Forward uses NaOEt/EtOH.",
    "prereq": "[n:4]1[c:2][c:1](=O)[n:7][c:3](=O)[c:5](=[S:6])1",
    "rxn": "[n:4]1[c:2][c:1](=O)[n:7][c:3](=O)[c:5](=[S:6])1>>[CX3:1](=O)([OX2][#6])[CH2:2][CX3:3](=O)[OX2][#6].[NH2:4][C:5](=[S:6])[NH2:7]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "J15_oxazole_from_alpha_haloketone_amide": {
    "brief": "Robinson-Gabriel oxazole synthesis: alpha-haloketone + amide condense to oxazole. Amide nitrogen displaces halide, then cyclodehydration. Aromatic product.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "RCONH2/K2CO3/DMF/80C_then_POCl3",
      "RCONH2/NaHCO3/acetone_then_H2SO4",
      "RCONH2/Et3N/THF_then_P2O5"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Oxazole From Alpha Haloketone Amide (Forward, heterocycle)",
    "note": "Robinson-Gabriel: alpha-haloketone + amide -> alpha-acylaminoketone (SN2 on halide by amide N), then cyclodehydration (P2O5, POCl3, or H2SO4) -> oxazole. Aromatic product. Primary amides work best. Alpha-bromoketones preferred over chloro.",
    "prereq": "[C:1](=O)[CH2:2][Br,Cl,I:3].[C:4](=[O:6])[NH2:5]",
    "rxn": "[C:1](=O)[CH2:2][Br,Cl,I].[C:4](=[O:6])[NH2:5]>>[c:1]1[c:2][n:5][c:4][o:6]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J15_oxazole_from_alpha_haloketone_amide_retro": {
    "brief": "Retro-Robinson-Gabriel: oxazole disconnected to alpha-haloketone + amide. Forward: SN2 then cyclodehydration.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "RCONH2/K2CO3/DMF_then_POCl3",
      "RCONH2/NaHCO3_then_H2SO4"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Oxazole From Alpha Haloketone Amide (Retro, heterocycle)",
    "note": "Retrosynthetic Robinson-Gabriel: oxazole traced to alpha-haloketone + RCONH2. Forward uses base then dehydrating agent.",
    "prereq": "[c:1]1[c:2][n:5][c:4][o:6]1",
    "rxn": "[c:1]1[c:2][n:5][c:4][o:6]1>>[C:1](=O)[CH2:2][Br,Cl,I].[C:4](=[O:6])[NH2:5]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "J16_thiazole_from_alpha_haloketone_thioamide": {
    "brief": "Hantzsch thiazole synthesis: alpha-haloketone + thioamide condense to aminothiazole. Sulfur displaces halide, then cyclodehydration. Aromatic product.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "RC(=S)NH2/EtOH/reflux",
      "thiourea/EtOH/reflux",
      "thioacetamide/EtOH/rt"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Thiazole From Alpha Haloketone Thioamide (Forward, heterocycle)",
    "note": "Hantzsch thiazole: alpha-haloketone + thioamide -> thioamide S attacks halide (SN2), then cyclization/dehydration -> 2-aminothiazole. Very reliable. Aromatic product. Widely used in drug synthesis (sulfathiazole, dasatinib). Mild conditions.",
    "prereq": "[C:1](=O)[CH2:2][Br,Cl,I:3].[C:4](=[S:6])[NH2:5]",
    "rxn": "[C:1](=O)[CH2:2][Br,Cl,I].[C:4](=[S:6])[NH2:5]>>[c:1]1[c:2][n:5][c:4][s:6]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J16_thiazole_from_alpha_haloketone_thioamide_retro": {
    "brief": "Retro-Hantzsch thiazole: thiazole disconnected to alpha-haloketone + thioamide. Forward: Hantzsch condensation.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "RC(=S)NH2/EtOH/reflux",
      "thiourea/EtOH/reflux"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Thiazole From Alpha Haloketone Thioamide (Retro, heterocycle)",
    "note": "Retrosynthetic Hantzsch: aminothiazole traced to alpha-haloketone + thioamide. Forward uses EtOH/reflux. Very reliable reaction.",
    "prereq": "[c:1]1[c:2][n:5][c:4][s:6]1",
    "rxn": "[c:1]1[c:2][n:5][c:4][s:6]1>>[C:1](=O)[CH2:2][Br,Cl,I].[C:4](=[S:6])[NH2:5]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "J17_pictet_spengler_retro_tetrahydroisoquinoline": {
    "brief": "Retro-Pictet-Spengler: tetrahydroisoquinoline disconnected to beta-arylethylamine + aldehyde. Forward: acid-catalyzed iminium cyclization.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "RCHO/TFA/DCM/rt",
      "RCHO/AcOH/toluene/reflux",
      "RCHO/HCl/MeOH"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Pictet Spengler Tetrahydroisoquinoline (Retro, heterocycle)",
    "note": "Retrosynthetic Pictet-Spengler: tetrahydroisoquinoline traced to beta-phenethylamine + RCHO. Forward: amine + aldehyde -> iminium, intramolecular electrophilic cyclization onto arene. Acid catalyst (TFA, HCl, AcOH). Creates sp3 C1 stereocenter, racemic without chiral catalyst.",
    "prereq": "[c:1]1ccc2[CH2:2][CH2:3][N:4][CH2:5][CH2:6]c2c1",
    "rxn": "[c:1]1ccc2[CH2:2][CH2:3][N:4][CH2:5][CH2:6]c2c1>>[c:1]1cccc([CH2:2][CH2:3][NH2:4])c1.[CH1:5](=O)",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "J17_pictet_spengler_retro_tetrahydroisoquinoline_forward": {
    "brief": "Pictet-Spengler: beta-arylethylamine + aldehyde condense to tetrahydroisoquinoline via acid-catalyzed iminium cyclization. Racemic at C1.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "RCHO/TFA/DCM/rt",
      "RCHO/AcOH/toluene/reflux",
      "RCHO/HCl/MeOH"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Pictet Spengler Tetrahydroisoquinoline (Forward, heterocycle)",
    "note": "Pictet-Spengler: amine + aldehyde -> iminium ion, intramolecular electrophilic aromatic substitution closes 6-membered ring. Acid catalyst (TFA, HCl). Creates sp3 stereocenter at C1, racemic. Enantioselective variants with chiral phosphoric acids (TRIP).",
    "prereq": "[c:1]1cccc([CH2:2][CH2:3][NH2:4])c1.[CH1:5](=O)",
    "rxn": "[c:1]1cccc([CH2:2][CH2:3][NH2:4])c1.[CH1:5](=O)>>[c:1]1ccc2[CH2:2][CH2:3][N:4][CH2:5][CH2:6]c2c1",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "J18_pictet_spengler_retro_tetrahydro_beta_carboline": {
    "brief": "Retro-Pictet-Spengler: tetrahydro-beta-carboline disconnected to tryptamine + aldehyde. Forward: acid-catalyzed iminium cyclization on indole.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "RCHO/TFA/DCM/rt",
      "RCHO/AcOH/MeOH/reflux",
      "RCHO/HCl(cat)/MeOH"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Pictet Spengler Tetrahydro Beta Carboline (Retro, heterocycle)",
    "note": "Retrosynthetic Pictet-Spengler beta-carboline: tetrahydro-beta-carboline traced to tryptamine + RCHO. Forward: amine + aldehyde -> iminium, cyclization onto C2 of indole. Acid catalyst. Creates sp3 C1 stereocenter, racemic. Key step in alkaloid biosynthesis (strictosidine).",
    "prereq": "[c:1]1ccc2c(c1)[CH2:2][CH2:3][N:4][CH2:5][CH2:6]c3[nH:8]c2c3",
    "rxn": "[c:1]1ccc2c(c1)[CH2:2][CH2:3][N:4][CH2:5][CH2:6]c3[nH:8]c2c3>>[c:1]1ccc2[nH:8]cc([CH2:2][CH2:3][NH2:4])c2c1.[CH1:5](=O)",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "J18_pictet_spengler_retro_tetrahydro_beta_carboline_forward": {
    "brief": "Pictet-Spengler: tryptamine + aldehyde condense to tetrahydro-beta-carboline via acid-catalyzed iminium cyclization on indole C2. Racemic at C1.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "RCHO/TFA/DCM/rt",
      "RCHO/AcOH/MeOH/reflux"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Pictet Spengler Tetrahydro Beta Carboline (Forward, heterocycle)",
    "note": "Pictet-Spengler on tryptamine: amine + RCHO -> iminium, intramolecular cyclization onto indole C2. Acid catalyst (TFA, AcOH). Creates sp3 C1 stereocenter, racemic. Biosynthetic route to many indole alkaloids.",
    "prereq": "[c:1]1ccc2[nH:8]cc([CH2:2][CH2:3][NH2:4])c2c1.[CH1:5](=O)",
    "rxn": "[c:1]1ccc2[nH:8]cc([CH2:2][CH2:3][NH2:4])c2c1.[CH1:5](=O)>>[c:1]1ccc2c(c1)[CH2:2][CH2:3][N:4][CH2:5][CH2:6]c3[nH:8]c2c3",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "J19_friedlander_quinoline": {
    "brief": "Friedländer quinoline synthesis: 2-aminobenzaldehyde (or o-aminoaryl carbonyl) + carbonyl compound bearing an α-methylene unit condense/cyclize to quinoline under acid or base catalysis. Template focuses on the net ring construction and is simplified.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "p-TsOH/toluene/reflux",
      "KOH/EtOH/reflux",
      "I2/DMSO/100C"
    ],
    "incompatible_groups": [
      "C(=O)OC(C)(C)C",
      "[O][Si](C)(C)C",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Friedlander Quinoline (Forward, heterocycle)",
    "note": "Friedländer quinoline: condensation of o-aminobenzaldehyde with an α-methylene carbonyl compound gives a dihydroquinoline intermediate, followed by dehydration and aromatization. Acid (p-TsOH) or base (KOH) conditions are common. First-principles drivers: formation of a new C–C bond via enol/enolate addition to an imine/imine-like electrophile, then rearomatization. The SMARTS is a coarse net transformation; regiochemistry and substituent transfer depend on the specific ketone/aldehyde substrate.",
    "prereq": "[c:1]1cc([NH2:2])c([CH1:3]=O)cc1.[#6][C:5](=O)[CH2:4][#6]",
    "rxn": "[c:1]1cc([NH2:2])c([CH1:3]=O)cc1.[#6][C:5](=O)[CH2:4][#6]>>[c:1]1ccc2[n:2][cH:3][c:4][c:5]c2c1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J19_friedlander_quinoline_retro": {
    "brief": "Retro-Friedländer: a quinoline ring can be disconnected to an o-aminobenzaldehyde (or related o-aminoaryl carbonyl) plus an α-methylene carbonyl partner that provides the additional ring carbons. This is a high-level disconnection used in retrosynthesis.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "p-TsOH/toluene/reflux",
      "KOH/EtOH/reflux"
    ],
    "incompatible_groups": [
      "C(=O)OC(C)(C)C",
      "[O][Si](C)(C)C",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Friedlander Quinoline (Retro, heterocycle)",
    "note": "Retrosynthetic Friedländer: treat the quinoline as arising from condensation/cyclodehydration between an o-aminoaryl carbonyl fragment and an α-methylene carbonyl fragment. Forward conditions are typically acid (p-TsOH) or base (KOH). This disconnection is mechanistically grounded in enamine/enolate formation and subsequent dehydration-driven aromatization; exact regiochemistry depends on substrate substitution.",
    "prereq": "[c:1]1ccc2[n:2][cH:3][c:4][c:5]c2c1",
    "rxn": "[c:1]1ccc2[n:2][cH:3][c:4][c:5]c2c1>>[c:1]1cc([NH2:2])c([CH1:3]=O)cc1.[#6][C:5](=O)[CH2:4][#6]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "J20_fischer_indole_forward_placeholder": {
    "brief": "Fischer indole synthesis: aryl hydrazine + ketone/aldehyde → indole via acid-catalyzed rearrangement and rearomatization.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "ZnCl2/AcOH/reflux",
      "p-TsOH/EtOH/reflux",
      "BF3·Et2O/THF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Fischer Indole (Forward, heterocycle)",
    "note": "Alias/duplicate of D11_fischer_indole. Kept in J-series for heterocycle category indexing. Fischer indole synthesis (net): aryl hydrazine + carbonyl compound → indole under acid catalysis. Mechanistic basis: hydrazone formation, tautomerization to an ene-hydrazine, [3,3]-sigmatropic rearrangement, then rearomatization with loss of ammonia. This template is aligned to the established Fischer indole disconnection used in retrosynthesis.",
    "prereq": "[c:1]1[c:2][c:3][c:4]([NH][NH2])c[c:8]1.[C:5](=[O])[C:6][C:7]",
    "rxn": "[c:1]1[c:2][c:3][c:4]([NH][NH2])c[c:8]1.[C:5](=[O])[C:6][C:7]>>[c:1]1[c:2][c:3][c:4]2[nH][c:5][c:6]([c:7])[c:8]2c1",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "J20_fischer_indole_forward_placeholder_retro": {
    "brief": "Retro-Fischer indole: indole disconnected to aryl hydrazine + ketone/aldehyde. Forward: acid-catalyzed rearrangement/rearomatization.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "ZnCl2/AcOH/reflux",
      "p-TsOH/EtOH/reflux",
      "BF3·Et2O/THF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Fischer Indole (Retro, heterocycle)",
    "note": "Alias/duplicate of D11_fischer_indole_retro. Kept in J-series for heterocycle category indexing. Retrosynthetic Fischer indole: trace an indole core to an aryl hydrazine and an aldehyde/ketone partner (via a hydrazone intermediate). Forward reaction is acid-catalyzed and typically gives racemic product when a new stereocenter is formed.",
    "prereq": "[c:1]1[c:2][c:3][c:4]2[nH][c:5][c:6]([c:7])[c:8]2c1",
    "rxn": "[c:1]1[c:2][c:3][c:4]2[nH][c:5][c:6]([c:7])[c:8]2c1>>[c:1]1[c:2][c:3][c:4]([NH][NH2])c[c:8]1.[C:5](=[O])[C:6][C:7]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "J21_nitrone_cycloaddition_isoxazolidine": {
    "brief": "Nitrone 1,3-dipolar [3+2] cycloaddition: nitrone + alkene -> isoxazolidine. Concerted, suprafacial. Creates up to 3 sp3 stereocenters, racemic.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "toluene/reflux",
      "BF3-Et2O/DCM/-20C",
      "ZnBr2/DCM/rt"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Nitrone Cycloaddition Isoxazolidine (Forward, heterocycle)",
    "note": "Nitrone + alkene [3+2]: concerted pericyclic, suprafacial on both components. Endo/exo selectivity. Creates isoxazolidine (5-membered, saturated, N-O bond). Up to 3 new sp3 stereocenters. Racemic without chiral auxiliary/catalyst. Thermal conditions or Lewis acid catalysis. N-O bond cleavable (Zn/AcOH or H2/Pd) for amino alcohol synthesis.",
    "prereq": "[C:1]=[N+:2]([O-:3])[#6:4].[C;!a:5]=[C;!a:6]",
    "rxn": "[C:1]=[N+:2]([O-:3])[#6:4].[C;!a:5]=[C;!a:6]>>[O:3]1[N:2]([#6:4])[C:1][C:5][C:6]1",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "J21_nitrone_cycloaddition_isoxazolidine_retro": {
    "brief": "Retro-nitrone [3+2]: isoxazolidine disconnected to nitrone + alkene. Forward: 1,3-dipolar cycloaddition.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "toluene/reflux",
      "BF3-Et2O/DCM/-20C"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Nitrone Cycloaddition Isoxazolidine (Retro, heterocycle)",
    "note": "Retrosynthetic nitrone [3+2]: isoxazolidine traced to nitrone + alkene. Forward is concerted pericyclic. Racemic at new sp3 centers.",
    "prereq": "[O:3]1[N:2]([#6:4])[C:1][C:5][C:6]1",
    "rxn": "[O:3]1[N:2]([#6:4])[C:1][C:5][C:6]1>>[C:1]=[N+:2]([O-:3])[#6:4].[C:5]=[C:6]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "J22_1_3_dipolar_cycloaddition_nitrile_oxide_isoxazoline": {
    "brief": "Nitrile oxide 1,3-dipolar [3+2] cycloaddition: nitrile oxide (generated in situ from aldoxime or hydroximoyl chloride) + alkene -> isoxazoline (4,5-dihydroisoxazole, non-aromatic).",
    "category": "heterocycle",
    "co_reactant_examples": [
      "Et3N/DCM/0C(from_hydroximoyl_chloride)",
      "NCS/Et3N/DCM(from_aldoxime)",
      "PhNCO/Et3N/toluene"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl"
    ],
    "name": "1 3 Dipolar Cycloaddition Nitrile Oxide Isoxazoline (Forward, heterocycle)",
    "note": "Nitrile oxide + alkene [3+2]: concerted pericyclic. Nitrile oxide generated in situ from hydroximoyl chloride + Et3N, or aldoxime + NCS/Et3N. Regioselective (O attacks terminal C of alkene). Product is isoxazoline (4,5-dihydroisoxazole, NOT aromatic). Mild conditions; compatible with thioethers, free amines, and most functional groups. C4/C5 may become new stereocenters depending on alkene substitution.",
    "prereq": "[C:1](=[NOH])Cl.[C:4]=[C:5]",
    "rxn": "[C:1](=[NOH])Cl.[C:4]=[C:5]>>[O:3]1[N:2]=[C:1][C:4][C:5]1",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "J22_1_3_dipolar_cycloaddition_nitrile_oxide_isoxazoline_retro": {
    "brief": "Retro-nitrile oxide [3+2]: isoxazoline (4,5-dihydroisoxazole) disconnected to nitrile oxide precursor (hydroximoyl chloride) + alkene.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "Et3N/DCM/0C",
      "NCS/Et3N/DCM"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl"
    ],
    "name": "1 3 Dipolar Cycloaddition Nitrile Oxide Isoxazoline (Retro, heterocycle)",
    "note": "Retrosynthetic nitrile oxide [3+2]: isoxazoline traced to nitrile oxide precursor (hydroximoyl chloride) + alkene. Nitrile oxide generated in situ from hydroximoyl chloride + base (Et3N). Mild conditions; compatible with thioethers and free amines.",
    "prereq": "[O:3]1[N:2]=[C:1][C:4][C:5]1",
    "rxn": "[O:3]1[N:2]=[C:1][C:4][C:5]1>>[C:1](=[NOH])Cl.[C:4]=[C:5]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "J23_indole_Larock_retro_placeholder": {
    "brief": "Retro-Larock: substituted indole can be disconnected to an o-haloaniline plus an internal alkyne precursor. Forward: Pd-catalyzed annulation/cyclization.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "Pd(OAc)2/PPh3/base",
      "Pd2(dba)3/ligand/base"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[PX3]",
      "[N-]=[N+]=[N-]"
    ],
    "name": "Larock Indole Annulation (Retro, heterocycle)",
    "note": "Retrosynthetic disconnection based on the Larock indole annulation: indole traced to an o-haloaniline and an internal alkyne. Forward reaction proceeds via Pd(0)/Pd(II) catalysis; strong thiols/phosphines outside the ligand set can poison Pd, and azides can be incompatible with some reducing/metal conditions. Treat incompatible_groups as a practical flag rather than absolute exclusion.",
    "prereq": "[c:1]1ccc2[nH:2][c:3]([#6:5])[c:4]([#6:6])cc2c1",
    "rxn": "[c:1]1ccc2[nH:2][c:3]([#6:5])[c:4]([#6:6])cc2c1>>[c:1]1ccc([NH2:2])cc1[Br,Cl,I:7].[#6:5][C:3]#[C:4][#6:6]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "J23_indole_Larock_retro_placeholder_forward": {
    "brief": "Larock indole annulation (net): o-haloaniline + internal alkyne → substituted indole under Pd catalysis. This SMARTS encodes the key annulation bond construction in a simplified form.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "Pd(OAc)2/PPh3/base",
      "Pd2(dba)3/ligand/base",
      "PdCl2(PPh3)2/Et3N"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[PX3]",
      "[N-]=[N+]=[N-]"
    ],
    "name": "Larock Indole Annulation (Forward, heterocycle)",
    "note": "Larock indole annulation is a Pd-catalyzed coupling/annulation between an o-haloaniline and an internal alkyne to form an indole. First-principles drivers: oxidative addition into Ar–X, alkyne insertion, C–N bond formation, and rearomatization. Regioselectivity depends on alkyne substitution (steric/electronic effects); this template does not encode detailed regiochemical rules. [Retro: see J23_indole_Larock_retro_placeholder]",
    "prereq": "[c:1]1ccc([NH2:2])cc1[Br,Cl,I:7].[#6:5][C:3]#[C:4][#6:6]",
    "rxn": "[c:1]1ccc([NH2:2])cc1[Br,Cl,I:7].[#6:5][C:3]#[C:4][#6:6]>>[c:1]1ccc2[nH:2][c:3]([#6:5])[c:4]([#6:6])cc2c1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J24_benzofuran_retro_placeholder": {
    "brief": "Retro-benzofuran annulation: benzofuran traced to o-halophenol + internal alkyne precursor. Forward: Pd-catalyzed annulation.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "Pd(OAc)2/PPh3/base",
      "Pd2(dba)3/ligand/base"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[PX3]",
      "[N-]=[N+]=[N-]"
    ],
    "name": "Benzofuran Annulation from o-Halophenol + Alkyne (Retro, heterocycle)",
    "note": "Retrosynthetic disconnection based on Pd-catalyzed annulation of o-halophenols with internal alkynes. First-principles: metal-mediated C–C/C–O bond formation followed by rearomatization. This template focuses on core connectivity rather than detailed regioselectivity rules.",
    "prereq": "[c:1]1ccc2[o:2][c:3]([#6:5])[c:4]([#6:6])cc2c1",
    "rxn": "[c:1]1ccc2[o:2][c:3]([#6:5])[c:4]([#6:6])cc2c1>>[c:1]1ccc([OH:2])cc1[Br,Cl,I:7].[#6:5][C:3]#[C:4][#6:6]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "J24_benzofuran_retro_placeholder_forward": {
    "brief": "Pd-catalyzed annulation (Larock-type) of o-halophenols with internal alkynes to form substituted benzofurans. This SMARTS encodes the net annulation in simplified form.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "Pd(OAc)2/PPh3/base",
      "Pd2(dba)3/ligand/base",
      "PdCl2(PPh3)2/Et3N"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[PX3]",
      "[N-]=[N+]=[N-]"
    ],
    "name": "Benzofuran Annulation from o-Halophenol + Alkyne (Forward, heterocycle)",
    "note": "Benzofuran annulation: oxidative addition into Ar–X (o-halophenol), alkyne insertion, then C–O bond formation and rearomatization to benzofuran. Regioselectivity depends on alkyne substitution; this template is a coarse net transformation for retrosynthetic search. [Retro: see J24_benzofuran_retro_placeholder]",
    "prereq": "[c:1]1ccc([OH:2])cc1[Br,Cl,I:7].[#6:5][C:3]#[C:4][#6:6]",
    "rxn": "[c:1]1ccc([OH:2])cc1[Br,Cl,I:7].[#6:5][C:3]#[C:4][#6:6]>>[c:1]1ccc2[o:2][c:3]([#6:5])[c:4]([#6:6])cc2c1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J25_benzothiophene_retro_placeholder": {
    "brief": "Retro-benzothiophene annulation: benzothiophene traced to o-halothiophenol + internal alkyne precursor. Forward: Pd-catalyzed annulation.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "Pd(OAc)2/PPh3/base",
      "Pd2(dba)3/ligand/base"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[PX3]",
      "[N-]=[N+]=[N-]"
    ],
    "name": "Benzothiophene Annulation from o-Halothiophenol + Alkyne (Retro, heterocycle)",
    "note": "Retrosynthetic disconnection based on Pd-catalyzed annulation of o-halothiophenols with internal alkynes. Core first-principles: metal-mediated bond construction and aromatization. This template does not encode detailed regioselectivity.",
    "prereq": "[c:1]1ccc2[s:2][c:3]([#6:5])[c:4]([#6:6])cc2c1",
    "rxn": "[c:1]1ccc2[s:2][c:3]([#6:5])[c:4]([#6:6])cc2c1>>[c:1]1ccc([SH:2])cc1[Br,Cl,I:7].[#6:5][C:3]#[C:4][#6:6]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "J25_benzothiophene_retro_placeholder_forward": {
    "brief": "Pd-catalyzed annulation (Larock-type) of o-halothiophenols with internal alkynes to form substituted benzothiophenes. This SMARTS encodes the net annulation in simplified form.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "Pd(OAc)2/PPh3/base",
      "Pd2(dba)3/ligand/base",
      "PdCl2(PPh3)2/Et3N"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[PX3]",
      "[N-]=[N+]=[N-]"
    ],
    "name": "Benzothiophene Annulation from o-Halothiophenol + Alkyne (Forward, heterocycle)",
    "note": "Benzothiophene annulation: oxidative addition into Ar–X, alkyne insertion, then C–S bond formation and rearomatization. Thiols can bind metals strongly; in practice the thiol is typically deprotonated/activated and conditions are tuned to avoid catalyst poisoning. This template is a coarse net transformation for retrosynthesis. [Retro: see J25_benzothiophene_retro_placeholder]",
    "prereq": "[c:1]1ccc([SH:2])cc1[Br,Cl,I:7].[#6:5][C:3]#[C:4][#6:6]",
    "rxn": "[c:1]1ccc([SH:2])cc1[Br,Cl,I:7].[#6:5][C:3]#[C:4][#6:6]>>[c:1]1ccc2[s:2][c:3]([#6:5])[c:4]([#6:6])cc2c1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J26_morpholine_from_dihalo_diol_placeholder": {
    "brief": "Morpholine can be formed by double SN2 alkylation/ring closure using a 2-haloethyl electrophile (e.g., 1,2-dihaloethane) and an amino alcohol (e.g., ethanolamine). This template encodes the net 6-membered heterocycle closure.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "K2CO3/DMF/80C",
      "NaOH(aq)/reflux",
      "Et3N/MeCN/reflux"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Morpholine From Dihalo Diol (Forward, heterocycle)",
    "note": "Net transformation: ethanolamine (or related 2-aminoethanol) + 1,2-dihaloethane → morpholine via sequential SN2 substitutions (first alkylation followed by intramolecular closure). First-principles constraints: requires good leaving groups (Cl/Br/I), a nucleophilic amine/alkoxide, and conditions that suppress polymerization/over-alkylation (often base and/or high dilution).",
    "prereq": "[NH2:1][CH2:2][CH2:3][OH:4].[Cl,Br,I:5][CH2:6][CH2:7][Cl,Br,I:8]",
    "rxn": "[NH2:1][CH2:2][CH2:3][OH:4].[Cl,Br,I:5][CH2:6][CH2:7][Cl,Br,I:8]>>[N:1]1[CH2:2][CH2:3][O:4][CH2:6][CH2:7]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J26_morpholine_from_dihalo_diol_placeholder_retro": {
    "brief": "Retro-morpholine: morpholine ring can be disconnected to an amino alcohol (2-aminoethanol motif) plus a 1,2-dihaloethane electrophile (Cl/Br/I) used for SN2 closure.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "K2CO3/DMF/80C",
      "NaOH(aq)/reflux",
      "Et3N/MeCN/reflux"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Morpholine From Dihalo Diol (Retro, heterocycle)",
    "note": "Retrosynthetic disconnection: morpholine ← amino alcohol + 1,2-dihaloethane (Cl/Br/I). Forward ring closure proceeds by nucleophilic substitution with base to generate the nucleophiles. Competing pathways include oligomerization and over-alkylation; use as a coarse template.",
    "prereq": "[N:1]1[CH2:2][CH2:3][O:4][CH2:6][CH2:7]1",
    "rxn": "[N:1]1[CH2:2][CH2:3][O:4][CH2:6][CH2:7]1>>[NH2:1][CH2:2][CH2:3][OH:4].[Cl,Br,I:5][CH2:6][CH2:7][Cl,Br,I:8]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "J27_piperazine_from_dihalo_diamine_placeholder": {
    "brief": "Piperazine can be formed by double SN2 alkylation/ring closure using ethylenediamine (or related diamine) and a 1,2-dihaloethane electrophile (Cl/Br/I). This template encodes the net 6-membered diazacycle closure.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "K2CO3/DMF/80C",
      "NaOH(aq)/reflux",
      "Et3N/MeCN/reflux"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Piperazine From Dihalo Diamine (Forward, heterocycle)",
    "note": "Net transformation: ethylenediamine + 1,2-dihaloethane → piperazine via sequential SN2 substitutions (intermolecular alkylation followed by intramolecular closure). First-principles constraints: strong nucleophilicity of amines and good leaving groups are required; competing polymerization/over-alkylation is common, so reaction conditions often use base and high dilution, or protect one nitrogen.",
    "prereq": "[NH2:1][CH2:2][CH2:3][NH2:4].[Cl,Br,I:5][CH2:6][CH2:7][Cl,Br,I:8]",
    "rxn": "[NH2:1][CH2:2][CH2:3][NH2:4].[Cl,Br,I:5][CH2:6][CH2:7][Cl,Br,I:8]>>[N:1]1[CH2:2][CH2:3][N:4][CH2:6][CH2:7]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J27_piperazine_from_dihalo_diamine_placeholder_retro": {
    "brief": "Retro-piperazine: piperazine ring can be disconnected to ethylenediamine plus a 1,2-dihaloethane electrophile used for SN2 closure (Cl/Br/I).",
    "category": "heterocycle",
    "co_reactant_examples": [
      "K2CO3/DMF/80C",
      "NaOH(aq)/reflux",
      "Et3N/MeCN/reflux"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Piperazine From Dihalo Diamine (Retro, heterocycle)",
    "note": "Retrosynthetic disconnection: piperazine ← ethylenediamine + 1,2-dihaloethane. Forward ring closure is SN2-driven and often competes with oligomerization; use as a coarse template and consider protecting-group strategies for selectivity.",
    "prereq": "[N:1]1[CH2:2][CH2:3][N:4][CH2:6][CH2:7]1",
    "rxn": "[N:1]1[CH2:2][CH2:3][N:4][CH2:6][CH2:7]1>>[NH2:1][CH2:2][CH2:3][NH2:4].[Cl,Br,I:5][CH2:6][CH2:7][Cl,Br,I:8]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "J28_imidazoline_from_ethylenediamine_aldehyde": {
    "brief": "Imidazoline synthesis: ethylenediamine + aldehyde condense to 2-substituted 4,5-dihydro-1H-imidazole (imidazoline). Acid-catalyzed cyclization. C2 is sp2 (N=C-N), no new stereocenter.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "AcOH/toluene/reflux/Dean-Stark",
      "p-TsOH/xylene/reflux",
      "I2/K2CO3/MeOH(oxidative)"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Imidazoline From Ethylenediamine Aldehyde (Forward, heterocycle)",
    "note": "Imidazoline: H2NCH2CH2NH2 + RCHO -> Schiff base, then intramolecular cyclization -> 4,5-dihydro-1H-imidazole (imidazoline). Oxidation (MnO2, DDQ) can give aromatic imidazole. C2 is sp2 (amidine C=N), no stereocenter at C2. Acid catalyst (AcOH, p-TsOH). Compatible with free amines (substrate itself contains NH2).",
    "prereq": "[NH2:1][CH2:2][CH2:3][NH2:4].[CH1:5](=[O:6])[#6:7]",
    "rxn": "[NH2:1][CH2:2][CH2:3][NH2:4].[CH1:5](=[O])[#6:7]>>[N:1]1[CH2:2][CH2:3][N:4]=[C:5]1[#6:7]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J28_imidazoline_from_ethylenediamine_aldehyde_retro": {
    "brief": "Retro-imidazoline: imidazoline disconnected to ethylenediamine + aldehyde. Forward: acid-catalyzed condensation/cyclization. C2 is sp2, no stereocenter.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "AcOH/toluene/reflux",
      "p-TsOH/xylene/reflux"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Imidazoline From Ethylenediamine Aldehyde (Retro, heterocycle)",
    "note": "Retrosynthetic imidazoline: 2-substituted imidazoline traced to H2NCH2CH2NH2 + RCHO. Forward uses acid catalyst. C2 is sp2 (amidine), no stereocenter.",
    "prereq": "[N:1]1[CH2:2][CH2:3][N:4]=[C:5]1[#6:7]",
    "rxn": "[N:1]1[CH2:2][CH2:3][N:4]=[C:5]1[#6:7]>>[NH2:1][CH2:2][CH2:3][NH2:4].[CH1:5](=[O])[#6:7]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "J29_oxazolidine_from_amino_alcohol_aldehyde": {
    "brief": "Oxazolidine synthesis: 1,2-amino alcohol + aldehyde condense to oxazolidine. Acid-catalyzed hemiaminal/hemiacetal cyclization. Creates sp3 C2, racemic.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "RCHO/4A_MS/DCM/rt",
      "RCHO/p-TsOH/toluene/Dean-Stark",
      "RCHO/MgSO4/Et2O"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Oxazolidine From Amino Alcohol Aldehyde (Forward, heterocycle)",
    "note": "Oxazolidine: H2NCH2CH2OH + RCHO -> hemiaminal, intramolecular cyclization with OH -> oxazolidine (5-membered, N and O in ring). Reversible, equilibrium favored by water removal (Dean-Stark, molecular sieves). C2 is sp3 (N-CHR-O), racemic. Used as protecting group for 1,2-amino alcohols. Compatible with free amines (substrate itself contains NH2).",
    "prereq": "[NH2:1][CH2:2][CH2:3][OH:4].[CH1:5](=[O:6])[#6:7]",
    "rxn": "[NH2:1][CH2:2][CH2:3][OH:4].[CH1:5](=[O])[#6:7]>>[N:1]1[CH2:2][CH2:3][O:4][CH1:5]1[#6:7]",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "J29_oxazolidine_from_amino_alcohol_aldehyde_retro": {
    "brief": "Retro-oxazolidine: oxazolidine disconnected to amino alcohol + aldehyde. Forward: acid-catalyzed condensation.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "RCHO/4A_MS/DCM",
      "RCHO/p-TsOH/toluene/Dean-Stark"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Oxazolidine From Amino Alcohol Aldehyde (Retro, heterocycle)",
    "note": "Retrosynthetic oxazolidine: oxazolidine traced to H2NCH2CH2OH + RCHO. Reversible reaction, water removal drives equilibrium. Racemic at C2.",
    "prereq": "[N:1]1[CH2:2][CH2:3][O:4][CH1:5]1[#6:7]",
    "rxn": "[N:1]1[CH2:2][CH2:3][O:4][CH1:5]1[#6:7]>>[NH2:1][CH2:2][CH2:3][OH:4].[CH1:5](=[O])[#6:7]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "J30_thiazolidine_from_cysteamine_aldehyde": {
    "brief": "Thiazolidine synthesis: cysteamine (HSCH2CH2NH2) + aldehyde condense to thiazolidine. Thiol attacks aldehyde, then intramolecular cyclization. Creates sp3 C2, racemic.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "RCHO/MeOH/rt",
      "RCHO/AcOH/H2O/rt",
      "RCHO/4A_MS/DCM"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl"
    ],
    "name": "Thiazolidine From Cysteamine Aldehyde (Forward, heterocycle)",
    "note": "Thiazolidine: HSCH2CH2NH2 + RCHO -> thiol attacks aldehyde forming hemithioacetal, then amine cyclizes -> thiazolidine (5-membered, S and N in ring). Reversible. C2 is sp3 (S-CHR-N), racemic. Cysteine + aldehyde also gives thiazolidine (used in protein chemistry). Mild conditions. Compatible with free amines and thioethers (substrate itself contains SH and NH2).",
    "prereq": "[SH:1][CH2:2][CH2:3][NH2:4].[CH1:5](=[O:6])[#6:7]",
    "rxn": "[SH:1][CH2:2][CH2:3][NH2:4].[CH1:5](=[O])[#6:7]>>[S:1]1[CH2:2][CH2:3][N:4][CH1:5]1[#6:7]",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "J30_thiazolidine_from_cysteamine_aldehyde_retro": {
    "brief": "Retro-thiazolidine: thiazolidine disconnected to cysteamine + aldehyde. Forward: condensation/cyclization.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "RCHO/MeOH/rt",
      "RCHO/AcOH/H2O"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl"
    ],
    "name": "Thiazolidine From Cysteamine Aldehyde (Retro, heterocycle)",
    "note": "Retrosynthetic thiazolidine: thiazolidine traced to HSCH2CH2NH2 + RCHO. Reversible reaction. Racemic at C2.",
    "prereq": "[S:1]1[CH2:2][CH2:3][N:4][CH1:5]1[#6:7]",
    "rxn": "[S:1]1[CH2:2][CH2:3][N:4][CH1:5]1[#6:7]>>[SH:1][CH2:2][CH2:3][NH2:4].[CH1:5](=[O])[#6:7]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "J31_oxadiazole_from_acylhydrazide_acyl_chloride": {
    "brief": "1,3,4-Oxadiazole synthesis: acylhydrazide + acyl chloride -> diacylhydrazide, then cyclodehydration (POCl3, P2O5, or SOCl2) to 1,3,4-oxadiazole. Aromatic product.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "R'COCl/pyridine_then_POCl3/reflux",
      "R'COCl/Et3N/DCM_then_P2O5/xylene",
      "Burgess_reagent/THF/reflux"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[OX2r3]"
    ],
    "name": "Oxadiazole From Acylhydrazide Acyl Chloride (Forward, heterocycle)",
    "note": "1,3,4-Oxadiazole: RCONHNH2 + R'COCl -> RCONHNHCOR' (diacylhydrazide), then cyclodehydration with POCl3, P2O5, or Burgess reagent -> 2,5-disubstituted 1,3,4-oxadiazole. Aromatic product. Alternative: direct from RCONHNH2 + RCOOH with coupling agent. Compatible with acylhydrazide NH-NH2 (substrate itself). Epoxides may open under POCl3/P2O5 conditions.",
    "prereq": "[C:1](=[O:2])[NH:3][NH2:4].[C:5](=[O:6])Cl",
    "rxn": "[C:1](=[O:2])[NH:3][NH2:4].[C:5](=[O])Cl>>[n:3]1[o:2][n:4][c:1][c:5]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J31_oxadiazole_from_acylhydrazide_acyl_chloride_retro": {
    "brief": "Retro-1,3,4-oxadiazole: oxadiazole disconnected to acylhydrazide + acyl chloride. Forward: acylation then cyclodehydration.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "R'COCl/pyridine_then_POCl3",
      "R'COCl/Et3N_then_P2O5"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[OX2r3]"
    ],
    "name": "Oxadiazole From Acylhydrazide Acyl Chloride (Retro, heterocycle)",
    "note": "Retrosynthetic 1,3,4-oxadiazole: 2,5-disubstituted oxadiazole traced to RCONHNH2 + R'COCl. Forward uses POCl3 or P2O5 for cyclodehydration. Epoxides may open under these conditions.",
    "prereq": "[n:3]1[o:2][n:4][c:1][c:5]1",
    "rxn": "[n:3]1[o:2][n:4][c:1][c:5]1>>[C:1](=[O:2])[NH:3][NH2:4].[C:5](=[O])Cl",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "J32_aziridine_from_2_haloethylamine": {
    "brief": "Aziridine synthesis: 2-haloethylamine undergoes intramolecular SN2 ring closure under base. 3-membered N-heterocycle. Inversion at electrophilic carbon.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "NaOH(aq)/0C",
      "K2CO3/MeCN/rt",
      "Et3N/DCM/0C"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Aziridine From 2 Haloethylamine (Forward, heterocycle)",
    "note": "Aziridine from 2-haloethylamine: base (NaOH, K2CO3, Et3N) deprotonates amine, nitrogen attacks beta-carbon displacing halide via intramolecular SN2. 3-exo-tet (Baldwin-favorable). Inversion at carbon bearing halide. Strained 3-membered ring. Alternative: from epoxide + amine (Wenker synthesis).",
    "prereq": "[NH2:1][CH2:2][CH2:3][Br,Cl,I:4]",
    "rxn": "[NH2:1][CH2:2][CH2:3][Br,Cl,I]>>[N:1]1[CH2:2][CH2:3]1",
    "stereo_policy": "inversion",
    "type": "forward"
  },
  "J32_aziridine_from_2_haloethylamine_retro": {
    "brief": "Retro-aziridine: aziridine disconnected to 2-haloethylamine. Forward: base-mediated intramolecular SN2 ring closure with inversion.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "NaOH(aq)/0C",
      "K2CO3/MeCN/rt"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Aziridine From 2 Haloethylamine (Retro, heterocycle)",
    "note": "Retrosynthetic aziridine: aziridine traced to 2-haloethylamine. Forward uses base (NaOH, K2CO3). SN2 inversion at electrophilic carbon.",
    "prereq": "[N:1]1[CH2:2][CH2:3]1",
    "rxn": "[N:1]1[CH2:2][CH2:3]1>>[NH2:1][CH2:2][CH2:3][Br,Cl,I]",
    "stereo_policy": "inversion",
    "type": "retro"
  },
  "J33_azetidine_from_3_halo_propylamine": {
    "brief": "Azetidine synthesis: 3-halopropylamine undergoes intramolecular SN2 ring closure under base. 4-membered N-heterocycle. Inversion at electrophilic carbon.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "NaOH(aq)/reflux",
      "K2CO3/MeCN/80C",
      "Et3N/DMF/60C"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Azetidine From 3 Halo Propylamine (Forward, heterocycle)",
    "note": "Azetidine from 3-halopropylamine: base deprotonates amine, nitrogen attacks gamma-carbon displacing halide via intramolecular SN2. 4-exo-tet (Baldwin-favorable). Inversion at carbon bearing halide. Strained 4-membered ring, slower than aziridine formation. Compatible with free amines (substrate itself contains NH2).",
    "prereq": "[NH2:1][CH2:2][CH2:3][CH2:4][Br,Cl,I:5]",
    "rxn": "[NH2:1][CH2:2][CH2:3][CH2:4][Br,Cl,I]>>[N:1]1[CH2:2][CH2:3][CH2:4]1",
    "stereo_policy": "inversion",
    "type": "forward"
  },
  "J33_azetidine_from_3_halo_propylamine_retro": {
    "brief": "Retro-azetidine: azetidine disconnected to 3-halopropylamine. Forward: base-mediated intramolecular SN2 with inversion.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "NaOH(aq)/reflux",
      "K2CO3/MeCN/80C"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Azetidine From 3 Halo Propylamine (Retro, heterocycle)",
    "note": "Retrosynthetic azetidine: azetidine traced to 3-halopropylamine. Forward uses base. SN2 inversion.",
    "prereq": "[N:1]1[CH2:2][CH2:3][CH2:4]1",
    "rxn": "[N:1]1[CH2:2][CH2:3][CH2:4]1>>[NH2:1][CH2:2][CH2:3][CH2:4][Br,Cl,I]",
    "stereo_policy": "inversion",
    "type": "retro"
  },
  "J34_oxetane_from_3_halo_propanol": {
    "brief": "Oxetane synthesis: 3-halopropanol undergoes intramolecular SN2 ring closure under base. 4-membered O-heterocycle. Inversion at electrophilic carbon.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "NaH/THF/reflux",
      "KOtBu/THF/0C_to_rt",
      "NaOH(aq)/reflux"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[CX3](=[OX1])[OX2][#6]"
    ],
    "name": "Oxetane From 3 Halo Propanol (Forward, heterocycle)",
    "note": "Oxetane from 3-halopropanol: base (NaH, KOtBu, NaOH) deprotonates alcohol, alkoxide attacks gamma-carbon displacing halide via intramolecular SN2. 4-exo-tet (Baldwin-favorable). Inversion at carbon bearing halide. Strained 4-membered ring. Paterno-Buchi [2+2] is alternative route. NaH/KOtBu are strong bases: acyl chlorides and esters may be attacked. Thioethers and free amines are generally compatible.",
    "prereq": "[OH:1][CH2:2][CH2:3][CH2:4][Br,Cl,I:5]",
    "rxn": "[OH:1][CH2:2][CH2:3][CH2:4][Br,Cl,I]>>[O:1]1[CH2:2][CH2:3][CH2:4]1",
    "stereo_policy": "inversion",
    "type": "forward"
  },
  "J34_oxetane_from_3_halo_propanol_retro": {
    "brief": "Retro-oxetane: oxetane disconnected to 3-halopropanol. Forward: base-mediated intramolecular SN2 with inversion.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "NaH/THF/reflux",
      "KOtBu/THF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[CX3](=[OX1])[OX2][#6]"
    ],
    "name": "Oxetane From 3 Halo Propanol (Retro, heterocycle)",
    "note": "Retrosynthetic oxetane: oxetane traced to 3-halopropanol. Forward uses NaH or KOtBu. SN2 inversion. Strong base conditions: acyl chlorides and esters incompatible.",
    "prereq": "[O:1]1[CH2:2][CH2:3][CH2:4]1",
    "rxn": "[O:1]1[CH2:2][CH2:3][CH2:4]1>>[OH:1][CH2:2][CH2:3][CH2:4][Br,Cl,I]",
    "stereo_policy": "inversion",
    "type": "retro"
  },
  "J35_5_exo_dig_cyclization_homopropargyl_alcohol_to_dihydrofuran": {
    "brief": "5-exo-dig cyclization: homopropargyl alcohol (HOCH2CH2C≡CR) cyclizes to 2,3-dihydrofuran under Au(I)/Ag(I)/Pt(II) catalysis. Baldwin-favorable. No new sp3 stereocenter.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "AuCl3/DCM/rt",
      "AgOTf/DCE/60C",
      "PtCl2/toluene/80C"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "5 Exo Dig Cyclization Homopropargyl Alcohol To Dihydrofuran (Forward, heterocycle)",
    "note": "5-exo-dig: OH attacks proximal alkyne carbon activated by Lewis acid (AuCl3, AgOTf, PtCl2). Baldwin-favorable. Product is 2,3-dihydrofuran (enol ether). No new sp3 stereocenter created (C=C in product). Substrate is homopropargyl alcohol (HOCH2CH2C≡CR, two CH2 between OH and alkyne). Thioethers and free amines may coordinate and poison Au/Ag/Pt catalysts.",
    "prereq": "[OH:1][CH2:2][CH2:3][C:4]#[C:5]",
    "rxn": "[OH:1][CH2:2][CH2:3][C:4]#[C:5]>>[O:1]1[CH2:2][CH2:3][C:4]=[C:5]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J35_5_exo_dig_cyclization_homopropargyl_alcohol_to_dihydrofuran_retro": {
    "brief": "Retro-5-exo-dig: dihydrofuran disconnected to homopropargyl alcohol (HOCH2CH2C≡CR). Forward: Au(I)/Ag(I)-catalyzed cyclization.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "AuCl3/DCM/rt",
      "AgOTf/DCE/60C"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "5 Exo Dig Cyclization Homopropargyl Alcohol To Dihydrofuran (Retro, heterocycle)",
    "note": "Retrosynthetic 5-exo-dig: dihydrofuran traced to homopropargyl alcohol HOCH2CH2C≡CR. Forward uses Au(I) or Ag(I) catalyst. Thioethers and free amines may poison catalyst.",
    "prereq": "[O:1]1[CH2:2][CH2:3][C:4]=[C:5]1",
    "rxn": "[O:1]1[CH2:2][CH2:3][C:4]=[C:5]1>>[OH:1][CH2:2][CH2:3][C:4]#[C:5]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "J36_6_endo_dig_cyclization_bishomopropargyl_alcohol_to_dihydropyran": {
    "brief": "6-endo-dig cyclization: bis-homopropargyl alcohol (HOCH2CH2CH2C≡CR) cyclizes to 3,4-dihydro-2H-pyran under Au(I)/Ag(I)/Pt(II) catalysis. Baldwin-favorable.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "AuCl3/DCM/rt",
      "AgOTf/DCE/60C",
      "PtCl2/toluene/80C"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "6 Endo Dig Cyclization Bis-homopropargyl Alcohol To Dihydropyran (Forward, heterocycle)",
    "note": "6-endo-dig: OH attacks distal alkyne carbon activated by Lewis acid (AuCl3, AgOTf, PtCl2). Baldwin-favorable. Product is dihydropyran (enol ether). No new sp3 stereocenter created. Substrate is bis-homopropargyl alcohol (HOCH2CH2CH2C≡CR, three CH2 between OH and alkyne). Thioethers and free amines may coordinate and poison Au/Ag/Pt catalysts.",
    "prereq": "[OH:1][CH2:2][CH2:3][CH2:4][C:5]#[C:6]",
    "rxn": "[OH:1][CH2:2][CH2:3][CH2:4][C:5]#[C:6]>>[O:1]1[CH2:2][CH2:3][CH2:4][C:5]=[C:6]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J36_6_endo_dig_cyclization_bishomopropargyl_alcohol_to_dihydropyran_retro": {
    "brief": "Retro-6-endo-dig: dihydropyran disconnected to bis-homopropargyl alcohol (HOCH2CH2CH2C≡CR). Forward: Au(I)/Ag(I)-catalyzed cyclization.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "AuCl3/DCM/rt",
      "AgOTf/DCE/60C"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "6 Endo Dig Cyclization Bis-homopropargyl Alcohol To Dihydropyran (Retro, heterocycle)",
    "note": "Retrosynthetic 6-endo-dig: dihydropyran traced to bis-homopropargyl alcohol HOCH2CH2CH2C≡CR. Forward uses Au(I) or Ag(I) catalyst. Thioethers and free amines may poison catalyst.",
    "prereq": "[O:1]1[CH2:2][CH2:3][CH2:4][C:5]=[C:6]1",
    "rxn": "[O:1]1[CH2:2][CH2:3][CH2:4][C:5]=[C:6]1>>[OH:1][CH2:2][CH2:3][CH2:4][C:5]#[C:6]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "J37_nitrile_imine_cycloaddition_pyrazole_like": {
    "brief": "Nitrile imine 1,3-dipolar [3+2] cycloaddition: hydrazonoyl chloride (nitrile imine precursor) + alkene -> pyrazoline, then oxidation to pyrazole. Two-step net transformation to aromatic product.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "Et3N/DCM/rt(from_hydrazonoyl_chloride)",
      "Et3N/toluene/reflux",
      "Ag2CO3/DCM(from_hydrazonoyl_chloride)"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl"
    ],
    "name": "Nitrile Imine Cycloaddition Pyrazole Like (Forward, heterocycle)",
    "note": "Nitrile imine + alkene [3+2]: nitrile imine (generated in situ from hydrazonoyl chloride + Et3N) undergoes concerted [3+2] with alkene -> pyrazoline (4,5-dihydropyrazole). Oxidation (DDQ, air) -> aromatic pyrazole. This template encodes the net two-step transformation (cycloaddition + oxidation). Regioselective. Mild conditions; compatible with thioethers and free amines. Acyl chlorides react with Et3N base.",
    "prereq": "[C:1](=[NNH])Cl.[C:4]=[C:5]",
    "rxn": "[C:1](=[NNH])Cl.[C:4]=[C:5]>>[n:2]1[n:3][c:1][c:4][c:5]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J37_nitrile_imine_cycloaddition_pyrazole_like_retro": {
    "brief": "Retro-nitrile imine [3+2]: pyrazole disconnected to hydrazonoyl chloride (nitrile imine precursor) + alkene. Forward: 1,3-dipolar cycloaddition then oxidation.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "Et3N/DCM/rt",
      "Et3N/toluene/reflux"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl"
    ],
    "name": "Nitrile Imine Cycloaddition Pyrazole Like (Retro, heterocycle)",
    "note": "Retrosynthetic nitrile imine [3+2]: pyrazole traced to hydrazonoyl chloride (nitrile imine precursor) + alkene. Nitrile imine generated in situ from hydrazonoyl chloride + base (Et3N). Mild conditions; compatible with thioethers and free amines.",
    "prereq": "[n:2]1[n:3][c:1][c:4][c:5]1",
    "rxn": "[n:2]1[n:3][c:1][c:4][c:5]1>>[C:1](=[NNH])Cl.[C:4]=[C:5]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "J38_benzimidazole_from_o_phenylenediamine_aldehyde": {
    "brief": "Benzimidazole synthesis: o-phenylenediamine + aldehyde condense then oxidative cyclization to benzimidazole. Aromatic product.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "RCHO/Na2S2O5/DMF/rt",
      "RCHO/DDQ/MeOH/rt",
      "RCHO/oxone/H2O-DMF"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Benzimidazole From O Phenylenediamine Aldehyde (Forward, heterocycle)",
    "note": "Benzimidazole: o-phenylenediamine + RCHO -> Schiff base, then cyclization/oxidation -> 2-substituted benzimidazole. Oxidants: air, DDQ, Na2S2O5, or oxone. Acid catalyst (AcOH, p-TsOH). Product is aromatic. Widely used in medicinal chemistry (omeprazole core). Compatible with free amines (substrate itself contains NH2).",
    "prereq": "[NH2:1]c1ccccc1[NH2:2].[CH1:3](=[O:5])[#6:4]",
    "rxn": "[NH2:1]c1ccccc1[NH2:2].[CH1:3](=[O])[#6:4]>>[n:1]1c2ccccc2[n:2][c:3]1[#6:4]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J38_benzimidazole_from_o_phenylenediamine_aldehyde_retro": {
    "brief": "Retro-benzimidazole: benzimidazole disconnected to o-phenylenediamine + aldehyde. Forward: condensation/oxidative cyclization.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "RCHO/Na2S2O5/DMF",
      "RCHO/DDQ/MeOH"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Benzimidazole From O Phenylenediamine Aldehyde (Retro, heterocycle)",
    "note": "Retrosynthetic benzimidazole: 2-substituted benzimidazole traced to o-phenylenediamine + RCHO. Forward uses oxidant (Na2S2O5, DDQ).",
    "prereq": "[n:1]1c2ccccc2[n:2][c:3]1[#6:4]",
    "rxn": "[n:1]1c2ccccc2[n:2][c:3]1[#6:4]>>[NH2:1]c1ccccc1[NH2:2].[CH1:3](=[O])[#6:4]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "J39_benzoxazole_from_o_aminophenol_aldehyde": {
    "brief": "Benzoxazole synthesis: o-aminophenol + aldehyde condense then oxidative cyclization to benzoxazole. Aromatic product.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "RCHO/DDQ/MeOH/rt",
      "RCHO/PhI(OAc)2/MeOH",
      "RCHO/p-TsOH/toluene/reflux_then_DDQ"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Benzoxazole From O Aminophenol Aldehyde (Forward, heterocycle)",
    "note": "Benzoxazole: o-aminophenol + RCHO -> Schiff base, then cyclization/oxidation -> 2-substituted benzoxazole. Oxidants: DDQ, air, PhI(OAc)2. Acid or oxidant promotes ring closure. Product is aromatic. Compatible with free amines (substrate itself contains NH2).",
    "prereq": "[NH2:1]c1ccccc1[OH:2].[CH1:3](=[O:5])[#6:4]",
    "rxn": "[NH2:1]c1ccccc1[OH:2].[CH1:3](=[O])[#6:4]>>[o:2]1c2ccccc2[n:1][c:3]1[#6:4]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J39_benzoxazole_from_o_aminophenol_aldehyde_retro": {
    "brief": "Retro-benzoxazole: benzoxazole disconnected to o-aminophenol + aldehyde. Forward: condensation/oxidative cyclization.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "RCHO/DDQ/MeOH",
      "RCHO/PhI(OAc)2/MeOH"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Benzoxazole From O Aminophenol Aldehyde (Retro, heterocycle)",
    "note": "Retrosynthetic benzoxazole: 2-substituted benzoxazole traced to o-aminophenol + RCHO. Forward uses DDQ or PhI(OAc)2.",
    "prereq": "[o:2]1c2ccccc2[n:1][c:3]1[#6:4]",
    "rxn": "[o:2]1c2ccccc2[n:1][c:3]1[#6:4]>>[NH2:1]c1ccccc1[OH:2].[CH1:3](=[O])[#6:4]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "J40_benzothiazole_from_o_aminothiophenol_aldehyde": {
    "brief": "Benzothiazole synthesis: o-aminothiophenol + aldehyde condense then oxidative cyclization to benzothiazole. Aromatic product.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "RCHO/DDQ/MeOH/rt",
      "RCHO/H2O2/EtOH",
      "RCHO/air/DMSO/100C"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl"
    ],
    "name": "Benzothiazole From O Aminothiophenol Aldehyde (Forward, heterocycle)",
    "note": "Benzothiazole: o-aminothiophenol + RCHO -> thiol attacks aldehyde or amine forms Schiff base, then cyclization/oxidation -> 2-substituted benzothiazole. Oxidants: DDQ, air, H2O2. Thiol is good nucleophile, reaction often spontaneous. Product is aromatic. Compatible with free amines and thioethers (substrate itself contains SH and NH2).",
    "prereq": "[NH2:1]c1ccccc1[SH:2].[CH1:3](=[O:5])[#6:4]",
    "rxn": "[NH2:1]c1ccccc1[SH:2].[CH1:3](=[O])[#6:4]>>[s:2]1c2ccccc2[n:1][c:3]1[#6:4]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J40_benzothiazole_from_o_aminothiophenol_aldehyde_retro": {
    "brief": "Retro-benzothiazole: benzothiazole disconnected to o-aminothiophenol + aldehyde. Forward: condensation/oxidative cyclization.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "RCHO/DDQ/MeOH",
      "RCHO/air/DMSO"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl"
    ],
    "name": "Benzothiazole From O Aminothiophenol Aldehyde (Retro, heterocycle)",
    "note": "Retrosynthetic benzothiazole: 2-substituted benzothiazole traced to o-aminothiophenol + RCHO. Forward uses DDQ or air oxidation.",
    "prereq": "[s:2]1c2ccccc2[n:1][c:3]1[#6:4]",
    "rxn": "[s:2]1c2ccccc2[n:1][c:3]1[#6:4]>>[NH2:1]c1ccccc1[SH:2].[CH1:3](=[O])[#6:4]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "J41_quinoxaline_from_o_phenylenediamine_glyoxal": {
    "brief": "Quinoxaline synthesis: o-phenylenediamine + 1,2-dicarbonyl (glyoxal) condense to quinoxaline. Double condensation/dehydration. Aromatic product.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "glyoxal/EtOH/rt",
      "1,2-diketone/AcOH/rt",
      "phenylglyoxal/EtOH/reflux"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Quinoxaline From O Phenylenediamine Glyoxal (Forward, heterocycle)",
    "note": "Quinoxaline: o-phenylenediamine + glyoxal (or 1,2-diketone) -> double condensation/dehydration -> quinoxaline. Very facile reaction, often spontaneous at rt in EtOH. Product is aromatic. Unsymmetrical 1,2-diketones may give regioisomers. Compatible with free amines (substrate itself contains NH2).",
    "prereq": "[NH2:1]c1ccccc1[NH2:2].[O:3]=[C:4][C:5]=[O:6]",
    "rxn": "[NH2:1]c1ccccc1[NH2:2].[O]=[C:4][C:5]=[O]>>[n:1]1c2ccccc2[n:2][c:4][c:5]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J41_quinoxaline_from_o_phenylenediamine_glyoxal_retro": {
    "brief": "Retro-quinoxaline: quinoxaline disconnected to o-phenylenediamine + 1,2-dicarbonyl. Forward: double condensation.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "glyoxal/EtOH/rt",
      "1,2-diketone/AcOH"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Quinoxaline From O Phenylenediamine Glyoxal (Retro, heterocycle)",
    "note": "Retrosynthetic quinoxaline: quinoxaline traced to o-phenylenediamine + glyoxal/1,2-diketone. Very facile forward reaction.",
    "prereq": "[n:1]1c2ccccc2[n:2][c:4][c:5]1",
    "rxn": "[n:1]1c2ccccc2[n:2][c:4][c:5]1>>[NH2:1]c1ccccc1[NH2:2].[O]=[C:4][C:5]=[O]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "J42_carbazole_retro_placeholder": {
    "brief": "Retro-carbazole: carbazole core disconnected to an o-aminobiphenyl precursor suitable for intramolecular C–N bond formation.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "Pd(OAc)2/Cu(OAc)2/AcOH/120C",
      "Pd(OAc)2/K2CO3/DMA/130C",
      "hv/I2/cyclohexane(photocyclization)"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Carbazole Formation via Intramolecular C–N Coupling (Retro, heterocycle)",
    "note": "Retrosynthetic disconnection: carbazole traced to an o-aminobiphenyl (or related) precursor that can cyclize via intramolecular C–N coupling/cyclodehydrogenation. Forward realization typically uses Pd-catalyzed aryl amination when an aryl halide is present or oxidative protocols for direct C–H/N–H coupling; this is a coarse connectivity-level disconnection.",
    "prereq": "[c:1]1ccc2c(c1)[nH:2]c3ccccc23",
    "rxn": "[c:1]1ccc2c(c1)[nH:2]c3ccccc23>>[c:1]1ccc(cc1)c2ccccc2[NH2:2]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "J42_carbazole_retro_placeholder_forward": {
    "brief": "Carbazole synthesis (net): intramolecular C–N coupling/cyclodehydrogenation of 2-aminobiphenyl (or related) to form a carbazole core (often via Pd/Buchwald or oxidative methods).",
    "category": "heterocycle",
    "co_reactant_examples": [
      "Pd(OAc)2/Cu(OAc)2/AcOH/120C",
      "Pd(OAc)2/K2CO3/DMA/130C"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Carbazole Formation via Intramolecular C–N Coupling (Forward, heterocycle)",
    "note": "Carbazole formation can proceed via intramolecular aryl amination (Buchwald–Hartwig) when an aryl halide is present, or via oxidative C–N cyclodehydrogenation for suitably activated biaryls. First-principles: formation of an aryl–N bond and rearomatization. This template encodes the net connectivity change between carbazole and an o-aminobiphenyl precursor. [Retro: see J42_carbazole_retro_placeholder]",
    "prereq": "[c:1]1ccc(cc1)c2ccccc2[NH2:2]",
    "rxn": "[c:1]1ccc(cc1)c2ccccc2[NH2:2]>>[c:1]1ccc2c(c1)[nH:2]c3ccccc23",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J43_quinazolinone_from_o_aminobenzamide_aldehyde": {
    "brief": "Quinazolinone synthesis: anthranilamide (o-aminobenzamide) + aldehyde condense then oxidative cyclization to 2-substituted quinazolin-4(3H)-one. Aromatic product.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "RCHO/DDQ/EtOH/reflux",
      "RCHO/p-TsOH/toluene/reflux_then_MnO2",
      "RCHO/I2/DMSO/100C"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Quinazolinone From O Aminobenzamide Aldehyde (Forward, heterocycle)",
    "note": "Quinazolinone: anthranilamide + RCHO -> Schiff base on NH2, then intramolecular cyclization of amide NH onto imine C, oxidation -> quinazolinone. Oxidants: DDQ, MnO2, air. Product is aromatic. Important pharmacophore (methaqualone). Compatible with free amines (substrate itself contains NH2).",
    "prereq": "[NH2:1]c1ccccc1[C:2](=O)[NH2:3].[CH1:4](=[O:6])[#6:5]",
    "rxn": "[NH2:1]c1ccccc1[C:2](=O)[NH2:3].[CH1:4](=[O])[#6:5]>>[n:1]1c2ccccc2[n:3][c:2](=O)[c:4]1[#6:5]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J43_quinazolinone_from_o_aminobenzamide_aldehyde_retro": {
    "brief": "Retro-quinazolinone: quinazolinone disconnected to anthranilamide + aldehyde. Forward: condensation/oxidative cyclization.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "RCHO/DDQ/EtOH",
      "RCHO/I2/DMSO"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Quinazolinone From O Aminobenzamide Aldehyde (Retro, heterocycle)",
    "note": "Retrosynthetic quinazolinone: 2-substituted quinazolin-4(3H)-one traced to anthranilamide + RCHO. Forward uses DDQ or MnO2 oxidation.",
    "prereq": "[n:1]1c2ccccc2[n:3][c:2](=O)[c:4]1[#6:5]",
    "rxn": "[n:1]1c2ccccc2[n:3][c:2](=O)[c:4]1[#6:5]>>[NH2:1]c1ccccc1[C:2](=O)[NH2:3].[CH1:4](=[O])[#6:5]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "J44_povarov_retro_tetrahydroquinoline_placeholder": {
    "brief": "Retro-Povarov: tetrahydroquinoline disconnected to aniline + aldehyde (imine precursor) + electron-rich alkene (e.g., vinyl ether/enamine).",
    "category": "heterocycle",
    "co_reactant_examples": [
      "BF3·OEt2/CH2Cl2",
      "Sc(OTf)3/MeCN",
      "p-TsOH/toluene"
    ],
    "incompatible_groups": [
      "[CX3](=O)Cl",
      "[O][Si](C)(C)C"
    ],
    "name": "Povarov Tetrahydroquinoline (Retro, heterocycle)",
    "note": "Retrosynthetic disconnection based on the Povarov (aza-Diels–Alder) reaction: tetrahydroquinoline traced to an aniline, an aldehyde (for imine formation), and an electron-rich alkene partner. Forward cyclization typically generates mixtures of diastereomers and enantiomers unless chiral catalysts/auxiliaries are used; treat this as a racemic/distribution template.",
    "prereq": "[c:1]1ccc2[N:2][CH2:4][CH2][CH2][CH:5]([O:6][#6:7])2c1",
    "rxn": "[c:1]1ccc2[N:2][CH2:4][CH2][CH2][CH:5]([O:6][#6:7])2c1>>[c:1]1ccc([NH2:2])cc1.[CH:3]=O.[CH2:4]=[CH:5][O:6][#6:7]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "J44_povarov_retro_tetrahydroquinoline_placeholder_forward": {
    "brief": "Povarov reaction (aza-Diels–Alder, net): aniline + aldehyde (forms imine) + electron-rich alkene (e.g., vinyl ether/enamine) → tetrahydroquinoline under Lewis/Brønsted acid catalysis. SMARTS encodes a simplified net cycloaddition.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "BF3·OEt2/CH2Cl2",
      "Sc(OTf)3/MeCN",
      "p-TsOH/toluene"
    ],
    "incompatible_groups": [
      "[CX3](=O)Cl",
      "[O][Si](C)(C)C"
    ],
    "name": "Povarov Tetrahydroquinoline (Forward, heterocycle)",
    "note": "Povarov (aza-Diels–Alder) forms a new C–C bond and a new C–N bond via an imine (from aniline + aldehyde) reacting with an electron-rich alkene or diene equivalent under acid catalysis. First-principles: imine activation increases electrophilicity; electron-rich alkene supplies nucleophilic π density; cycloaddition generates a new stereocenter and is typically racemic without chiral catalysis. This template is simplified and uses a vinyl ether as a stand-in for the electron-rich alkene class. [Retro: see J44_povarov_retro_tetrahydroquinoline_placeholder]",
    "prereq": "[c:1]1ccc([NH2:2])cc1.[CH:3]=O.[CH2:4]=[CH:5][O:6][#6:7]",
    "rxn": "[c:1]1ccc([NH2:2])cc1.[CH:3]=O.[CH2:4]=[CH:5][O:6][#6:7]>>[c:1]1ccc2[N:2][CH2:4][CH2][CH2][CH:5]([O:6][#6:7])2c1",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "J45_1_2_4_oxadiazole_from_amidoxime_acyl_chloride": {
    "brief": "1,2,4-Oxadiazole synthesis: amidoxime + acyl chloride -> O-acylamidoxime, then thermal cyclodehydration to 3,5-disubstituted 1,2,4-oxadiazole. Aromatic product.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "R'COCl/pyridine/DCM_then_140C/1h",
      "R'COCl/Et3N/THF_then_DMF/120C",
      "R'COOH/EDCI/DMAP_then_heat"
    ],
    "incompatible_groups": [
      "[OX2r3]"
    ],
    "name": "1 2 4 Oxadiazole From Amidoxime Acyl Chloride (Forward, heterocycle)",
    "note": "1,2,4-Oxadiazole: RC(=NOH)NH2 (amidoxime) + R'COCl -> O-acylamidoxime, then heating (120-140C) or microwave -> cyclodehydration -> 1,2,4-oxadiazole. Aromatic product. Amidoxime from nitrile + NH2OH. Important bioisostere for ester/amide in drug design. Compatible with thioethers and free amines (substrate itself contains NH2). Epoxides may open under thermal conditions.",
    "prereq": "[C:1](=[N:2][OH:3])[NH2:4].[C:5](=O)Cl",
    "rxn": "[C:1](=[N:2][OH:3])[NH2:4].[C:5](=O)Cl>>[n:2]1[o:3][c:1][n:4][c:5]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J45_1_2_4_oxadiazole_from_amidoxime_acyl_chloride_retro": {
    "brief": "Retro-1,2,4-oxadiazole: oxadiazole disconnected to amidoxime + acyl chloride. Forward: O-acylation then thermal cyclodehydration.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "R'COCl/pyridine_then_140C",
      "R'COCl/Et3N_then_120C"
    ],
    "incompatible_groups": [
      "[OX2r3]"
    ],
    "name": "1 2 4 Oxadiazole From Amidoxime Acyl Chloride (Retro, heterocycle)",
    "note": "Retrosynthetic 1,2,4-oxadiazole: 3,5-disubstituted 1,2,4-oxadiazole traced to amidoxime + R'COCl. Amidoxime from RCN + NH2OH. Epoxides may open under thermal cyclodehydration conditions.",
    "prereq": "[n:2]1[o:3][c:1][n:4][c:5]1",
    "rxn": "[n:2]1[o:3][c:1][n:4][c:5]1>>[C:1](=[N:2][OH:3])[NH2:4].[C:5](=O)Cl",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "J46_1_3_4_thiadiazole_from_thiosemicarbazide_acyl_chloride": {
    "brief": "1,3,4-Thiadiazole synthesis: thiosemicarbazide + acyl chloride -> thiosemicarbazide acylated, then cyclodehydration (H2SO4, POCl3) to 2-amino-1,3,4-thiadiazole. Aromatic product.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "R'COCl/pyridine_then_H2SO4(conc)/reflux",
      "R'COCl/Et3N_then_POCl3/reflux",
      "R'COOH/H3PO4/heat"
    ],
    "incompatible_groups": [
      "[OX2r3]",
      "[CX4]([OX2][#6])([OX2][#6])"
    ],
    "name": "1 3 4 Thiadiazole From Thiosemicarbazide Acyl Chloride (Forward, heterocycle)",
    "note": "1,3,4-Thiadiazole: H2NNHC(=S)NH2 + R'COCl -> acylthiosemicarbazide, then cyclodehydration with H2SO4 (conc) or POCl3 -> 2-amino-5-substituted 1,3,4-thiadiazole. Aromatic product. Important pharmacophore (acetazolamide). S participates in ring. Compatible with free amines and thioethers (substrate itself contains NH2, NH, and C=S). Epoxides and acetals are acid-labile under H2SO4 conditions.",
    "prereq": "[NH2:1][NH:2][C:3](=[S:4])[NH2:5].[C:6](=O)Cl",
    "rxn": "[NH2:1][NH:2][C:3](=[S:4])[NH2:5].[C:6](=O)Cl>>[n:2]1[n:5][c:3][s:4][c:6]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J46_1_3_4_thiadiazole_from_thiosemicarbazide_acyl_chloride_retro": {
    "brief": "Retro-1,3,4-thiadiazole: thiadiazole disconnected to thiosemicarbazide + acyl chloride. Forward: acylation then cyclodehydration.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "R'COCl/pyridine_then_H2SO4(conc)",
      "R'COCl/Et3N_then_POCl3"
    ],
    "incompatible_groups": [
      "[OX2r3]",
      "[CX4]([OX2][#6])([OX2][#6])"
    ],
    "name": "1 3 4 Thiadiazole From Thiosemicarbazide Acyl Chloride (Retro, heterocycle)",
    "note": "Retrosynthetic 1,3,4-thiadiazole: 2-amino-1,3,4-thiadiazole traced to thiosemicarbazide + R'COCl. Forward uses H2SO4 or POCl3. Epoxides and acetals are acid-labile.",
    "prereq": "[n:2]1[n:5][c:3][s:4][c:6]1",
    "rxn": "[n:2]1[n:5][c:3][s:4][c:6]1>>[NH2:1][NH:2][C:3](=[S:4])[NH2:5].[C:6](=O)Cl",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "J47_1_2_4_triazole_from_amidrazone_acyl_chloride": {
    "brief": "1,2,4-Triazole synthesis: amidrazone + acyl chloride -> acylamidrazone, then thermal cyclodehydration to 3,5-disubstituted 1,2,4-triazole. Aromatic product.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "R'COCl/pyridine_then_180C/2h",
      "R'COCl/Et3N/THF_then_xylene/reflux",
      "R'C(OEt)3/AcOH/reflux(from_hydrazide)"
    ],
    "incompatible_groups": [
      "[OX2r3]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "1 2 4 Triazole From Amidrazone Acyl Chloride (Forward, heterocycle)",
    "note": "1,2,4-Triazole: RC(=NNH2)NH2 (amidrazone) + R'COCl -> N-acylamidrazone, then heating (140-180C) or microwave -> cyclodehydration -> 1,2,4-triazole. Aromatic product. Ring topology: N-C-N-N-C (nitrogens at 1,2,4 positions, NOT adjacent). Alternative: from acylhydrazide + orthoester. Important pharmacophore (fluconazole, letrozole). Compatible with free amines (substrate itself contains NH2). Epoxides may open under thermal conditions. Acyl chlorides react with amidrazone NH2.",
    "prereq": "[C:1](=[N:2][NH2:3])[NH2:4].[C:5](=O)Cl",
    "rxn": "[C:1](=[N:2][NH2:3])[NH2:4].[C:5](=O)Cl>>[n:2]1[c:1][n:4][n:3][c:5]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J47_1_2_4_triazole_from_amidrazone_acyl_chloride_retro": {
    "brief": "Retro-1,2,4-triazole: triazole disconnected to amidrazone + acyl chloride. Forward: acylation then thermal cyclodehydration.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "R'COCl/pyridine_then_180C",
      "R'COCl/Et3N_then_xylene/reflux"
    ],
    "incompatible_groups": [
      "[OX2r3]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "1 2 4 Triazole From Amidrazone Acyl Chloride (Retro, heterocycle)",
    "note": "Retrosynthetic 1,2,4-triazole: 3,5-disubstituted 1,2,4-triazole traced to amidrazone + R'COCl. Ring topology: N-C-N-N-C (1,2,4-triazole, NOT 1,2,3-triazole). Forward uses high temperature cyclodehydration.",
    "prereq": "[n:2]1[c:1][n:4][n:3][c:5]1",
    "rxn": "[n:2]1[c:1][n:4][n:3][c:5]1>>[C:1](=[N:2][NH2:3])[NH2:4].[C:5](=O)Cl",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "J48_tetrazole_from_nitrile_azide": {
    "brief": "Tetrazole synthesis: nitrile + sodium azide undergo [3+2] cycloaddition to 5-substituted tetrazole. Aromatic product.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "NaN3/NH4Cl/DMF/120C",
      "NaN3/ZnBr2/H2O/reflux",
      "TMSN3/Bu2SnO/toluene/100C"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Tetrazole From Nitrile Azide (Forward, heterocycle)",
    "note": "Tetrazole from RCN + NaN3: [3+2] cycloaddition. NaN3/NH4Cl/DMF/120C or ZnBr2 catalyst. Product is aromatic. Acidic NH (pKa ~4.9). Carboxylic acid bioisostere. Thioethers and free amines are compatible under these conditions. Acyl chlorides may react with azide; epoxides may open at high temperature.",
    "prereq": "[C:5]#[N:1].[N:2]=[N+:3]=[N-:4]",
    "rxn": "[C:5]#[N:1].[N:2]=[N+:3]=[N-:4]>>[n:1]1[n:2][n:3][n:4][c:5]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J48_tetrazole_from_nitrile_azide_retro": {
    "brief": "Retro-tetrazole: tetrazole disconnected to nitrile + azide. Forward: [3+2] cycloaddition of RCN + NaN3. Aromatic product.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "NaN3/NH4Cl/DMF/120C",
      "NaN3/ZnBr2/H2O/reflux"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Tetrazole From Nitrile Azide (Retro, heterocycle)",
    "note": "Retrosynthetic tetrazole: 5-substituted tetrazole traced to RCN + NaN3. Forward uses NaN3/NH4Cl/DMF/120C or ZnBr2 catalyst. Aromatic product. Carboxylic acid bioisostere.",
    "prereq": "[n:1]1[n:2][n:3][n:4][c:5]1",
    "rxn": "[n:1]1[n:2][n:3][n:4][c:5]1>>[C:5]#[N:1].[N:2]=[N+:3]=[N-:4]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "J49_aryl_nitrile_to_tetrazole_forward": {
    "brief": "Aryl tetrazole synthesis: aryl nitrile + sodium azide undergo [3+2] cycloaddition to 5-aryl tetrazole. Aromatic product.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "NaN3/NH4Cl/DMF/120C",
      "NaN3/ZnBr2/H2O/reflux",
      "TMSN3/Bu2SnO/xylene/110C"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl"
    ],
    "name": "Aryl Nitrile To Tetrazole (Forward, heterocycle)",
    "note": "Aryl tetrazole: ArCN + NaN3/NH4Cl/DMF/120C -> 5-aryl-1H-tetrazole. [3+2] cycloaddition. Electron-withdrawing groups on Ar accelerate the reaction by increasing electrophilicity of the nitrile carbon. ZnBr2 or AlCl3 as Lewis acid catalyst. Product is aromatic. Important in medicinal chemistry (losartan, valsartan). [Retro: see J49_aryl_nitrile_to_tetrazole_retro]",
    "prereq": "[c:1][C:2]#[N:3].[N:4]=[N+:5]=[N-:6]",
    "rxn": "[c:1][C:2]#[N:3].[N:4]=[N+:5]=[N-:6]>>[c:1][c:2]1[n:3][n:4][n:5][n:6]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J49_aryl_nitrile_to_tetrazole_retro": {
    "brief": "Retro-aryl tetrazole: 5-aryl tetrazole disconnected to aryl nitrile + azide. Forward: [3+2] cycloaddition.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "NaN3/NH4Cl/DMF/120C",
      "NaN3/ZnBr2/H2O/reflux"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl"
    ],
    "name": "Aryl Nitrile To Tetrazole (Retro, heterocycle)",
    "note": "Retrosynthetic aryl tetrazole: 5-aryl tetrazole traced to ArCN + NaN3. Forward uses NaN3/NH4Cl/DMF/120C or ZnBr2 catalyst.",
    "prereq": "[c:1][c:2]1[n:3][n:4][n:5][n:6]1",
    "rxn": "[c:1][c:2]1[n:3][n:4][n:5][n:6]1>>[c:1][C:2]#[N:3].[N:4]=[N+:5]=[N-:6]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "K01_organolithium_addition_ketone_retro": {
    "brief": "Retrosynthetic: tertiary alcohol disconnects to ketone + RLi. RLi adds to ketone C=O forming new C-C bond. Requires strictly anhydrous/aprotic conditions.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "n-BuLi / t-BuLi / PhLi",
      "THF or Et2O",
      "-78 to 0 °C",
      "aqueous workup"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[CX3](=[OX1])[OX2][#6]",
      "[C]#N",
      "[N+](=O)[O-]",
      "[S](=O)(=O)O",
      "[OX2H]",
      "[NX3;H1,H2;+0]",
      "[OX2r3]"
    ],
    "name": "Organolithium addition to ketone (retro; carbonyl -> tertiary alcohol in forward)",
    "note": "Retrosynthetic disconnection: tertiary alcohol -> ketone + RLi. RLi is a strong nucleophile and strong base. Strictly anhydrous/aprotic conditions required; any protic group (-OH, -NH) will be deprotonated first, consuming the reagent. Incompatible with all esters (not just methyl esters), nitriles (nucleophilic addition), acid chlorides (rapid acylation), epoxides (ring-opening), and nitro groups (electron transfer). The prereq matches all tertiary alcohols; which C-C bond to disconnect is ambiguous when multiple carbon substituents are present. Chemoselective for the most electrophilic carbonyl when multiple electrophiles are present.",
    "prereq": "[C:1]([OH:2])([#6:3])([#6:4])[#6:5]",
    "rxn": "[C:1]([OH:2])([#6:3])([#6:4])[#6:5]>>[C:1](=[O:2])([#6:3])[#6:4].[#6:5][Li]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "K02_organolithium_addition_aldehyde_retro": {
    "brief": "Retrosynthetic: secondary alcohol disconnects to aldehyde + RLi. RLi adds to aldehyde C=O forming new C-C bond to give secondary alcohol.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "n-BuLi / t-BuLi / PhLi",
      "THF or Et2O",
      "-78 to 0 °C",
      "aqueous workup"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[CX3](=[OX1])[OX2][#6]",
      "[C]#N",
      "[N+](=O)[O-]",
      "[S](=O)(=O)O",
      "[OX2H]",
      "[NX3;H1,H2;+0]",
      "[OX2r3]"
    ],
    "name": "Organolithium addition to aldehyde (retro; aldehyde -> secondary alcohol in forward)",
    "note": "Retrosynthetic disconnection: secondary alcohol -> aldehyde + RLi. prereq restricted to CH1 (one H on carbinol carbon) to ensure secondary alcohol, excluding tertiary alcohols (handled by K01). Same incompatibility constraints as K01: RLi is a strong nucleophile/base, incompatible with protic groups, all esters, nitriles, acid chlorides, epoxides, nitro groups. Which C-C bond to disconnect is ambiguous; alternative disconnections give different RLi + aldehyde pairs.",
    "prereq": "[CH1:1]([OH:2])([#6:3])[#6:4]",
    "rxn": "[CH1:1]([OH:2])([#6:3])[#6:4]>>[CH:1](=[O:2])[#6:3].[#6:4][Li]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "K03_organolithium_epoxide_opening_retro": {
    "brief": "Retrosynthetic: β-hydroxy compound disconnects to epoxide + RLi. RLi opens epoxide via SN2 at less hindered carbon, giving anti-addition product.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "RLi (organolithium)",
      "THF",
      "low temperature",
      "aqueous workup"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[CX3](=[OX1])[OX2][#6]",
      "[C]#N",
      "[N+](=O)[O-]",
      "[S](=O)(=O)O",
      "[OX2H]",
      "[NX3;H1,H2;+0]"
    ],
    "name": "Organolithium epoxide opening (retro; epoxide + R–Li -> β-hydroxy alkane in forward)",
    "note": "Retrosynthetic disconnection: β-hydroxy alkane -> epoxide + RLi. prereq tightened to require CH2 at the attack site (less hindered carbon, SN2 regioselectivity) and CH1 bearing the OH (β-carbon). Forward direction: RLi attacks the less substituted epoxide carbon via SN2 with inversion. Same incompatibility constraints as K01/K02. Regioselectivity not fully encoded; Lewis acid-assisted opening may reverse selectivity.",
    "prereq": "[#6:1][CH2:2][CH1:3]([OH:4])[#6:5]",
    "rxn": "[#6:1][CH2:2][CH1:3]([OH:4])[#6:5]>>[CH2:2]1[O:4][C:3]1[#6:5].[#6:1][Li]",
    "stereo_policy": "inversion",
    "type": "retro"
  },
  "K04_gilman_conjugate_addition_retro": {
    "brief": "Retrosynthetic: β-substituted carbonyl disconnects to enone + R2CuLi. Organocuprate adds 1,4- (conjugate) to α,β-unsaturated carbonyl, forming C-C bond at β-position.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "R2CuLi or RCu (organocopper)",
      "Cu(I) salts",
      "THF/Et2O",
      "-78 to 0 °C",
      "protonation workup"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]",
      "[CX3](=[OX1])Cl",
      "[C]#N",
      "[SX2][#6]",
      "[OX2H]",
      "[NX3;H1,H2;+0]"
    ],
    "name": "Gilman (organocuprate) 1,4-conjugate addition (retro)",
    "note": "Retrosynthetic disconnection: β-substituted ketone -> enone + R2CuLi. prereq tightened with CX4 at β-position to ensure sp3 carbon bearing the new substituent. Organocuprates are soft nucleophiles, favoring 1,4-addition over 1,2-addition to enones. Cu-C bonds are less basic than Li/Mg analogues. Thioethers may poison Cu catalyst. Protic groups (-OH, -NH) consume the organolithium precursor used to prepare R2CuLi. Nitro groups undergo electron transfer. Acid chlorides react faster than enone.",
    "prereq": "[CX4:1]([#6:7])[CH2:2][C:3](=[O:4])[#6:5]",
    "rxn": "[CX4:1]([#6:7])[CH2:2][C:3](=[O:4])[#6:5]>>[C:1]=[CH:2][C:3](=[O:4])[#6:5].[#6:7][Cu]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "K05_gilman_sn2_coupling_retro": {
    "brief": "Retrosynthetic: C(sp3)-C(sp3) bond disconnects to primary alkyl halide + R2CuLi via SN2 Corey-House coupling.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "R2CuLi (Gilman) or RCu",
      "primary alkyl bromide/iodide electrophile",
      "Et2O/THF",
      "low temperature"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[N+](=O)[O-]",
      "[C]#N",
      "[S](=O)(=O)O",
      "[OX2H]",
      "[NX3;H1,H2;+0]",
      "[SX2][#6]"
    ],
    "name": "Gilman/Corey–House alkyl–alkyl coupling (retro; R'–X + R2CuLi -> R–R')",
    "note": "Retrosynthetic disconnection: R-CH2-R' -> R-CH2-Br + R'2CuLi. prereq tightened to require the electrophilic side is a primary carbon (CH2 flanked by carbon, not heteroatom) and the cuprate side is also carbon-bound. Forward SN2 requires primary alkyl halide; secondary substrates give elimination. CH2 has no stereocenter so stereo_policy is not_applicable. Thioethers may poison Cu. Protic groups consume the organolithium precursor.",
    "prereq": "[CH2:1]([#6])[CX4:2]([#6])([#6,H])[#6,H]",
    "rxn": "[CH2:1]([#6])[CX4:2]([#6])([#6,H])[#6,H]>>[CH2:1]Br.[CX4:2][Cu]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "K06_fukuyama_coupling_thioester_organozinc_retro": {
    "brief": "Retrosynthetic: ketone disconnects to thioester + RZnCl via Pd-catalyzed Fukuyama coupling. Thioesters resist over-addition unlike acid chlorides.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "Pd(0) or Ni catalyst",
      "organozinc halide (RZnX)",
      "thioester (often S-alkyl/S-aryl)",
      "THF/DMF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[N+](=O)[O-]",
      "[NX3;H2,H1;+0]",
      "[SX2][#6]"
    ],
    "name": "Fukuyama coupling (thioester + organozinc -> ketone; retro)",
    "note": "Retrosynthetic disconnection: ketone -> thioester + RZnCl. prereq tightened to require at least one non-methyl substituent on the ketone, reducing false positives on trivial ketones. Pd(0)-catalyzed cross-coupling of thioester with organozinc halide stops at ketone stage (no over-addition, unlike Grignard on acid chlorides). SMe is a placeholder for common thioester handles (SEt, SPh also used). Free amines may coordinate Pd and inhibit catalysis. Additional thioethers in the substrate may compete for oxidative addition or poison catalyst. Acid chlorides would undergo faster coupling, consuming the organozinc.",
    "prereq": "[#6:1][CX3:2](=[O:3])[#6;!$([CH3]):4]",
    "rxn": "[#6:1][CX3:2](=[O:3])[#6;!$([CH3]):4]>>[#6:1][C:2](=[O:3])[S][CH3].[#6:4][Zn]Cl",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "K07_hydroboration_amination_terminal_alkene_forward": {
    "brief": "Terminal alkene converted to anti-Markovnikov primary amine via hydroboration then amination. Not standard hydroboration-oxidation (which gives alcohol).",
    "category": "nitrogen",
    "co_reactant_examples": [
      "BH3·THF or 9-BBN",
      "NH2OSO3H or NH2Cl (amination reagent)",
      "oxidative/aminative workup (protocol-dependent)"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[N+](=O)[O-]",
      "[S](=O)(=O)O",
      "[CX3](=[OX1])[OX2][#6]"
    ],
    "name": "Hydroboration–amination (anti-Markovnikov hydroamination; forward, schematic)",
    "note": "Schematic net transform: terminal alkene -> anti-Markovnikov primary amine. This is NOT standard hydroboration-oxidation (which gives alcohol). Practical variants proceed via organoborane intermediate, then amination with chloramine (NH2Cl) or hydroxylamine-O-sulfonic acid (NH2OSO3H). Anti-Markovnikov regioselectivity from hydroboration step (boron adds to less substituted carbon). Acid chlorides and esters react with borane. Nitro groups may undergo competing reduction.",
    "prereq": "[#6:1][CH:2]=[CH2:3]",
    "rxn": "[#6:1][CH:2]=[CH2:3]>>[#6:1][CH2:2][CH2:3][NH2]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "K07_hydroboration_amination_terminal_alkene_retro": {
    "brief": "Retrosynthetic: terminal primary amine disconnects to terminal alkene via hydroboration-amination (anti-Markovnikov). Not standard hydroboration-oxidation (which gives alcohol).",
    "category": "nitrogen",
    "co_reactant_examples": [
      "anti-Markovnikov hydroamination via hydroboration/amination (forward)",
      "BH3/9-BBN derived protocols",
      "NH2OSO3H or NH2Cl as amination reagent"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]",
      "[CX3](=[OX1])Cl",
      "[S](=O)(=O)O"
    ],
    "name": "Hydroboration–amination (anti-Markovnikov hydroamination; retro, schematic)",
    "note": "Retrosynthetic heuristic: terminal primary amine -> terminal alkene via hydroboration then amination. This is NOT standard hydroboration-oxidation (which gives alcohol, not amine). Practical amination requires special reagents (chloramine, hydroxylamine-O-sulfonic acid, etc.) to convert organoborane to amine. incompatible_groups aligned with forward template. Nitro groups may undergo competing reduction. Acid chlorides react with borane.",
    "prereq": "[#6:1][CH2:2][CH2:3][NH2]",
    "rxn": "[#6:1][CH2:2][CH2:3][NH2]>>[#6:1][CH:2]=[CH2:3]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "K08_brook_rearrangement_forward": {
    "brief": "α-Silyl alcohol rearranges to silyl ether under basic conditions (Si migrates from C to O). Generates carbanion intermediate commonly trapped by electrophile.",
    "category": "rearrangement",
    "co_reactant_examples": [
      "base (e.g., BuLi, LDA) to form alkoxide",
      "often trapping electrophile after rearrangement",
      "low temperature"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[N+](=O)[O-]",
      "[S](=O)(=O)O",
      "[OX2H]"
    ],
    "name": "Brook rearrangement (α-silyl alcohol -> silyl ether; forward, net)",
    "note": "Net representation: Si migrates from C to O after alkoxide formation (driven by stronger Si-O bond vs Si-C bond, ~110 vs ~76 kcal/mol). In practice, base deprotonates OH to form alkoxide, triggering 1,2-Si migration from C to O. This generates a carbanion (anion relay) commonly trapped by electrophile; this template only encodes the Si-O/C connectivity swap. Requires base (BuLi, LDA); protic groups and acid chlorides are incompatible. Configuration at carbon may be retained or inverted depending on conditions.",
    "prereq": "[Si:1][C:2]([OH:3])([#6:4])[#6:5]",
    "rxn": "[Si:1][C:2]([OH:3])([#6:4])[#6:5]>>[C:2]([O:3][Si:1])([#6:4])[#6:5]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "K09_silyl_enol_ether_desilylation_retro": {
    "brief": "Retrosynthetic: TMS enol ether collapses back to parent ketone via hydrolysis (acid or fluoride). Common protective/activation handle removal.",
    "category": "special",
    "co_reactant_examples": [
      "acidic workup (HCl/H2O)",
      "fluoride (TBAF/THF)",
      "protic conditions"
    ],
    "incompatible_groups": [],
    "name": "Silyl enol ether -> ketone (retro; hydrolysis/protodesilylation)",
    "note": "Retrosynthetic heuristic: collapses TMS enol ether back to parent carbonyl. Acid hydrolysis or fluoride (TBAF) cleaves Si-O bond and restores C=O. Very mild conditions; few functional group incompatibilities. Previous incompatible_groups entry [Si](C)(C)C was incorrect (it flagged the substrate's own TMS group). Other silyl protecting groups (TBS, TIPS) in the molecule are generally stable under mild acid but may be cleaved by TBAF.",
    "prereq": "[C:1]([O:2][Si](C)(C)C)=[C:3][#6:4]",
    "rxn": "[C:1]([O:2][Si](C)(C)C)=[C:3][#6:4]>>[C:1](=[O:2])[CH2:3][#6:4]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "K09_silyl_enol_ether_formation_forward": {
    "brief": "Ketone with α-H deprotonated by strong base (LDA/NaHMDS), then trapped with TMSCl to form TMS enol ether. Kinetic vs thermodynamic enolate depends on base/conditions.",
    "category": "special",
    "co_reactant_examples": [
      "base (LDA/NaHMDS)",
      "TMSCl (or other silyl chloride)",
      "THF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[N+](=O)[O-]",
      "[OX2H]",
      "[NX3;H1,H2;+0]"
    ],
    "name": "Silyl enol ether formation (ketone -> TMS enol ether; forward, schematic)",
    "note": "Ketone enolization with strong base (LDA at -78C for kinetic enolate, NaHMDS/KHMDS at higher T for thermodynamic enolate), then trapping with TMSCl. prereq requires alpha-CH2 or CH3 adjacent to carbonyl. E/Z geometry of the enol ether depends on enolization conditions: LDA/-78C typically gives Z (kinetic), NaHMDS gives E (thermodynamic). Acid chlorides react with base. Protic groups (-OH, -NH) consume the base. Replaced [O-][S](=O)(=O)[O-] (sulfate dianion, irrelevant in organic substrates) with practical incompatible groups.",
    "prereq": "[C:1](=[O:2])[CH2,CH3:3][#6:4]",
    "rxn": "[C:1](=[O:2])[CH2,CH3:3][#6:4]>>[C:1]([O:2][Si](C)(C)C)=[C:3][#6:4]",
    "stereo_policy": "not_applicable",
    "type": "forward",
    "stereo_detail": "E/Z selectivity depends on base and conditions: LDA/-78C -> Z (kinetic); NaHMDS -> E (thermodynamic)"
  },
  "K10_mukaiyama_aldol_retro": {
    "brief": "Retrosynthetic: β-hydroxy ketone disconnects to aldehyde + TMS enol ether via Mukaiyama aldol. Lewis acid activates aldehyde electrophile.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "Lewis acid (TiCl4, BF3·Et2O, SnCl4)",
      "silyl enol ether nucleophile",
      "aldehyde electrophile"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]",
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]",
      "[CX4]([OX2][#6])([OX2][#6])"
    ],
    "name": "Mukaiyama aldol (silyl enol ether aldol; retro)",
    "note": "Retrosynthetic disconnection: β-hydroxy ketone -> aldehyde + TMS enol ether. Lewis acid (TiCl4, BF3·Et2O, SnCl4) activates the aldehyde electrophile; silyl enol ether acts as preformed enolate equivalent. rxn atom mapping corrected: all product atom labels now trace back to substrate atoms. The C-C bond between C1 (bearing OH) and C3 (the R group from the aldehyde) is the bond being formed. Chiral Lewis acids enable asymmetric Mukaiyama aldol. Acetals are labile under Lewis acid conditions. Free amines may coordinate Lewis acid and inhibit catalysis.",
    "prereq": "[CX4:1]([OH:2])([#6:3])[CX3:4](=[O:5])[#6:6]",
    "rxn": "[CX4:1]([OH:2])([#6:3])[CX3:4](=[O:5])[#6:6]>>[#6:3][CH1:1]=[O:2].[C:4]([O:5][Si](C)(C)C)=[C][#6:6]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "L01_CBS_reduction_retro": {
    "brief": "Retrosynthetic: chiral secondary alcohol disconnects to ketone via CBS asymmetric reduction. Best ee for aryl-alkyl ketones with significant steric differentiation between substituents.",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "CBS oxazaborolidine catalyst ((R)- or (S)-Me-CBS)",
      "BH3·THF or catecholborane",
      "low temperature (-20 to 0 °C)"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[N+](=O)[O-]",
      "[S](=O)(=O)O",
      "[C]#N",
      "[CX3](=[OX1])[OX2][#6]"
    ],
    "name": "CBS reduction (Corey–Bakshi–Shibata) (retro; ketone -> chiral alcohol in forward)",
    "note": "Retrosynthetic: chiral secondary alcohol -> prochiral ketone via CBS reduction. Chiral oxazaborolidine catalyst activates BH3 and delivers hydride enantioselectively. Best results for aryl-alkyl ketones where the two substituents differ significantly in size (large vs small). BH3·THF is the stoichiometric reductant; it can slowly reduce esters and nitriles (competing reactions). Acid chlorides react rapidly with BH3. Nitro groups may undergo competing reduction. prereq restricted to secondary alcohols (CH1) to exclude tertiary alcohols.",
    "prereq": "[CH1:1]([OH:2])([#6:3])[#6:4]",
    "rxn": "[CH1:1]([OH:2])([#6:3])[#6:4]>>[C:1](=[O:2])([#6:3])[#6:4]",
    "stereo_policy": "enantioselective",
    "type": "retro"
  },
  "L02_noyori_asymmetric_hydrogenation_retro": {
    "brief": "Retrosynthetic: chiral secondary alcohol disconnects to ketone via Noyori asymmetric hydrogenation. Best for aryl ketones and β-keto esters with Ru-BINAP/diamine catalyst.",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "Ru–BINAP/diamine catalyst (Noyori type)",
      "H2 (or transfer hydrogenation: iPrOH/HCO2H)",
      "base (protocol-dependent)"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[N+](=O)[O-]",
      "[SX2][#6]",
      "[C]=[C]"
    ],
    "name": "Noyori asymmetric hydrogenation (Ru–BINAP/diamine) (retro; ketone -> chiral alcohol in forward)",
    "note": "Retrosynthetic: chiral secondary alcohol -> prochiral ketone via Noyori Ru-BINAP/diamine asymmetric hydrogenation. Outer-sphere bifunctional mechanism: Ru-H and ligand N-H deliver H2 simultaneously to C=O. Best substrates: aryl-alkyl ketones, β-keto esters, α-amino ketones. Thioethers may poison Ru catalyst. Alkenes may undergo competing hydrogenation (Ru-BINAP also hydrogenates C=C). Acid chlorides incompatible with H2/base conditions. prereq restricted to secondary alcohols (CH1).",
    "prereq": "[CH1:1]([OH:2])([#6:3])[#6:4]",
    "rxn": "[CH1:1]([OH:2])([#6:3])[#6:4]>>[C:1](=[O:2])([#6:3])[#6:4]",
    "stereo_policy": "enantioselective",
    "type": "retro"
  },
  "L03_jacobsen_epoxidation_retro": {
    "brief": "Retrosynthetic: epoxide disconnects to alkene via Jacobsen Mn(salen) asymmetric epoxidation. Best ee for cis-disubstituted and trisubstituted alkenes.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "Mn(salen) catalyst",
      "NaOCl or PhIO oxidant",
      "buffered conditions (pH ~11.3)"
    ],
    "incompatible_groups": [
      "[S](=O)(=O)O",
      "[P](=O)(O)(O)O",
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Jacobsen epoxidation (Mn–salen) (retro; alkene -> epoxide in forward)",
    "note": "Retrosynthetic: epoxide -> alkene via Jacobsen Mn(salen) asymmetric epoxidation. Best substrates: cis-disubstituted and trisubstituted alkenes (conjugated or unfunctionalized). trans-Disubstituted alkenes give poor ee. NaOCl is the terminal oxidant; it will oxidize thioethers to sulfoxides and free amines to N-oxides (added to incompatible_groups). Complementary to Shi epoxidation (L04), which is better for trans-disubstituted and trisubstituted alkenes.",
    "prereq": "[C:1]1[O:2][C:3]1",
    "rxn": "[C:1]1[O:2][C:3]1>>[C:1]=[C:3]",
    "stereo_policy": "enantioselective",
    "type": "retro"
  },
  "L04_shi_epoxidation_retro": {
    "brief": "Retrosynthetic: epoxide disconnects to alkene via Shi fructose-derived ketone asymmetric epoxidation. Best ee for trans-disubstituted and trisubstituted alkenes.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "Shi ketone catalyst (fructose-derived)",
      "Oxone (KHSO5)",
      "buffered aqueous/MeCN (pH ~10.5)"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]",
      "[CX3](=[OX1])Cl",
      "[S](=O)(=O)O"
    ],
    "name": "Shi epoxidation (fructose-derived ketone) (retro; alkene -> epoxide in forward)",
    "note": "Retrosynthetic: epoxide -> alkene via Shi asymmetric epoxidation. Catalytic dioxirane formed in situ from fructose-derived ketone + Oxone. Best substrates: trans-disubstituted and trisubstituted alkenes (complementary to Jacobsen L03 which prefers cis-disubstituted). Oxone is a strong oxidant: thioethers oxidized to sulfoxides, free amines to N-oxides. Aqueous buffered conditions: acid chlorides will hydrolyze. Terminal monosubstituted alkenes give poor ee.",
    "prereq": "[C:1]1[O:2][C:3]1",
    "rxn": "[C:1]1[O:2][C:3]1>>[C:1]=[C:3]",
    "stereo_policy": "enantioselective",
    "type": "retro"
  },
  "L05_asymmetric_aldol_general_retro": {
    "brief": "Retrosynthetic: β-hydroxy carbonyl disconnects to two carbonyl fragments via asymmetric aldol. General template covering Evans auxiliary, Mukaiyama, and organocatalytic variants.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "chiral auxiliaries (Evans oxazolidinone) or chiral catalysts (proline/amine, chiral Lewis acids)",
      "enolate/silyl enol ether generation as needed"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[N+](=O)[O-]"
    ],
    "name": "Asymmetric aldol (general disconnection; Evans/Mukaiyama/organocatalysis) (retro)",
    "note": "Retrosynthetic: β-hydroxy carbonyl -> aldehyde/ketone electrophile + enolizable carbonyl nucleophile precursor. prereq tightened: C3 constrained to CX4 (sp3 carbon, ensuring the β-position is saturated as expected for an aldol product). This is a generalized aldol disconnection; choose a concrete asymmetric platform (Evans auxiliary for syn/anti control, proline organocatalysis for direct aldol, chiral Lewis acid for Mukaiyama variant) to realize stereocontrol. Evans aldol uses Bu2BOTf/Et3N (acid-sensitive groups like acetals may be problematic). Organocatalytic aldol (proline) is very mild.",
    "prereq": "[C:1]([OH:2])[CX4:3][C:4](=[O:5])",
    "rxn": "[C:1]([OH:2])[CX4:3][C:4](=[O:5])>>[C:1](=[O:2]).[CX4:3][C:4](=[O:5])",
    "stereo_policy": "enantioselective",
    "type": "retro"
  },
  "L06_asymmetric_michael_malonate_retro": {
    "brief": "Retrosynthetic: β-malonate-substituted carbonyl disconnects to enone + malonate via asymmetric Michael addition. Soft malonate enolate adds 1,4- to enone.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "chiral organocatalysts (cinchona alkaloid-derived, thiourea, squaramide)",
      "chiral metal catalysts (Cu-BOX, Ni-diamine)",
      "base (mild, e.g., Et3N, DMAP)",
      "polar aprotic solvent"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[N+](=O)[O-]"
    ],
    "name": "Asymmetric Michael addition (malonate-type donor) (retro)",
    "note": "Retrosynthetic: β-malonate-substituted carbonyl -> enone + dimethyl/diethyl malonate. Soft malonate enolate (stabilized by two ester groups, pKa ~13) adds 1,4- to enone under mild base. Stereocontrol via chiral hydrogen-bond donor catalysts (cinchona-thiourea, squaramide) or chiral metal-Lewis acid catalysts (Cu-BOX). Conditions are mild; acid chlorides are the main incompatibility (react with base/enolate). Removed [S](=O)(=O)O from incompatible_groups as sulfonates are generally inert under these mild organocatalytic conditions.",
    "prereq": "[C:1]([CH:5](C(=O)O)(C(=O)O))[CH2:2][C:3](=[O:4])[#6:6]",
    "rxn": "[C:1]([CH:5](C(=O)O)(C(=O)O))[CH2:2][C:3](=[O:4])[#6:6]>>[C:1]=[CH:2][C:3](=[O:4])[#6:6].[CH2:5](C(=O)O)(C(=O)O)",
    "stereo_policy": "enantioselective",
    "type": "retro"
  },
  "L07_tsuji_trost_asymmetric_retro": {
    "brief": "Retrosynthetic: allylic C-C bond disconnects to allylic acetate + soft nucleophile via Pd-catalyzed asymmetric Tsuji-Trost reaction.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "Pd2(dba)3 + chiral Trost ligand / PHOX",
      "allylic acetate/carbonate leaving group",
      "soft nucleophile (malonate, β-ketoester, amine, phenoxide)"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Asymmetric Tsuji–Trost allylic substitution (retro; chiral ligand)",
    "note": "Retrosynthetic: allylic substitution product -> allylic acetate/carbonate + soft nucleophile. Pd(0) oxidatively adds to allylic leaving group forming π-allyl-Pd intermediate; soft nucleophile attacks the π-allyl from the face opposite to Pd (outer-sphere, net retention). Chiral ligands (Trost DACH ligand, PHOX) control enantioselectivity. Key requirement: nucleophile must be 'soft' (stabilized carbanion, pKa < ~25, or heteroatom nucleophile). Hard nucleophiles (RLi, RMgX) attack Pd instead. Thiols poison Pd catalyst. Acid chlorides may undergo competing Pd-catalyzed reactions.",
    "prereq": "[C:1]=[C:2][C:3]([#6:4])[#6:5]",
    "rxn": "[C:1]=[C:2][C:3]([#6:4])[#6:5]>>[C:1]=[C:2][C:3](OC(C)=O)[#6:4].[#6:5]",
    "stereo_policy": "enantioselective",
    "type": "retro"
  },
  "L08_asymmetric_mannich_retro": {
    "brief": "Retrosynthetic: β-amino carbonyl disconnects to amine + formaldehyde + ketone via asymmetric Mannich reaction. Three-component disconnection; aldehyde component is formaldehyde (CH2=O).",
    "category": "cc_formation",
    "co_reactant_examples": [
      "chiral Brønsted acids (BINOL phosphoric acids)",
      "chiral Lewis acids",
      "enamine/iminium organocatalysis (proline, MacMillan catalyst)"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl"
    ],
    "name": "Asymmetric Mannich (retro; organocatalysis/chiral Lewis acid)",
    "note": "Retrosynthetic: β-amino ketone -> amine + CH2=O + ketone. This is a three-component Mannich disconnection. The CH2 in prereq (two H atoms) means the aldehyde component is specifically formaldehyde; for higher aldehydes (RCHO), a different template with CHR would be needed. Forward: amine + aldehyde form imine/iminium in situ, then enol/enamine nucleophile attacks. Stereocontrol via chiral Brønsted acid (BINOL-phosphoric acid) or enamine catalysis (proline). Conditions are mild; acid chlorides are the main incompatibility. Removed [N+](=O)[O-] from incompatible_groups: nitro groups are generally inert under these mild organocatalytic conditions.",
    "prereq": "[N:1]([#6:6])[CH2:2][C:3](=[O:4])[#6:5]",
    "rxn": "[N:1]([#6:6])[CH2:2][C:3](=[O:4])[#6:5]>>[NH:1][#6:6].[CH2:2]=[O].[C:3](=[O:4])[#6:5]",
    "stereo_policy": "enantioselective",
    "type": "retro"
  },
  "L09_asymmetric_henry_nitroaldol_retro": {
    "brief": "Retrosynthetic: β-nitro alcohol disconnects to aldehyde + nitroalkane via asymmetric Henry (nitroaldol) reaction. Chiral metal catalysts control enantioselectivity.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "chiral Cu(II)/bisoxazoline catalyst",
      "chiral Zn/La/rare-earth catalysts with salen/BINOL ligands",
      "base (mild, e.g., Et3N, iPr2NEt)"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[SX2H]"
    ],
    "name": "Asymmetric Henry (nitroaldol) (retro; chiral metal catalyst/organocatalyst)",
    "note": "Retrosynthetic: β-nitro alcohol -> aldehyde/ketone + nitroalkane. prereq tightened: C3 constrained to CX4 (sp3, saturated β-carbon). CRITICAL FIX: removed [N+](=O)[O-] from incompatible_groups — the nitro group is an essential part of the substrate/product, not an incompatible group. The previous version had a logical contradiction (prereq requires nitro, but incompatible_groups excluded nitro). Forward: nitronate (deprotonated nitroalkane) adds to carbonyl; chiral Lewis acid (Cu-BOX, La-BINOL) activates carbonyl and/or controls nitronate approach. Thiols may poison metal catalysts. Acid chlorides react with base.",
    "prereq": "[C:1]([OH:2])[CX4:3][N+:4](=[O:5])[O-:6]",
    "rxn": "[C:1]([OH:2])[CX4:3][N+:4](=[O:5])[O-:6]>>[C:1](=[O:2]).[CX4:3][N+:4](=[O:5])[O-:6]",
    "stereo_policy": "enantioselective",
    "type": "retro"
  },
  "M01_barton_decarboxylation_forward": {
    "brief": "Radical decarboxylation: carboxylic acid converted to Barton thiohydroxamate ester, then photolyzed to generate carbon radical which abstracts H to give RH. Removes -COOH, replaces with -H.",
    "category": "special",
    "co_reactant_examples": [
      "convert acid to Barton ester (thiohydroxamate, e.g., N-hydroxypyridine-2-thione ester)",
      "hν (photolysis, visible light or UV)",
      "H-donor (t-BuSH, Bu3SnH, or (TMS)3SiH)",
      "inert atmosphere (N2/Ar)"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]",
      "[CX3](=[OX1])Cl",
      "[C]=[C]"
    ],
    "name": "Barton decarboxylation (Barton ester photolysis) (forward; RCO2H -> RH)",
    "note": "Radical decarboxylation via Barton thiohydroxamate ester. Acid first converted to Barton ester (DCC coupling with N-hydroxypyridine-2-thione), then photolyzed to generate R· radical + CO2 + pyridine-2-thiol radical. R· abstracts H from thiol donor to give RH. Radical intermediate: alkenes may undergo competing radical addition (intramolecular cyclization is sometimes desired). Nitro groups can undergo single-electron reduction by carbon radicals. Replaced [O-][S](=O)(=O)[O-] (sulfate dianion, not found in organic substrates) with [C]=[C] (alkenes, radical addition risk). prereq correctly requires CX4 (sp3 α-carbon).",
    "prereq": "[CX4:1][C:2](=O)[OH]",
    "rxn": "[CX4:1][C:2](=O)[OH]>>[CX4:1]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "M02_giese_radical_addition_to_acrylate_retro": {
    "brief": "Substrates: SMARTS([CX4:1][CH2:2][CH2:3][C:4](=[O:5])[O:6][#6:7]) -> Products: SMARTS([CH2:2]=[CH:3][C:4](=[O:5])[O:6][#6:7].[CX4:1]Br).",
    "category": "cc_formation",
    "co_reactant_examples": [
      "radical precursor (alkyl bromide/iodide, redox-active ester)",
      "radical initiator or photoredox catalyst",
      "Michael acceptor (acrylate)"
    ],
    "incompatible_groups": [
      "[C](=O)Cl",
      "[N+](=O)[O-]"
    ],
    "name": "Giese reaction (radical conjugate addition to acrylate; retro)",
    "note": "Substrates: SMARTS([#6:1][CH2:2][CH2:3][C:4](=[O:5])[O:6][#6:7]) -> Products: SMARTS([CH2:2]=[CH:3][C:4](=[O:5])[O:6][#6:7].[#6:1]Br). Typical co-reactants/conditions: radical precursor (alkyl bromide/iodide, redox-active ester), radical initiator or photoredox catalyst, Michael acceptor (acrylate). First-principles: the feasibility is dominated by (i) thermodynamics of bond making/breaking (e.g., relative bond dissociation energies, redox potentials, and acid–base equilibria) and (ii) kinetic control via transition-state stabilization and/or catalyst coordination geometry. Stereochemical outcome, regioselectivity, and chemoselectivity depend strongly on substrate electronics/sterics, catalyst/ligand, solvent, and temperature; treat this template as a retrosynthetic disconnection heuristic rather than a guarantee. Incompatible_groups flags motifs likely to (a) be consumed by the reagent/catalyst, (b) poison catalysts, or (c) undergo competing pathways under typical conditions (SMARTS: [C](=O)Cl; [N+](=O)[O-]). Forward direction: R· adds to an electron-poor alkene (acrylate/enone), then the resulting radical is reduced/protonated (or abstracts H). This template uses alkyl bromide as a generic radical precursor handle.",
    "prereq": "[CX4:1][CH2:2][CH2:3][C:4](=[O:5])[O:6][#6:7]",
    "rxn": "[CX4:1][CH2:2][CH2:3][C:4](=[O:5])[O:6][#6:7]>>[CH2:2]=[CH:3][C:4](=[O:5])[O:6][#6:7].[CX4:1]Br",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "M03_photoredox_Ni_cross_electrophile_aryl_alkyl_retro": {
    "brief": "Substrates: SMARTS([c:1][CX4;H1,H2:2]) -> Products: SMARTS([c:1]Br.[CX4;H1,H2:2]Br).",
    "category": "cc_formation",
    "co_reactant_examples": [
      "photoredox catalyst (Ir/Ru or organic dye)",
      "Ni catalyst/ligand",
      "aryl bromide + alkyl bromide",
      "base/reductant (protocol-dependent)"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]",
      "[S](=O)(=O)O"
    ],
    "name": "Photoredox/Ni cross-electrophile coupling (aryl–alkyl C–C; retro)",
    "note": "Substrates: SMARTS([c:1][CX4;H1,H2:2]) -> Products: SMARTS([c:1]Br.[CX4;H1,H2:2]Br). Typical co-reactants/conditions: photoredox catalyst (Ir/Ru or organic dye), Ni catalyst/ligand, aryl bromide + alkyl bromide, base/reductant (protocol-dependent). prereq tightened to require sp3 carbon bearing 1-2 H atoms (excludes benzylic CH3 and quaternary C, focuses on secondary/primary alkyl fragments typical of cross-electrophile coupling products). Thioethers poison Ni catalyst; free amines may coordinate Ni and inhibit catalysis. Stereochemical outcome depends on substrate, catalyst/ligand, solvent, and temperature; treat as retrosynthetic heuristic.",
    "prereq": "[c:1][CX4;H1,H2:2]",
    "rxn": "[c:1]!@[CX4;H1,H2:2]>>[c:1]Br.[CX4;H1,H2:2]Br",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "M04_photoredox_CN_coupling_retro": {
    "brief": "Substrates: SMARTS([c:1][NX3;H1,H2;+0;!$(NC=O);!$(NS=O):2]) -> Products: SMARTS([c:1]Br.[NX3;H1,H2;+0:2]).",
    "category": "nitrogen",
    "co_reactant_examples": [
      "photoredox catalyst",
      "Ni or Cu catalyst (protocol-dependent)",
      "aryl bromide + amine",
      "base"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[S](=O)(=O)O"
    ],
    "name": "Photoredox C–N coupling (aryl amination; retro)",
    "note": "Substrates: SMARTS([c:1][NX3;H1,H2;+0;!$(NC=O);!$(NS=O):2]) -> Products: SMARTS([c:1]Br.[NX3;H1,H2;+0:2]). prereq tightened: N must be sp3, bear at least one H, be neutral, and not be an amide or sulfonamide nitrogen (those Ar-N bonds are not formed by C-N coupling). This focuses on anilines and N-alkyl arylamines as photoredox/Ni C-N coupling products. Thioethers poison Ni catalyst. Modern alternative to Buchwald-Hartwig for some substrate classes; exact scope is strongly catalyst-dependent.",
    "prereq": "[c:1]!@[NX3;H1,H2;+0;!$(NC=O);!$(NS=O):2]",
    "rxn": "[c:1]!@[NX3;H1,H2;+0;!$(NC=O);!$(NS=O):2]>>[c:1]Br.[NX3;H1,H2;+0:2]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "M05_HAT_tertiary_CH_bromination_forward": {
    "brief": "Substrates: SMARTS([CH1:1]([#6:2])([#6:3])[#6:4]) -> Products: SMARTS([C:1]([#6:2])([#6:3])([#6:4])Br).",
    "category": "special",
    "co_reactant_examples": [
      "HAT photocatalyst (e.g., decatungstate/TBADT) or hν",
      "Br-source (NBS/Br2)",
      "solvent (MeCN, acetone, etc.)"
    ],
    "incompatible_groups": [
      "[C](=O)Cl",
      "[N+](=O)[O-]"
    ],
    "name": "HAT-enabled tertiary C–H bromination (forward; schematic)",
    "note": "Substrates: SMARTS([C:1]([#6:2])([#6:3])[#6:4]) -> Products: SMARTS([C:1]([#6:2])([#6:3])[#6:4]Br). Typical co-reactants/conditions: HAT photocatalyst (e.g., decatungstate/TBADT) or hν, Br-source (NBS/Br2), solvent (MeCN, acetone, etc.). First-principles: the feasibility is dominated by (i) thermodynamics of bond making/breaking (e.g., relative bond dissociation energies, redox potentials, and acid–base equilibria) and (ii) kinetic control via transition-state stabilization and/or catalyst coordination geometry. Stereochemical outcome, regioselectivity, and chemoselectivity depend strongly on substrate electronics/sterics, catalyst/ligand, solvent, and temperature; treat this template as a retrosynthetic disconnection heuristic rather than a guarantee. Incompatible_groups flags motifs likely to (a) be consumed by the reagent/catalyst, (b) poison catalysts, or (c) undergo competing pathways under typical conditions (SMARTS: [C](=O)Cl; [N+](=O)[O-]). Selectivity in forward direction often correlates with C–H bond strength and polarity-matching (electrophilic vs nucleophilic radicals). This template is intentionally limited to tertiary C centers to reduce over-breadth. [Retro: see M05_HAT_tertiary_CH_bromination_retro]",
    "prereq": "[CH1:1]([#6:2])([#6:3])[#6:4]",
    "rxn": "[CH1:1]([#6:2])([#6:3])[#6:4]>>[C:1]([#6:2])([#6:3])([#6:4])Br",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "M05_HAT_tertiary_CH_bromination_retro": {
    "brief": "Substrates: SMARTS([C:1]([#6:2])([#6:3])[#6:4]Br) -> Products: SMARTS([C:1]([#6:2])([#6:3])[#6:4]).",
    "category": "special",
    "co_reactant_examples": [
      "tertiary C–H bromination (forward)",
      "photochemical/radical conditions"
    ],
    "incompatible_groups": [
      "[C](=O)Cl",
      "[N+](=O)[O-]"
    ],
    "name": "HAT-enabled tertiary C–H bromination (retro; alkyl bromide -> alkane heuristic)",
    "note": "Substrates: SMARTS([C:1]([#6:2])([#6:3])[#6:4]Br) -> Products: SMARTS([C:1]([#6:2])([#6:3])[#6:4]). Retrosynthetic marker for late-stage C–H halogenation strategies; forward direction typically requires careful control to avoid over-halogenation. Acyl chlorides are unstable under radical conditions; nitro groups can undergo single-electron reduction by carbon radicals.",
    "prereq": "[C:1]([#6:2])([#6:3])[#6:4]Br",
    "rxn": "[C:1]([#6:2])([#6:3])[#6:4]Br>>[C:1]([#6:2])([#6:3])[#6:4]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "M06_TEMPO_oxidation_primary_alcohol_to_aldehyde_forward": {
    "brief": "Substrates: SMARTS([#6:3][CH2:1][OH:2]) -> Products: SMARTS([#6:3][CH:1](=[O:2])).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "TEMPO (catalytic)",
      "NaOCl/NaClO2 or BAIB or O2 (system-dependent)",
      "buffer (pH control)"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[CX4]([OX2][#6])([OX2][#6])"
    ],
    "name": "TEMPO oxidation (primary alcohol -> aldehyde) (forward)",
    "note": "Substrates: SMARTS([#6:3][CH2:1][OH:2]) -> Products: SMARTS([#6:3][CH:1](=[O:2])). TEMPO (catalytic) with co-oxidant (NaOCl/Anelli, BAIB/Zhao, or aerobic Cu/TEMPO). Selective for primary alcohols to aldehydes; over-oxidation to acid depends on oxidant system. Thioethers may be oxidized to sulfoxides by NaOCl co-oxidant. Acetals may be hydrolyzed under acidic Anelli conditions (buffered pH ~8-9 mitigates this). [Retro: see A03_pri_alcohol_to_aldehyde_retro]",
    "prereq": "[#6:3][CH2:1][OH:2]",
    "rxn": "[#6:3][CH2:1][OH:2]>>[#6:3][CH:1](=[O:2])",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "M07_TEMPO_oxidation_secondary_alcohol_to_ketone_forward": {
    "brief": "Substrates: SMARTS([CH1:1]([OH:2])([#6:3])[#6:4]) -> Products: SMARTS([C:1](=[O:2])([#6:3])[#6:4]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "TEMPO (catalytic)",
      "NaOCl or BAIB (system-dependent)",
      "buffered conditions"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[CX4]([OX2][#6])([OX2][#6])"
    ],
    "name": "TEMPO oxidation (secondary alcohol -> ketone) (forward)",
    "note": "Substrates: SMARTS([CH1:1]([OH:2])([#6:3])[#6:4]) -> Products: SMARTS([C:1](=[O:2])([#6:3])[#6:4]). TEMPO (catalytic) with co-oxidant (NaOCl or BAIB). prereq requires CH1 to ensure secondary alcohol (one H on carbinol carbon). Secondary alcohol oxidation is high-yielding and chemoselective; over-oxidation is not an issue. Thioethers may be oxidized to sulfoxides by NaOCl co-oxidant. Acetals may be hydrolyzed under acidic conditions. [Retro: see A05_sec_alcohol_to_ketone_retro]",
    "prereq": "[CH1:1]([OH:2])([#6:3])[#6:4]",
    "rxn": "[CH1:1]([OH:2])([#6:3])[#6:4]>>[C:1](=[O:2])([#6:3])[#6:4]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "N01_directed_CH_arylation_amide_retro": {
    "brief": "Retrosynthetic: ortho-aryl group on benzamide disconnects to benzamide + ArBr via Pd/Rh-catalyzed directed C–H arylation. Amide acts as directing group for ortho-selective C–H activation.",
    "category": "aromatic",
    "co_reactant_examples": [
      "Pd(OAc)2/Ag2CO3 or Rh(III) catalyst",
      "aryl halide or aryl boronate coupling partner",
      "oxidant/base (protocol-dependent)"
    ],
    "incompatible_groups": [
      "[S](=O)(=O)O",
      "[P](=O)(O)(O)O",
      "[SX2][#6]",
      "[#16H]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Directed C–H arylation (amide-directed, Pd/Rh) (retro)",
    "note": "Retrosynthetic: ortho-aryl on benzamide disconnects to benzamide + ArBr via directed C–H arylation. Pd(II)/Pd(0) or Rh(III) catalysts with amide as directing group. Thioethers and thiols poison Pd/Rh catalysts (added to incompatible_groups). Free amines may coordinate metal and inhibit catalysis. This template is restricted to benzene rings (6-membered carbocyclic aromatic); heteroaromatic substrates require separate templates due to different electronic properties and competing C–H sites. Real scope depends on directing group identity, catalyst/ligand system, and steric environment of competing C–H bonds.",
    "prereq": "[c:1]1([C:2](=O)[N:3])[c:4](!@[a:5])cccc1",
    "rxn": "[c:1]1([C:2](=O)[N:3])[c:4](!@[a:5])cccc1>>[c:1]1([C:2](=O)[N:3])[c:4]cccc1.[a:5]Br",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "N02_Ir_CH_borylation_arene_forward": {
    "brief": "Ir-catalyzed C–H borylation of arene C–H to aryl boronic acid/ester. Steric-controlled regioselectivity favors least hindered C–H positions.",
    "category": "aromatic",
    "co_reactant_examples": [
      "[Ir(COD)OMe]2 / dtbpy / B2pin2",
      "[Ir(COD)Cl]2 / dtbpy / HBpin",
      "inert atmosphere, 80-100°C"
    ],
    "incompatible_groups": [
      "[S](=O)(=O)O",
      "[SX2][#6]",
      "[NX3;H2,H1;+0]",
      "[CX3](=[OX1])Cl",
      "[CH1]=[O]"
    ],
    "name": "Ir-catalyzed aromatic C–H borylation (forward; arene-H -> aryl–Bpin schematic)",
    "note": "Ir-catalyzed C–H borylation with [Ir(COD)OMe]2/dtbpy and B2pin2. Regioselectivity is steric-controlled: reacts at least hindered aromatic C–H (meta/para to substituents on benzene; 3,5-positions on 1,3-disubstituted arenes). Prereq requires aromatic C–H on a ring bearing at least one substituent (bare benzene gives statistical mixtures). Thioethers poison Ir catalyst. Free amines coordinate Ir and inhibit catalysis. Acyl chlorides and aldehydes are incompatible with reaction conditions. Product is Bpin ester in practice; shown as B(OH)2 for SMARTS simplicity. [Retro: see N02_Ir_CH_borylation_arene_retro]",
    "prereq": "[c:1]([cH0])([cH])[H]",
    "rxn": "[cH:1]>>[c:1]B(O)O",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "N02_Ir_CH_borylation_arene_retro": {
    "brief": "Retrosynthetic: aryl boronic acid/ester disconnects to arene C–H via Ir-catalyzed C–H borylation. Enables late-stage boron handle installation for Suzuki/Chan–Lam coupling.",
    "category": "aromatic",
    "co_reactant_examples": [
      "[Ir(COD)OMe]2 / dtbpy / B2pin2",
      "inert atmosphere, 80-100°C"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Ir-catalyzed aromatic C–H borylation (retro; aryl–B(OH)2 -> arene-H)",
    "note": "Retrosynthetic: aryl boronic acid disconnects to arene C–H via Ir-catalyzed C–H borylation. Previous incompatible_groups contained [B](O)O which is self-contradictory (prereq requires this group). Fixed to list actual catalyst poisons: thioethers poison Ir, free amines coordinate Ir, acyl chlorides decompose under conditions. Prereq matches both boronic acid ArB(OH)2 and boronate ester ArBpin patterns. Regioselectivity is steric-controlled (least hindered C–H). Retrosynthetic marker for installing boron handle enabling downstream Suzuki/Chan–Lam chemistry.",
    "prereq": "[c:1][B]([O])([O])",
    "rxn": "[c:1][B]([O])([O])>>[cH:1]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "N03_CH_amination_nitrene_insertion_sulfonamide_retro": {
    "brief": "Retrosynthetic: C–N(sulfonamide) bond at tertiary or benzylic carbon disconnects to C–H + sulfonyl nitrene via metal-catalyzed nitrene insertion. Site-selectivity: tertiary > benzylic > allylic >> secondary.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "Rh2(esp)2 or Rh2(OAc)4 catalyst",
      "PhI=NTs or PhI(OAc)2/sulfonamide (nitrene source)",
      "inert atmosphere, DCM or PhCF3"
    ],
    "incompatible_groups": [
      "[C](=O)Cl",
      "[N+](=O)[O-]",
      "[SX2][#6]",
      "[CH1]=[O]",
      "[C]=[C]"
    ],
    "name": "C–H amination via nitrene insertion (alkyl sulfonamide handle; retro)",
    "note": "Retrosynthetic: C–N bond at tertiary or benzylic sp3 carbon bearing sulfonamide disconnects to C–H + sulfonyl nitrene. Prereq tightened to require tertiary carbon ([CX4;H1]([#6])([#6])[#6]) or benzylic carbon ([CX4;H1,H2][c]) bearing the sulfonamide N, reflecting actual nitrene insertion site-selectivity (3° > benzylic > allylic >> 2°). Previous prereq [CX4][N]SO2R was too broad and matched all alkyl sulfonamides including those from SN2, reductive amination, etc. Thioethers may poison Rh catalyst. Aldehydes and alkenes may undergo competing oxidation/aziridination under nitrene conditions. Acyl chlorides and nitro groups are incompatible with the oxidative metal-nitrene conditions.",
    "prereq": "[CX4;H1:1]([#6])([#6])[NH:2]S(=O)(=O)[#6:3]",
    "rxn": "[CX4;H1:1]([#6])([#6])[NH:2]S(=O)(=O)[#6:3]>>[CX4:1]([#6])([#6]).[NH2:2]S(=O)(=O)[#6:3]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "N04_CH_oxidation_tertiary_alcohol_retro": {
    "brief": "Retrosynthetic: tertiary alcohol (electron-rich, non-adjacent to carbonyl/heteroatom) disconnects to tertiary C–H via Fe(PDP)/Mn-catalyzed late-stage C–H hydroxylation (White-type).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "Fe(PDP)/H2O2/AcOH (White conditions)",
      "Mn(CF3-PDP)/H2O2/AcOH",
      "DMDO (dimethyldioxirane)"
    ],
    "incompatible_groups": [
      "[S](=O)(=O)O",
      "[P](=O)(O)(O)O",
      "[SX2][#6]",
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]",
      "[C]=[C]",
      "[CH1]=[O]"
    ],
    "name": "C–H oxidation (White-type/late-stage hydroxylation) (retro; install tertiary alcohol in forward)",
    "note": "Retrosynthetic: tertiary alcohol disconnects to tertiary C–H via late-stage C–H hydroxylation. Prereq tightened to require tertiary carbon bearing three carbon substituents (all sp3 carbon neighbors, no direct heteroatom neighbors) and the OH. This excludes tertiary alcohols adjacent to carbonyls, heteroatoms, or aromatic rings which are far more likely from Grignard/organometallic addition. White-type Fe(PDP)/H2O2 conditions are selective for electron-rich, sterically accessible tertiary C–H bonds. Thioethers poison Fe catalyst. Free amines coordinate Fe and inhibit catalysis. Alkenes undergo competing epoxidation. Aldehydes and acyl chlorides are oxidized/decomposed under these conditions.",
    "prereq": "[CX4:1]([OH:2])([CX4:3])([CX4:4])[CX4:5]",
    "rxn": "[CX4:1]([OH:2])([CX4:3])([CX4:4])[CX4:5]>>[CH1:1]([CX4:3])([CX4:4])[CX4:5]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "N05_benzylic_CH_oxidation_to_aldehyde_retro": {
    "brief": "Retrosynthetic: aromatic aldehyde (ArCHO) where Ar bears no other alpha-substituents disconnects to ArCH3 via benzylic C–H oxidation (DDQ, CAN, SeO2, or catalytic aerobic).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "DDQ/dioxane-H2O",
      "CAN/AcOH",
      "SeO2/dioxane",
      "CrO3·pyridine (Collins)"
    ],
    "incompatible_groups": [
      "[C](=O)Cl",
      "[N+](=O)[O-]",
      "[SX2][#6]",
      "[NX3;H2,H1;+0]",
      "[C]=[C]",
      "[CX4]([OX2][#6])([OX2][#6])"
    ],
    "name": "Benzylic C–H oxidation to aldehyde (DDQ/CAN/SeO2 etc.) (retro)",
    "note": "Retrosynthetic: ArCHO disconnects to ArCH3 via benzylic methyl oxidation. Prereq tightened to [c:1][CH1:2](=[O:3]) which matches ArCHO where the aldehyde carbon has exactly one H (correct for aldehyde). The rxn product is ArCH3, confirming this template specifically covers ArCH3 -> ArCHO oxidation (not ArCH2R -> ArCHO which involves C-C cleavage). DDQ and CAN are SET oxidants that abstract benzylic hydride; thioethers and free amines are oxidized as side reactions. Alkenes may undergo competing oxidation. Acetals are hydrolyzed under acidic DDQ/CAN conditions. Over-oxidation to ArCOOH is possible; controlled conditions (stoichiometry, temperature) are needed to stop at aldehyde.",
    "prereq": "[c:1][CH1:2](=[O:3])",
    "rxn": "[c:1][CH1:2](=[O:3])>>[c:1][CH3:2]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "N06_benzylic_CH_oxidation_to_carboxylic_acid_retro": {
    "brief": "Retrosynthetic: ArCOOH (where carboxyl is directly on ring with no alpha-branching) disconnects to ArCH3 via harsh benzylic oxidation (KMnO4, Na2Cr2O7, or catalytic aerobic).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "KMnO4/H2O/heat",
      "Na2Cr2O7/H2SO4",
      "K2Cr2O7/AcOH"
    ],
    "incompatible_groups": [
      "[S](=O)(=O)O",
      "[SX2][#6]",
      "[NX3;H2,H1;+0]",
      "[C]=[C]",
      "[CH1]=[O]",
      "[CX3](=[OX1])[OX2][#6]",
      "[CX4]([OX2][#6])([OX2][#6])",
      "[OX2r3]",
      "[#6][OX2][Si]"
    ],
    "name": "Benzylic C–H oxidation to carboxylic acid (KMnO4/CrO3/etc.) (retro)",
    "note": "Retrosynthetic: ArCOOH disconnects to ArCH3 via benzylic oxidation with strong oxidants. Prereq tightened to [c:1][CX3:2](=O)[OH:3] requiring sp2 carboxyl carbon directly on aromatic ring. The rxn product is ArCH3, confirming this covers ArCH3 -> ArCOOH (complete benzylic oxidation). KMnO4 and CrO3-based oxidants are extremely harsh: they oxidize alkenes (cleave C=C), alcohols, aldehydes, thioethers (to sulfones), free amines (to nitro/nitroso), esters (saponified under basic KMnO4), acetals (hydrolyzed under acidic Cr conditions), epoxides (opened), and silyl ethers (cleaved under acidic conditions). Incompatible_groups massively expanded to reflect this. Note: KMnO4 can also oxidize ArCH2R and ArCHR2 to ArCOOH, but those require separate templates with different atom mapping.",
    "prereq": "[c:1][CX3:2](=O)[OH:3]",
    "rxn": "[c:1][CX3:2](=O)[OH:3]>>[c:1][CH3:2]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "O01_3plus2_azomethine_ylide_cycloaddition_retro": {
    "brief": "Retrosynthetic: substituted pyrrolidine disconnects to imine (azomethine ylide precursor) + alkene (dipolarophile) via [3+2] 1,3-dipolar cycloaddition.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "α-amino acid/aldehyde condensation -> azomethine ylide",
      "AgOAc or Cu(OTf)2 / chiral ligand (asymmetric)",
      "thermal (reflux toluene) or Lewis-acid catalysis"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]",
      "[CX3](=[OX1])Cl",
      "[CH1]=[O]"
    ],
    "name": "[3+2] cycloaddition (azomethine ylide -> pyrrolidine; retro)",
    "note": "Retrosynthetic: pyrrolidine ring disconnects into azomethine ylide (imine) + alkene dipolarophile via [3+2] cycloaddition. Prereq changed to allow substituted pyrrolidines [N:1]1[C:2][C:3][C:4][C:5]1 (removed CH2 restriction). Previous prereq required all-CH2 unsubstituted pyrrolidine which is paradoxically NOT a typical [3+2] product. Atom mapping fixed: all 5 ring atoms (N:1, C:2, C:3, C:4, C:5) are tracked. Disconnection breaks N1-C5 and C3-C4 bonds: C2=N1 fragment is the imine/ylide precursor, C4=C5 is the dipolarophile. C:3 is properly accounted for in the imine fragment. Nitro groups may undergo competing 1,3-dipolar reactions. Aldehydes may form unwanted imines. Acyl chlorides are incompatible with amine/imine intermediates.",
    "prereq": "[N:1]1[C:2]([#6,H])[C:3]([#6,H])[C:4]([#6,H])[C:5]([#6,H])1",
    "rxn": "[N:1]1[C:2][C:3][C:4][C:5]1>>[N:1]=[C:2][C:3].[C:4]=[C:5]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "O02_prins_cyclization_tetrahydropyran_retro": {
    "brief": "Retrosynthetic: 2-substituted tetrahydropyran disconnects to aldehyde + homoallylic alcohol via Prins cyclization under Lewis acid catalysis.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "BF3·Et2O/DCM",
      "TiCl4/DCM",
      "TMSOTf (with allylsilane variant)"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]",
      "[C](=O)Cl",
      "[CX4]([OX2][#6])([OX2][#6])",
      "[OX2r3]",
      "[#6][OX2][Si]",
      "C(=O)OC(C)(C)C"
    ],
    "name": "Prins cyclization (tetrahydropyran formation) (retro)",
    "note": "Retrosynthetic: 2-substituted THP disconnects to aldehyde + homoallylic alcohol via Prins cyclization. Atom mapping fixed: product aldehyde uses [C:1](=[O:6]) with map numbers from substrate ring atoms (C:1 becomes the aldehyde carbon, O:6 is the new C=O oxygen introduced as part of the disconnection). Previous rxn had orphan map numbers :8,:9 not present in substrate — this is corrected. Lewis acid conditions (BF3·Et2O, TiCl4) are strongly acidic: acetals hydrolyzed, Boc groups cleaved, epoxides opened, silyl ethers cleaved. These are added to incompatible_groups.",
    "prereq": "[O:3]1[CH2:4][CH2:5][CH2:6][CH2:7][CH:1]1[#6:2]",
    "rxn": "[O:3]1[CH2:4][CH2:5][CH2:6][CH2:7][CH:1]1[#6:2]>>[#6:2][CH1:1]=[O].[OH:3][CH2:4][CH2:5][CH:6]=[CH2:7]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "O03_aza_prins_cyclization_piperidine_retro": {
    "brief": "Retrosynthetic: 2-substituted piperidine disconnects to aldehyde + homoallylic amine via aza-Prins cyclization under Lewis acid catalysis.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "BF3·Et2O or TiCl4",
      "aldehyde + N-protected homoallylic amine",
      "TMSOTf (iminium activation)"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]",
      "[C](=O)Cl",
      "[CX4]([OX2][#6])([OX2][#6])",
      "[OX2r3]",
      "[#6][OX2][Si]",
      "C(=O)OC(C)(C)C"
    ],
    "name": "Aza-Prins cyclization (piperidine formation) (retro)",
    "note": "Retrosynthetic: 2-substituted piperidine disconnects to aldehyde + homoallylic amine via aza-Prins cyclization. Atom mapping fixed: product aldehyde uses [CH1:1]=[O] with C:1 from the substrate ring (same fix as O02). Previous rxn had orphan map numbers :8,:9 not present in substrate. Lewis acid conditions are strongly acidic: acetals hydrolyzed, Boc groups cleaved, epoxides opened, silyl ethers cleaved — all added to incompatible_groups. In practice, the amine nitrogen is often protected (Ts, Cbz, Boc) or participates as an iminium ion; the [N:3] in prereq matches both protected and unprotected N. Product side shows [NH:3] (free amine) as the retrosynthetic precursor.",
    "prereq": "[N:3]1[CH2:4][CH2:5][CH2:6][CH2:7][CH:1]1[#6:2]",
    "rxn": "[N:3]1[CH2:4][CH2:5][CH2:6][CH2:7][CH:1]1[#6:2]>>[#6:2][CH1:1]=[O].[NH:3][CH2:4][CH2:5][CH:6]=[CH2:7]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "O04_petasis_ferrier_rearrangement_retro": {
    "brief": "Substrates: SMARTS([O:1]1[C:2][C:3][C:4](=O)[C:5][C:6]1) -> Products: vinyl acetal precursor via Petasis-Ferrier rearrangement.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "Lewis acid (BF3·Et2O, TiCl4, etc.)",
      "vinyl/acetal precursors (Petasis–Ferrier substrates)"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]",
      "C(=O)OC(C)(C)C",
      "[#6][OX2][Si]",
      "[OX2r3]"
    ],
    "name": "Petasis–Ferrier rearrangement (tetrahydropyranone synthesis) (retro; schematic)",
    "note": "Retrosynthetic: substituted tetrahydropyranone disconnects to vinyl acetal precursor via Petasis-Ferrier rearrangement under Lewis acid (BF3·Et2O, TiCl4). prereq allows substitution on ring carbons (removed all-CH2 restriction). Lewis acid conditions cleave Boc groups, TBS ethers, and open epoxides. Nitro groups may undergo reduction under some Lewis acid conditions.",
    "prereq": "[O:1]1[C:2][C:3][C:4](=O)[C:5][C:6]1",
    "rxn": "[O:1]1[C:2][C:3][C:4](=O)[C:5][C:6]1>>[O:1]1[C:2][C:3][C:4]([O][C][O])[C:5][C:6]1",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "O05_conia_ene_cyclization_retro": {
    "brief": "Retro Conia-ene: α-ester cyclopentanone disconnects to keto-ester-alkyne precursor via Au/Cu-catalyzed cyclization.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "Au/Ag/Cu catalysts (common)",
      "enol/enolate formation",
      "keto-alkyne substrates"
    ],
    "incompatible_groups": [
      "[C](=O)Cl",
      "[SX2][#6]"
    ],
    "name": "Conia-ene cyclization (keto-alkyne/alkene cyclization) (retro; schematic)",
    "note": "Retrosynthetic: cyclopentanone bearing α-ester disconnects to keto-ester-alkyne precursor via Conia-ene cyclization. Au/Ag/Cu catalysts activate alkyne toward nucleophilic enol attack. prereq requires α-carbonyl with adjacent ester (β-ketoester motif), reflecting the classical Conia-ene substrate requirement for α-acidic C-H. Thioethers poison Au/Cu catalysts. Acyl chlorides unstable under reaction conditions.",
    "prereq": "O=[C:1]1([C](=O)[O,N])[C:2][C:3][C:4][C:5]1",
    "rxn": "O=[C:1]1([C](=O)[O,N])[C:2][C:3][C:4][C:5]1>>O=[C:1]([C](=O)[O,N])[C:2][C:3][C:4][C:5]C#C",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "O06_4plus3_cycloaddition_retro": {
    "brief": "Retro [4+3]: cyclohept-4-enone disconnects to diene + oxyallyl cation precursor (α,α'-dihaloketone).",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "oxyallyl precursor generation (α,α'-dihaloketones + Zn/base)",
      "diene (e.g., furan, cyclopentadiene)",
      "Lewis acid or base"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]",
      "C(=O)OC(C)(C)C",
      "[OX2r3]"
    ],
    "name": "[4+3] cycloaddition (oxyallyl + diene) (retro; schematic)",
    "note": "Retrosynthetic: seven-membered ring containing a ketone and at least one C=C disconnects to diene + oxyallyl cation equivalent. [4+3] cycloaddition products are typically cycloheptenones (unsaturated), not fully saturated cycloheptanones. prereq requires at least one C=C within the 7-membered ring. Oxyallyl cation is generated in situ from α,α'-dihaloketone + Zn or base. Lewis acid conditions incompatible with Boc, epoxides.",
    "prereq": "O=[C:1]1[C:2][C:3]=[C:4][C:5][C:6][C:7]1",
    "rxn": "O=[C:1]1[C:2][C:3]=[C:4][C:5][C:6][C:7]1>>[C:3]=[C:4][C:5]=[C:6].O=[C:1]([C:2])([C:7])",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "O07_5plus2_cycloaddition_vinylcyclopropane_alkyne_retro": {
    "brief": "Retro [5+2]: substituted cycloheptadiene disconnects to vinylcyclopropane + alkyne via Rh-catalyzed cycloaddition.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "Rh catalyst (e.g., [Rh(CO)2Cl]2)",
      "vinylcyclopropane substrate",
      "alkyne (terminal or internal)"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]",
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "[5+2] cycloaddition (Rh-catalyzed vinylcyclopropane + alkyne) (retro; schematic)",
    "note": "Retrosynthetic: seven-membered ring with two C=C bonds (cycloheptadiene) disconnects to vinylcyclopropane + alkyne. Rh(I) catalyst opens VCP to form metallacycle, then alkyne insertion and reductive elimination. prereq requires 7-membered ring with at least two double bonds (typical [5+2] product is 1,3-cycloheptadiene). Thioethers and free amines poison Rh catalyst.",
    "prereq": "C1=CC=CCCC1",
    "rxn": "C1=CC=CCCC1>>C=CC1CC1.C#C",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "O08_donor_acceptor_cyclopropane_ring_opening_forward": {
    "brief": "D-A cyclopropane (geminal diester + aryl/vinyl donor) ring opening under Lewis acid to 1,3-zwitterion/alkene.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "Lewis acid activation (e.g., BF3·Et2O)",
      "nucleophile trapping often used in practice",
      "donor–acceptor cyclopropane substrates"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]",
      "C(=O)OC(C)(C)C",
      "[OX2r3]"
    ],
    "name": "Donor–acceptor cyclopropane ring opening (forward; schematic)",
    "note": "D-A cyclopropane ring opening under Lewis acid (BF3·Et2O, Yb(OTf)3, etc.). prereq requires geminal diester (acceptor) and an aryl or vinyl donor on the opposite carbon. The 1,3-zwitterion is typically trapped by a nucleophile; this template encodes net ring opening to alkene as a bookkeeping placeholder. Lewis acid conditions cleave Boc groups and open epoxides.",
    "prereq": "[C:1]1[C:2]([C:3](=O)O)([C:4](=O)O)[C:5]1([a,C]=[C])",
    "rxn": "[C:1]1[C:2]([C:3](=O)O)([C:4](=O)O)[C:5]1([a,C]=[C])>>[C:1]=[C:2]([C:3](=O)O)([C:4](=O)O)[C:5]([a,C]=[C])",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "P01_bischler_napieralski_isoquinoline_retro": {
    "brief": "Substrates: SMARTS([c:1]1ccc2c(c1)[CH2:2][CH2:3][N:5]=[C:4]2) -> Products: SMARTS([c:1]1ccc(cc1)[CH2:2][CH2:3][C:4](=O)[NH:5]).",
    "category": "heterocycle",
    "co_reactant_examples": [
      "POCl3 / P2O5 / SOCl2 (cyclodehydration)",
      "Lewis acid activation",
      "optional oxidation to isoquinoline"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]",
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Bischler–Napieralski cyclization (β-phenethylamide -> dihydroisoquinoline; retro)",
    "note": "Retrosynthetic: dihydroisoquinoline (N=C imine in fused ring) disconnects to β-phenethylamide via Bischler-Napieralski cyclization. POCl3/P2O5/SOCl2 activates amide carbonyl, then intramolecular electrophilic aromatic substitution closes the ring. Free amines and free hydroxyl groups react with POCl3 (phosphorylation). Nitro groups may interfere under Lewis acid conditions.",
    "prereq": "[c:1]1ccc2c(c1)[CH2:2][CH2:3][N:5]=[C:4]2",
    "rxn": "[c:1]1ccc2c(c1)[CH2:2][CH2:3][N:5]=[C:4]2>>[c:1]1ccc(cc1)[CH2:2][CH2:3][C:4](=O)[NH:5]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "P02_skraup_quinoline_retro": {
    "brief": "Retro Skraup: quinoline (unsubstituted at 3,4) disconnects to aniline + acrolein under strongly acidic/oxidative conditions.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "aniline + glycerol (acrolein in situ)",
      "strong acid",
      "oxidant (nitrobenzene, etc.)"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]",
      "[CX3](=[OX1])[OX2][#6]",
      "C(=O)OC(C)(C)C",
      "[OX2r3]"
    ],
    "name": "Skraup quinoline synthesis (retro; scaffold-level)",
    "note": "Retrosynthetic: quinoline with unsubstituted or 2-monosubstituted pattern disconnects to aniline + acrolein equivalent (glycerol in situ) via Skraup synthesis. Harsh conditions: conc. H2SO4, high temperature, oxidant (nitrobenzene). Esters saponified, Boc cleaved, epoxides opened under strongly acidic conditions. prereq requires quinoline with H at positions 3 and 4 (Skraup does not introduce substituents at 3,4).",
    "prereq": "n1c([#6,H])c([H])c([H])c2ccccc12",
    "rxn": "n1c([#6,H])c([H])c([H])c2ccccc12>>Nc1ccccc1.C=CC=O",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "P03_combes_quinoline_retro": {
    "brief": "Retro Combes: 2,4-disubstituted quinoline disconnects to aniline + β-diketone under acid catalysis.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "aniline + β-diketone/β-ketoester",
      "acid catalysis",
      "dehydration/oxidation as needed"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]",
      "[CX3](=[OX1])[OX2][#6]",
      "[OX2r3]"
    ],
    "name": "Combes quinoline synthesis (retro; scaffold-level)",
    "note": "Retrosynthetic: 2,4-disubstituted quinoline disconnects to aniline + β-diketone via Combes synthesis. Acid-catalyzed condensation followed by cyclodehydration. prereq requires substituents at both 2- and 4-positions (Combes characteristic pattern from β-diketone). Esters and epoxides incompatible under acidic conditions.",
    "prereq": "n1c([#6])cc([#6])c2ccccc12",
    "rxn": "n1c([#6])cc([#6])c2ccccc12>>Nc1ccccc1.CC(=O)CC(=O)C",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "P04_doebner_miller_quinoline_retro": {
    "brief": "Retro Doebner-Miller: 2-substituted quinoline disconnects to aniline + α,β-unsaturated aldehyde under acid catalysis.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "aniline + α,β-unsaturated carbonyl (crotonaldehyde-like)",
      "acid catalysis",
      "oxidation"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]",
      "[CX3](=[OX1])[OX2][#6]",
      "[OX2r3]"
    ],
    "name": "Doebner–Miller quinoline synthesis (retro; scaffold-level)",
    "note": "Retrosynthetic: 2-substituted quinoline (unsubstituted at 3,4 or 3-substituted) disconnects to aniline + α,β-unsaturated aldehyde via Doebner-Miller synthesis. Acid-catalyzed conjugate addition, cyclization, and oxidation. prereq requires substituent at 2-position (from aldehyde terminus). Esters and epoxides incompatible under acidic conditions.",
    "prereq": "n1c([#6])ccc2ccccc12",
    "rxn": "n1c([#6])ccc2ccccc12>>Nc1ccccc1.CC=CC=O",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "P05_madelung_indole_retro": {
    "brief": "Retrosynthetic: 2-substituted indole disconnects to N-acyl-ortho-toluidine via Madelung intramolecular cyclization under strong base (NaNH2, t-BuOK) at high temperature.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "NaNH2 / mineral oil / 200-300°C",
      "t-BuOK / THF / reflux (modified Madelung)",
      "n-BuLi / THF / -78°C to rt (Houlihan modification)"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]",
      "[CX3](=[OX1])[OX2][#6]",
      "[CX3](=[OX1])Cl",
      "[OX2r3]",
      "[C]#[CH]"
    ],
    "name": "Madelung indole synthesis (retro; o-toluidide cyclization)",
    "note": "Retrosynthetic: 2-substituted indole disconnects to N-acyl-ortho-toluidine precursor via Madelung cyclization. CRITICAL FIX: previous product SMILES Cc1cccc(NC(=O)C)c1 had methyl and acylamino in meta (1,3) relationship — this is chemically wrong. Madelung requires ortho relationship (methyl adjacent to acylamino). Corrected to Cc1ccccc1NC(=O)C (ortho-methyl acetanilide). NaNH2 at 200-300°C or t-BuOK/THF (modified) or n-BuLi (Houlihan). Strongly basic conditions: esters saponified, acyl chlorides destroyed, epoxides opened, terminal alkynes deprotonated. Prereq uses 2-substituted indole pattern c1ccc2[nH]c([#6])cc2c1 to distinguish from Fischer (which gives 2,3-disubstituted) and Bartoli (which requires ortho-substituted nitroarene).",
    "prereq": "c1ccc2[nH]c([#6])cc2c1",
    "rxn": "c1ccc2[nH]c([#6])cc2c1>>Cc1ccccc1NC(=O)C",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "P06_bartoli_indole_retro": {
    "brief": "Retrosynthetic: 7-substituted indole disconnects to ortho-substituted nitroarene + vinyl Grignard (3 equiv) via Bartoli indole synthesis at low temperature (-40 to -78°C).",
    "category": "heterocycle",
    "co_reactant_examples": [
      "CH2=CHMgBr (3 equiv) / THF / -40°C",
      "CH2=C(CH3)MgBr (3 equiv) / THF / -78°C"
    ],
    "incompatible_groups": [
      "[C](=O)Cl",
      "[S](=O)(=O)O",
      "[CX3](=[OX1])[OX2][#6]",
      "[CX3](=[OX1])[#6]",
      "[CH1]=[O]",
      "[OX2r3]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Bartoli indole synthesis (ortho-substituted nitroarene + vinyl Grignard) (retro)",
    "note": "Retrosynthetic: 7-substituted indole disconnects to ortho-substituted nitroarene + vinyl Grignard via Bartoli synthesis. CRITICAL FIX: (1) Bartoli reaction strictly requires ortho-substituted nitroarene — unsubstituted or meta/para-only substituted nitroarenes give very low yields. Previous product SMILES O=[N+]([O-])c1ccccc1 was unsubstituted nitrobenzene, violating this core requirement. Corrected to O=[N+]([O-])c1ccccc1[#6] (ortho-substituted). (2) Prereq tightened to require substituent at C-7 position of indole (which maps to the ortho substituent on the nitroarene precursor). (3) Vinyl Grignard (3 equiv excess) is incompatible with all electrophilic groups: esters, ketones, aldehydes, acyl chlorides, epoxides. Free amines may coordinate Mg. All added to incompatible_groups.",
    "prereq": "c1ccc2[nH]ccc2c1[#6]",
    "rxn": "c1ccc2[nH]ccc2c1[#6]>>O=[N+]([O-])c1ccccc1[#6].C=C[Mg]Br",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "P07_nenitzescu_indole_retro": {
    "brief": "Retrosynthetic: 5-hydroxyindole disconnects to p-benzoquinone + β-aminocrotonate (enamine) via Nenitzescu indole synthesis under mild acid/base conditions.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "p-benzoquinone / AcOH / rt-60°C",
      "β-aminocrotonate or β-enaminone",
      "mild acid (AcOH) or Lewis acid"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]",
      "[CX4]([OX2][#6])([OX2][#6])",
      "[SX2][#6]",
      "C(=O)OC(C)(C)C"
    ],
    "name": "Nenitzescu indole synthesis (p-benzoquinone + β-aminocrotonate) (retro)",
    "note": "Retrosynthetic: 5-hydroxyindole disconnects to p-benzoquinone + β-aminocrotonate via Nenitzescu synthesis. CRITICAL FIX: previous product SMILES O=c1ccc(=O)cc1 used lowercase aromatic 'c' for p-benzoquinone — this is chemically wrong because p-benzoquinone is NOT aromatic (it is a cross-conjugated cyclohexadienedione). Corrected to O=C1C=CC(=O)C=C1 (Kekulé form). Prereq Oc1ccc2[nH]ccc2c1 correctly requires 5-hydroxy substitution, which is the hallmark of Nenitzescu products. Mild acid conditions: acetals may be hydrolyzed, Boc groups may be cleaved. Quinone is an oxidant: thioethers may be oxidized.",
    "prereq": "Oc1ccc2[nH]ccc2c1",
    "rxn": "Oc1ccc2[nH]ccc2c1>>O=C1C=CC(=O)C=C1.NC(C)=CC(=O)OC",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "P08_van_leusen_oxazole_retro": {
    "brief": "Retrosynthetic: 4,5-disubstituted oxazole disconnects to aldehyde + TosMIC (tosylmethyl isocyanide) via Van Leusen [3+2] cycloaddition under mild base (K2CO3, DBU).",
    "category": "heterocycle",
    "co_reactant_examples": [
      "TosMIC / K2CO3 / MeOH / reflux",
      "TosMIC / DBU / MeOH-DME",
      "TosMIC / Et3N / MeOH"
    ],
    "incompatible_groups": [
      "[C](=O)Cl",
      "[N+](=O)[O-]",
      "[OX2r3]"
    ],
    "name": "Van Leusen oxazole synthesis (TosMIC + aldehyde) (retro)",
    "note": "Retrosynthetic: 4,5-disubstituted oxazole disconnects to aldehyde + TosMIC via Van Leusen synthesis. CRITICAL FIXES: (1) Previous TosMIC SMILES CS(=O)(=O)c1ccc(cc1)C[N+]#[C-] was structurally wrong — it had sulfonyl directly on ring with methyl on S. Correct TosMIC structure is Cc1ccc(cc1)S(=O)(=O)C[N+]#[C-] (4-methylphenylsulfonylmethyl isocyanide: methyl on ring para position, sulfonyl bridges ring to CH2NC). (2) Previous prereq o1nccc1 matched all unsubstituted oxazoles, but Van Leusen specifically produces 4,5-disubstituted oxazoles (C-5 from aldehyde R group, C-4 from TosMIC). Prereq tightened to require substitution at C-4 and C-5. (3) Mild base conditions (K2CO3/MeOH): generally compatible with most functional groups. Acyl chlorides react with MeOH. Epoxides may open under basic conditions.",
    "prereq": "o1nc([#6])c([#6])c1",
    "rxn": "o1nc([#6:1])c([#6:2])c1>>[CH1:1](=O)[#6:2].Cc1ccc(cc1)S(=O)(=O)C[N+]#[C-]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "P09_biginelli_dihydropyrimidinone_retro": {
    "brief": "Retrosynthetic: 3,4-dihydropyrimidin-2(1H)-one disconnects to aldehyde + β-ketoester + urea via Biginelli three-component condensation under acid catalysis.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "RCHO + R'COCH2COOR'' + H2NCONH2 / HCl cat. / EtOH / reflux",
      "Lewis acid (FeCl3, InCl3, CeCl3) / solvent-free",
      "Yb(OTf)3 / THF (asymmetric variant)"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]",
      "[CX4]([OX2][#6])([OX2][#6])",
      "[OX2r3]",
      "C(=O)OC(C)(C)C"
    ],
    "name": "Biginelli multicomponent condensation (dihydropyrimidinone) (retro)",
    "note": "Retrosynthetic: dihydropyrimidinone disconnects to aldehyde + β-ketoester + urea via Biginelli MCR. FIXES: (1) Prereq tightened to O=C1[NH]C([NH2])=NCC1 requiring explicit NH on ring nitrogen and NH2 on the urea-derived carbon, excluding N-alkylated pyrimidinones that are not Biginelli products. (2) Product β-ketoester generalized from fixed CC(=O)CC(=O)OC to [#6]C(=O)CC(=O)O[#6] to cover various β-ketoesters (not just methyl acetoacetate). (3) Acid catalysis conditions: acetals hydrolyzed, Boc groups cleaved, epoxides opened — added to incompatible_groups. Biginelli produces a new stereocenter at C-4; racemic under standard conditions, enantioselective with chiral catalysts.",
    "prereq": "O=C1[NH]C([NH2])=NCC1",
    "rxn": "O=C1[NH]C([NH2])=NCC1>>[CH1](=O)[#6].[#6]C(=O)CC(=O)O[#6].NC(=O)N",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "Q01_TIPS_deprotect_forward": {
    "brief": "TIPS silyl ether cleaved to free alcohol by fluoride source (TBAF, HF·pyridine). TBAF removes most silyl ethers non-selectively; HF·pyridine is milder and more selective.",
    "category": "protection",
    "co_reactant_examples": [
      "TBAF (1M in THF) / rt / 1-12h",
      "HF·pyridine / THF / 0°C",
      "TASF / DMF"
    ],
    "incompatible_groups": [
      "[#6][OX2][Si](C)(C)C",
      "[#6][OX2][Si](C)(C)(C)",
      "[CX3](=[OX1])Cl"
    ],
    "name": "TIPS deprotection (forward)",
    "note": "TIPS deprotection by fluoride. TBAF is the standard reagent but removes ALL silyl ethers (TMS, TES, TBS, TIPS, TBDPS) non-selectively. incompatible_groups updated: [#6][OX2][Si](C)(C)C flags other silyl ethers (TMS/TES) that would be co-removed by TBAF. If selective TIPS removal is needed in presence of TMS, use HF·pyridine (slower, more selective). Acyl chlorides react with TBAF (fluoride is nucleophilic). TIPS stability order: TBAF removes all; HF·pyridine: TMS < TES < TBS < TIPS < TBDPS.",
    "prereq": "[C:1][O:2][Si](C(C)C)(C(C)C)C(C)C",
    "rxn": "[C:1][O:2][Si](C(C)C)(C(C)C)C(C)C>>[C:1][OH:2]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "Q01_TIPS_deprotect_retro": {
    "brief": "Retrosynthetic: free alcohol suggests TIPS protection may have been installed earlier. Prereq excludes carboxylic acid OH (TIPS protection of COOH is uncommon).",
    "category": "protection",
    "co_reactant_examples": [
      "TIPSCl / imidazole / DMF / rt",
      "TIPSOTf / 2,6-lutidine / CH2Cl2 / 0°C"
    ],
    "incompatible_groups": [
      "[C](=O)Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "TIPS deprotection (retro; protection heuristic)",
    "note": "Retrosynthetic: free alcohol disconnects to TIPS-protected alcohol (suggesting TIPS was installed in forward synthesis). Prereq tightened from [C:1][OH:2] to [CX4:1][OH:2] to exclude carboxylic acid OH (where C is sp2, CX3). TIPS protection of carboxylic acids is uncommon; esters or other PGs are preferred. Free amines added to incompatible_groups: TIPSCl/TIPSOTf will silylate free NH2/NH competitively with OH (N-silylation is kinetically fast though thermodynamically reversible). Acyl chlorides react with the imidazole base.",
    "prereq": "[CX4:1][OH:2]",
    "rxn": "[CX4:1][OH:2]>>[CX4:1][O:2][Si](C(C)C)(C(C)C)C(C)C",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "Q01_TIPS_protect_forward": {
    "brief": "Alcohol protected as TIPS silyl ether using TIPSCl or TIPSOTf with base. Prereq excludes carboxylic acid OH.",
    "category": "protection",
    "co_reactant_examples": [
      "TIPSCl / imidazole / DMF / rt",
      "TIPSOTf / 2,6-lutidine / CH2Cl2 / 0°C"
    ],
    "incompatible_groups": [
      "[C](=O)Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "TIPS protection (forward)",
    "note": "TIPS protection of alcohol. Prereq tightened to [CX4:1][OH:2] to exclude carboxylic acid OH (sp2 carbon). TIPS protection of COOH is uncommon. Free amines compete for silylation (N-silylation is kinetically fast). Acyl chlorides react with imidazole base. TIPSOTf is more reactive than TIPSCl and can silylate hindered secondary/tertiary alcohols. TIPS = Si(iPr)3.",
    "prereq": "[CX4:1][OH:2]",
    "rxn": "[CX4:1][OH:2]>>[CX4:1][O:2][Si](C(C)C)(C(C)C)C(C)C",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "Q01_TIPS_protect_retro": {
    "brief": "Retrosynthetic: TIPS silyl ether disconnects to free alcohol via TIPS deprotection (TBAF or HF·pyridine). Flags other silyl ethers that would be co-removed.",
    "category": "protection",
    "co_reactant_examples": [
      "TBAF (1M in THF) / rt",
      "HF·pyridine / THF / 0°C"
    ],
    "incompatible_groups": [
      "[#6][OX2][Si](C)(C)C",
      "[#6][OX2][Si](C)(C)(C)",
      "[CX3](=[OX1])Cl"
    ],
    "name": "TIPS protection (retro; deprotection heuristic)",
    "note": "Retrosynthetic: TIPS ether disconnects to free alcohol (deprotection in forward direction). incompatible_groups flags other silyl ethers (TMS/TES/TBS) that TBAF would co-remove non-selectively. If molecule has multiple different silyl PGs, selective deprotection order must be planned. Acyl chlorides react with fluoride. Same chemistry as Q01_TIPS_deprotect_forward but in retrosynthetic context.",
    "prereq": "[C:1][O:2][Si](C(C)C)(C(C)C)C(C)C",
    "rxn": "[C:1][O:2][Si](C(C)C)(C(C)C)C(C)C>>[C:1][OH:2]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "Q02_TBDPS_deprotect_forward": {
    "brief": "TBDPS silyl ether cleaved to free alcohol by TBAF or HF·pyridine. TBDPS is the most stable common silyl PG; TBAF removes it but also removes all less stable silyl ethers.",
    "category": "protection",
    "co_reactant_examples": [
      "TBAF (1M in THF) / rt / 12-24h",
      "HF·pyridine / THF / rt",
      "TBAF / AcOH (buffered, slower)"
    ],
    "incompatible_groups": [
      "[#6][OX2][Si](C)(C)C",
      "[#6][OX2][Si](C(C)C)(C(C)C)C(C)C",
      "[CX3](=[OX1])Cl"
    ],
    "name": "TBDPS deprotection (forward)",
    "note": "TBDPS deprotection by fluoride. TBDPS = Si(tBu)(Ph)2 is the most stable common silyl ether. TBAF removes it but requires longer reaction time than for TMS/TES/TBS/TIPS. incompatible_groups updated to flag other silyl ethers (TMS via [#6][OX2][Si](C)(C)C and TIPS via the iPr pattern) that would be co-removed by TBAF. If selective TBDPS removal is needed while preserving other silyl PGs, this is generally NOT possible with TBAF (TBDPS is the last to come off). Acyl chlorides react with fluoride nucleophile.",
    "prereq": "[C:1][O:2][Si](C(C)(C)C)(c1ccccc1)(c1ccccc1)",
    "rxn": "[C:1][O:2][Si](C(C)(C)C)(c1ccccc1)(c1ccccc1)>>[C:1][OH:2]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "Q02_TBDPS_deprotect_retro": {
    "brief": "Substrates: SMARTS([C:1][OH:2]) -> Products: SMARTS([C:1][O:2][Si](C(C)(C)C)(c1ccccc1)(c1ccccc1)).",
    "category": "protection",
    "co_reactant_examples": [
      "TBDPSCl",
      "base (imidazole)",
      "DMF"
    ],
    "incompatible_groups": [
      "[C](=O)Cl"
    ],
    "name": "TBDPS deprotection (retro; protection heuristic)",
    "note": "Substrates: SMARTS([C:1][OH:2]) -> Products: SMARTS([C:1][O:2][Si](C(C)(C)C)(c1ccccc1)(c1ccccc1)). Typical co-reactants/conditions: TBDPSCl, base (imidazole), DMF. First-principles: the feasibility is dominated by (i) thermodynamics of bond making/breaking (e.g., relative bond dissociation energies, redox potentials, and acid–base equilibria) and (ii) kinetic control via transition-state stabilization and/or catalyst coordination geometry. Stereochemical outcome, regioselectivity, and chemoselectivity depend strongly on substrate electronics/sterics, catalyst/ligand, solvent, and temperature; treat this template as a retrosynthetic disconnection heuristic rather than a guarantee. Incompatible_groups flags motifs likely to (a) be consumed by the reagent/catalyst, (b) poison catalysts, or (c) undergo competing pathways under typical conditions (SMARTS: [C](=O)Cl). Retro corresponds to installation of TBDPS protecting group.",
    "prereq": "[C:1][OH:2]",
    "rxn": "[C:1][OH:2]>>[C:1][O:2][Si](C(C)(C)C)(c1ccccc1)(c1ccccc1)",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "Q02_TBDPS_protect_forward": {
    "brief": "Substrates: SMARTS([C:1][OH:2]) -> Products: SMARTS([C:1][O:2][Si](C(C)(C)C)(c1ccccc1)(c1ccccc1)).",
    "category": "protection",
    "co_reactant_examples": [
      "TBDPSCl",
      "base (imidazole)",
      "DMF"
    ],
    "incompatible_groups": [
      "[C](=O)Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "TBDPS protection (forward)",
    "note": "Substrates: SMARTS([C:1][OH:2]) -> Products: SMARTS([C:1][O:2][Si](C(C)(C)C)(c1ccccc1)(c1ccccc1)). TBDPSCl + imidazole/DMF. Acyl chlorides react with imidazole base. Free amines may compete for silylation (O-silylation is kinetically preferred but NH2 can react). Selectivity: primary OH > secondary OH >> tertiary OH.",
    "prereq": "[C:1][OH:2]",
    "rxn": "[C:1][OH:2]>>[C:1][O:2][Si](C(C)(C)C)(c1ccccc1)(c1ccccc1)",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "Q02_TBDPS_protect_retro": {
    "brief": "Substrates: SMARTS([C:1][O:2][Si](C(C)(C)C)(c1ccccc1)(c1ccccc1)) -> Products: SMARTS([C:1][OH:2]).",
    "category": "protection",
    "co_reactant_examples": [
      "TBAF or HF·pyridine",
      "THF"
    ],
    "incompatible_groups": [
      "[Si](C)(C)C"
    ],
    "name": "TBDPS protection (retro; deprotection heuristic)",
    "note": "Substrates: SMARTS([C:1][O:2][Si](C(C)(C)C)(c1ccccc1)(c1ccccc1)) -> Products: SMARTS([C:1][OH:2]). Typical co-reactants/conditions: TBAF or HF·pyridine, THF. First-principles: the feasibility is dominated by (i) thermodynamics of bond making/breaking (e.g., relative bond dissociation energies, redox potentials, and acid–base equilibria) and (ii) kinetic control via transition-state stabilization and/or catalyst coordination geometry. Stereochemical outcome, regioselectivity, and chemoselectivity depend strongly on substrate electronics/sterics, catalyst/ligand, solvent, and temperature; treat this template as a retrosynthetic disconnection heuristic rather than a guarantee. Incompatible_groups flags motifs likely to (a) be consumed by the reagent/catalyst, (b) poison catalysts, or (c) undergo competing pathways under typical conditions (SMARTS: [Si](C)(C)C). Protecting group: TBDPS. Reverse direction corresponds to deprotection.",
    "prereq": "[C:1][O:2][Si](C(C)(C)C)(c1ccccc1)(c1ccccc1)",
    "rxn": "[C:1][O:2][Si](C(C)(C)C)(c1ccccc1)(c1ccccc1)>>[C:1][OH:2]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "Q03_MOM_deprotect_forward": {
    "brief": "Substrates: SMARTS([C:1][O:2]COC) -> Products: SMARTS([C:1][OH:2]).",
    "category": "protection",
    "co_reactant_examples": [
      "acid (HCl, TFA) or Lewis acid",
      "MeOH/CH2Cl2"
    ],
    "incompatible_groups": [
      "[C](=O)Cl",
      "C(=O)OC(C)(C)C",
      "[CX4]([OX2][#6])([OX2][#6])"
    ],
    "name": "MOM deprotection (forward)",
    "note": "MOM ether cleaved by acid (HCl, TFA, Lewis acid such as TMSBr/ZnBr2). prereq requires -O-CH2-OCH3 (CH2 linker is characteristic of MOM). Acidic conditions also cleave Boc groups, acetals/ketals, and THP ethers. Acyl chlorides unstable under acidic conditions.",
    "prereq": "[C:1][O:2][CH2]OC",
    "rxn": "[C:1][O:2][CH2]OC>>[C:1][OH:2]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "Q03_MOM_deprotect_retro": {
    "brief": "Substrates: SMARTS([CX4;!$([CX4](=O)):1][OH:2]) (sp3 C-OH, not carboxylic acid) -> Products: SMARTS([C:1][O:2]COC).",
    "category": "protection",
    "co_reactant_examples": [
      "MOMCl",
      "base (DIPEA, iPr2NEt)",
      "CH2Cl2"
    ],
    "incompatible_groups": [
      "[C](=O)Cl",
      "[CX3](=[OX1])[OX2H]"
    ],
    "name": "MOM deprotection (retro; protection heuristic)",
    "note": "Retro corresponds to installation of MOM protecting group. MOMCl + base (DIPEA). Acyl chlorides react with base. Free carboxylic acids may compete for alkylation by MOMCl. Prereq restricted to sp3 C-OH (alcohols), excluding carboxylic acids, enols, and phenols (MOM protection of phenols is rare in retrosynthesis datasets).",
    "prereq": "[CX4;!$([CX4][#8]~[#6X3]=[O]):1][OH:2]",
    "rxn": "[C:1][OH:2]>>[C:1][O:2]COC",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "Q03_MOM_protect_forward": {
    "brief": "Substrates: SMARTS([C:1][OH:2]) -> Products: SMARTS([C:1][O:2]COC).",
    "category": "protection",
    "co_reactant_examples": [
      "MOMCl",
      "base (DIPEA, iPr2NEt)",
      "CH2Cl2"
    ],
    "incompatible_groups": [
      "[C](=O)Cl",
      "[CX3](=[OX1])[OX2H]"
    ],
    "name": "MOM protection (forward)",
    "note": "MOMCl + base (DIPEA) in CH2Cl2. Acyl chlorides react with base. Free carboxylic acids may compete for O-alkylation by MOMCl. MOM = -CH2-O-CH3 [Retro: see Q03_MOM_protect_retro]",
    "prereq": "[C:1][OH:2]",
    "rxn": "[C:1][OH:2]>>[C:1][O:2]COC",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "Q03_MOM_protect_retro": {
    "brief": "Substrates: SMARTS([C:1][O:2]COC) -> Products: SMARTS([C:1][OH:2]).",
    "category": "protection",
    "co_reactant_examples": [
      "acid (HCl, TFA) or Lewis acid",
      "MeOH/CH2Cl2"
    ],
    "incompatible_groups": [
      "[C](=O)Cl",
      "C(=O)OC(C)(C)C",
      "[CX4]([OX2][#6])([OX2][#6])"
    ],
    "name": "MOM protection (retro; deprotection heuristic)",
    "note": "Retro corresponds to MOM deprotection (acid conditions). prereq requires -O-CH2-OCH3 (CH2 linker characteristic of MOM). Acidic conditions also cleave Boc groups and acetals/ketals.",
    "prereq": "[C:1][O:2][CH2]OC",
    "rxn": "[C:1][O:2][CH2]OC>>[C:1][OH:2]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "Q04_SEM_deprotect_forward": {
    "brief": "Substrates: SMARTS([C:1][O:2]COCC[Si](C)(C)C) -> Products: SMARTS([C:1][OH:2]).",
    "category": "protection",
    "co_reactant_examples": [
      "fluoride (TBAF) and/or mild acid (protocol-dependent)"
    ],
    "incompatible_groups": [
      "[C](=O)Cl",
      "[#6][OX2][Si]"
    ],
    "name": "SEM deprotection (forward)",
    "note": "SEM ether cleaved by TBAF or mild acid. TBAF also removes other silyl protecting groups (TBS, TMS, TIPS, TBDPS) — any O-Si bond in the molecule is at risk. Acyl chlorides unstable under fluoride/basic conditions. [Retro: see Q04_SEM_deprotect_retro]",
    "prereq": "[C:1][O:2]COCC[Si](C)(C)C",
    "rxn": "[C:1][O:2]COCC[Si](C)(C)C>>[C:1][OH:2]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "Q04_SEM_deprotect_retro": {
    "brief": "Substrates: SMARTS([C:1][OH:2]) -> Products: SMARTS([C:1][O:2]COCC[Si](C)(C)C).",
    "category": "protection",
    "co_reactant_examples": [
      "SEMCl",
      "base (DIPEA)",
      "CH2Cl2"
    ],
    "incompatible_groups": [
      "[C](=O)Cl"
    ],
    "name": "SEM deprotection (retro; protection heuristic)",
    "note": "Substrates: SMARTS([C:1][OH:2]) -> Products: SMARTS([C:1][O:2]COCC[Si](C)(C)C). Typical co-reactants/conditions: SEMCl, base (DIPEA), CH2Cl2. First-principles: the feasibility is dominated by (i) thermodynamics of bond making/breaking (e.g., relative bond dissociation energies, redox potentials, and acid–base equilibria) and (ii) kinetic control via transition-state stabilization and/or catalyst coordination geometry. Stereochemical outcome, regioselectivity, and chemoselectivity depend strongly on substrate electronics/sterics, catalyst/ligand, solvent, and temperature; treat this template as a retrosynthetic disconnection heuristic rather than a guarantee. Incompatible_groups flags motifs likely to (a) be consumed by the reagent/catalyst, (b) poison catalysts, or (c) undergo competing pathways under typical conditions (SMARTS: [C](=O)Cl). Retro corresponds to installation of SEM protecting group.",
    "prereq": "[C:1][OH:2]",
    "rxn": "[C:1][OH:2]>>[C:1][O:2]COCC[Si](C)(C)C",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "Q04_SEM_protect_forward": {
    "brief": "Substrates: SMARTS([C:1][OH:2]) -> Products: SMARTS([C:1][O:2]COCC[Si](C)(C)C).",
    "category": "protection",
    "co_reactant_examples": [
      "SEMCl",
      "base (DIPEA)",
      "CH2Cl2"
    ],
    "incompatible_groups": [
      "[C](=O)Cl"
    ],
    "name": "SEM protection (forward)",
    "note": "Substrates: SMARTS([C:1][OH:2]) -> Products: SMARTS([C:1][O:2]COCC[Si](C)(C)C). Typical co-reactants/conditions: SEMCl, base (DIPEA), CH2Cl2. First-principles: the feasibility is dominated by (i) thermodynamics of bond making/breaking (e.g., relative bond dissociation energies, redox potentials, and acid–base equilibria) and (ii) kinetic control via transition-state stabilization and/or catalyst coordination geometry. Stereochemical outcome, regioselectivity, and chemoselectivity depend strongly on substrate electronics/sterics, catalyst/ligand, solvent, and temperature; treat this template as a retrosynthetic disconnection heuristic rather than a guarantee. Incompatible_groups flags motifs likely to (a) be consumed by the reagent/catalyst, (b) poison catalysts, or (c) undergo competing pathways under typical conditions (SMARTS: [C](=O)Cl). Protecting group: SEM. SEM = -CH2-O-CH2-CH2-SiMe3 (2-(trimethylsilyl)ethoxymethyl) [Retro: see Q04_SEM_protect_retro]",
    "prereq": "[C:1][OH:2]",
    "rxn": "[C:1][OH:2]>>[C:1][O:2]COCC[Si](C)(C)C",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "Q04_SEM_protect_retro": {
    "brief": "Substrates: SMARTS([C:1][O:2]COCC[Si](C)(C)C) -> Products: SMARTS([C:1][OH:2]).",
    "category": "protection",
    "co_reactant_examples": [
      "fluoride (TBAF) and/or mild acid (protocol-dependent)"
    ],
    "incompatible_groups": [
      "[C](=O)Cl"
    ],
    "name": "SEM protection (retro; deprotection heuristic)",
    "note": "Substrates: SMARTS([C:1][O:2]COCC[Si](C)(C)C) -> Products: SMARTS([C:1][OH:2]). Typical co-reactants/conditions: fluoride (TBAF) and/or mild acid (protocol-dependent). First-principles: the feasibility is dominated by (i) thermodynamics of bond making/breaking (e.g., relative bond dissociation energies, redox potentials, and acid–base equilibria) and (ii) kinetic control via transition-state stabilization and/or catalyst coordination geometry. Stereochemical outcome, regioselectivity, and chemoselectivity depend strongly on substrate electronics/sterics, catalyst/ligand, solvent, and temperature; treat this template as a retrosynthetic disconnection heuristic rather than a guarantee. Protecting group: SEM. Reverse direction corresponds to deprotection.",
    "prereq": "[C:1][O:2]COCC[Si](C)(C)C",
    "rxn": "[C:1][O:2]COCC[Si](C)(C)C>>[C:1][OH:2]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "Q05_Fmoc_deprotect_forward": {
    "brief": "Fmoc removed from amine by piperidine (beta-elimination). Releases dibenzofulvene + CO2, freeing NH.",
    "category": "protection",
    "co_reactant_examples": [
      "piperidine/DMF (20%, standard)",
      "DBU/DMF (2%, fast alternative)",
      "4-methylpiperidine/DMF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[CH1]=[O]",
      "[CX3](=[OX1])Oc1ccc([N+](=O)[O-])cc1"
    ],
    "name": "Fmoc deprotection (forward)",
    "note": "Mechanism: piperidine acts as base to abstract the acidic fluorenyl 9-H, triggering beta-elimination that releases dibenzofulvene and CO2, freeing the amine. Piperidine also scavenges the dibenzofulvene byproduct via conjugate addition. Incompatible: acyl chlorides (aminolysis by piperidine), aldehydes (enamine/imine formation with piperidine), activated esters like p-nitrophenyl esters (aminolysis). Base-labile groups (e.g., base-sensitive esters) may be affected. Boc, Cbz, Alloc, Troc are all stable to piperidine/DMF.",
    "prereq": "[N:1]C(=O)OCC1c2ccccc2-c2ccccc21",
    "rxn": "[N:1]C(=O)OCC1c2ccccc2-c2ccccc21>>[NX3;H1,H2:1]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "Q05_Fmoc_deprotect_retro": {
    "brief": "Retro: free amine -> install Fmoc. Fmoc-Cl or Fmoc-OSu + base in dioxane/water or DMF.",
    "category": "protection",
    "co_reactant_examples": [
      "Fmoc-Cl/Na2CO3/dioxane-H2O",
      "Fmoc-OSu/DIPEA/DMF",
      "Fmoc-Cl/pyridine/DCM"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[C](=O)[OH]"
    ],
    "name": "Fmoc deprotection (retro; protection heuristic)",
    "note": "Retro direction: free amine disconnects to Fmoc-protected amine. Installation uses Fmoc-Cl (chloroformate) or Fmoc-OSu (NHS ester) with mild base. Fmoc-Cl reacts with free COOH to form mixed anhydride (side reaction); Fmoc-OSu is preferred when COOH is present. Acyl chlorides on substrate would react with base. Prereq excludes amide NH, sulfonamide NH, and pyrrole-type NH which are not typical Fmoc protection targets.",
    "prereq": "[NX3;H1,H2;!$(NC=O);!$(NS(=O)=O);!$(nc):1]",
    "rxn": "[NX3;H1,H2;!$(NC=O);!$(NS(=O)=O);!$(nc):1]>>[N:1]C(=O)OCC1c2ccccc2-c2ccccc21",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "Q05_Fmoc_protect_forward": {
    "brief": "Amine protected as Fmoc carbamate using Fmoc-Cl or Fmoc-OSu + base. Fmoc = 9-fluorenylmethoxycarbonyl.",
    "category": "protection",
    "co_reactant_examples": [
      "Fmoc-Cl/Na2CO3/dioxane-H2O",
      "Fmoc-OSu/DIPEA/DMF",
      "Fmoc-Cl/pyridine/DCM"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[C](=O)[OH]"
    ],
    "name": "Fmoc protection (forward)",
    "note": "Fmoc-Cl reacts with amine nucleophile in presence of mild base to form carbamate. Fmoc-OSu (NHS ester) is milder and preferred when free COOH is present (Fmoc-Cl can form mixed anhydride with COOH). Acyl chlorides on substrate react with base. Prereq excludes amide NH, sulfonamide NH, and pyrrole-type NH. Fmoc is removed by base (piperidine) via beta-elimination; stable to acid, hydrogenolysis, and mild nucleophiles.",
    "prereq": "[NX3;H1,H2;!$(NC=O);!$(NS(=O)=O);!$(nc):1]",
    "rxn": "[NX3;H1,H2;!$(NC=O);!$(NS(=O)=O);!$(nc):1]>>[N:1]C(=O)OCC1c2ccccc2-c2ccccc21",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "Q05_Fmoc_protect_retro": {
    "brief": "Retro: Fmoc-N disconnects to free amine via piperidine beta-elimination. Releases dibenzofulvene + CO2.",
    "category": "protection",
    "co_reactant_examples": [
      "piperidine/DMF (20%, standard)",
      "DBU/DMF (2%, fast alternative)",
      "4-methylpiperidine/DMF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[CH1]=[O]",
      "[CX3](=[OX1])Oc1ccc([N+](=O)[O-])cc1"
    ],
    "name": "Fmoc protection (retro; deprotection heuristic)",
    "note": "Retro direction: Fmoc-protected amine disconnects to free amine via base-induced beta-elimination. Piperidine abstracts the acidic fluorenyl 9-H, triggering elimination to release dibenzofulvene + CO2. Piperidine scavenges dibenzofulvene. Incompatible: acyl chlorides (aminolysis), aldehydes (enamine formation with piperidine), activated esters (aminolysis). Boc, Cbz, Alloc, Troc stable under these conditions.",
    "prereq": "[N:1]C(=O)OCC1c2ccccc2-c2ccccc21",
    "rxn": "[N:1]C(=O)OCC1c2ccccc2-c2ccccc21>>[NX3;H1,H2:1]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "Q06_Cbz_deprotect_forward": {
    "brief": "Cbz removed by H2/Pd/C hydrogenolysis. Cleaves benzylic C-O bond, releasing toluene + CO2 + free amine.",
    "category": "protection",
    "co_reactant_examples": [
      "H2(1atm)/Pd-C/MeOH",
      "H2(1atm)/Pd-C/EtOAc",
      "ammonium_formate/Pd-C(transfer_hydrogenolysis)"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]",
      "[C]=[C]",
      "[C]#[C]",
      "[OX2][CH2]c1ccccc1",
      "[SX2][#6]",
      "[c][I]",
      "[c][Br]",
      "[N]=[N]=[N]"
    ],
    "name": "Cbz deprotection (forward)",
    "note": "Mechanism: Pd/C catalyzes hydrogenolysis of the benzylic C-O bond in Cbz. Products: toluene + CO2 + free amine. Pd/C + H2 is non-selective: also reduces alkenes, alkynes, cleaves benzyl ethers/esters, reduces nitro to amine, dehalogenates aryl halides (especially ArI, ArBr), reduces azides to amines. Thioethers poison Pd catalyst. Boc, Fmoc, Alloc, Troc are all stable to H2/Pd/C. Transfer hydrogenolysis (ammonium formate/Pd-C) is milder but same selectivity concerns apply.",
    "prereq": "[N:1]C(=O)OCc1ccccc1",
    "rxn": "[N:1]C(=O)OCc1ccccc1>>[NX3;H1,H2:1]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "Q06_Cbz_deprotect_retro": {
    "brief": "Retro: free amine -> install Cbz. Cbz-Cl (benzyl chloroformate) + base.",
    "category": "protection",
    "co_reactant_examples": [
      "Cbz-Cl/Na2CO3/dioxane-H2O",
      "Cbz-Cl/pyridine/DCM",
      "Cbz-OSu/DIPEA/DMF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[C](=O)[OH]"
    ],
    "name": "Cbz deprotection (retro; protection heuristic)",
    "note": "Retro direction: free amine disconnects to Cbz-protected amine. Installation uses Cbz-Cl (benzyl chloroformate) with aqueous base (Schotten-Baumann) or organic base. Cbz-Cl may react with free COOH to form mixed anhydride. Acyl chlorides on substrate react with base. Prereq excludes amide NH, sulfonamide NH, and pyrrole-type NH.",
    "prereq": "[NX3;H1,H2;!$(NC=O);!$(NS(=O)=O);!$(nc):1]",
    "rxn": "[NX3;H1,H2;!$(NC=O);!$(NS(=O)=O);!$(nc):1]>>[N:1]C(=O)OCc1ccccc1",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "Q06_Cbz_protect_forward": {
    "brief": "Amine protected as Cbz carbamate using Cbz-Cl + base. Cbz = benzyloxycarbonyl.",
    "category": "protection",
    "co_reactant_examples": [
      "Cbz-Cl/Na2CO3/dioxane-H2O",
      "Cbz-Cl/pyridine/DCM",
      "Cbz-OSu/DIPEA/DMF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[C](=O)[OH]"
    ],
    "name": "Cbz protection (forward)",
    "note": "Cbz-Cl (benzyl chloroformate) reacts with amine in presence of base (Schotten-Baumann or organic base). Cbz-Cl may form mixed anhydride with free COOH. Acyl chlorides on substrate react with base. Cbz is removed by H2/Pd/C (hydrogenolysis) or HBr/AcOH; stable to base (piperidine), mild acid, and most nucleophiles. Prereq excludes amide NH, sulfonamide NH, and pyrrole-type NH.",
    "prereq": "[NX3;H1,H2;!$(NC=O);!$(NS(=O)=O);!$(nc):1]",
    "rxn": "[NX3;H1,H2;!$(NC=O);!$(NS(=O)=O);!$(nc):1]>>[N:1]C(=O)OCc1ccccc1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "Q06_Cbz_protect_retro": {
    "brief": "Retro: Cbz-N disconnects to free amine via H2/Pd/C hydrogenolysis.",
    "category": "protection",
    "co_reactant_examples": [
      "H2(1atm)/Pd-C/MeOH",
      "H2(1atm)/Pd-C/EtOAc",
      "ammonium_formate/Pd-C(transfer_hydrogenolysis)"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]",
      "[C]=[C]",
      "[C]#[C]",
      "[OX2][CH2]c1ccccc1",
      "[SX2][#6]",
      "[c][I]",
      "[c][Br]",
      "[N]=[N]=[N]"
    ],
    "name": "Cbz protection (retro; deprotection heuristic)",
    "note": "Retro direction: Cbz-protected amine disconnects to free amine via H2/Pd/C hydrogenolysis. Pd/C + H2 cleaves benzylic C-O bond (toluene + CO2 + amine). Non-selective: also reduces alkenes, alkynes, cleaves benzyl ethers/esters, reduces nitro groups, dehalogenates aryl iodides/bromides, reduces azides. Thioethers poison Pd. Boc, Fmoc, Alloc, Troc stable to H2/Pd/C.",
    "prereq": "[N:1]C(=O)OCc1ccccc1",
    "rxn": "[N:1]C(=O)OCc1ccccc1>>[NX3;H1,H2:1]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "Q07_Alloc_deprotect_forward": {
    "brief": "Alloc removed by Pd(0)-catalyzed pi-allyl mechanism. Pd(PPh3)4 + nucleophile scavenger releases free amine.",
    "category": "protection",
    "co_reactant_examples": [
      "Pd(PPh3)4/PhSiH3/DCM",
      "Pd(PPh3)4/morpholine/THF",
      "Pd(PPh3)4/dimedone/THF"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[c][I]",
      "[OX2][CH2]C=C",
      "[CX3](=[OX1])O[CH2]C=C"
    ],
    "name": "Alloc deprotection (forward)",
    "note": "Mechanism: Pd(0) oxidatively adds into the allyl-O bond of Alloc, forming a pi-allyl-Pd complex. Nucleophile scavenger (PhSiH3, morpholine, dimedone) traps the allyl fragment, releasing CO2 and free amine. Incompatible: thiols poison Pd(0); aryl iodides undergo competing oxidative addition; other allyl ethers/esters are also cleaved by Pd(0). Boc, Fmoc, Cbz, Troc are all stable to Pd(0)/scavenger conditions.",
    "prereq": "[N:1]C(=O)OCC=C",
    "rxn": "[N:1]C(=O)OCC=C>>[NX3;H1,H2:1]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "Q07_Alloc_deprotect_retro": {
    "brief": "Retro: free amine -> install Alloc. Alloc-Cl + base.",
    "category": "protection",
    "co_reactant_examples": [
      "Alloc-Cl/NaHCO3/dioxane-H2O",
      "Alloc-Cl/DIPEA/DCM",
      "Alloc-Cl/pyridine/DCM"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[C](=O)[OH]"
    ],
    "name": "Alloc deprotection (retro; protection heuristic)",
    "note": "Retro direction: free amine disconnects to Alloc-protected amine. Installation uses Alloc-Cl (allyl chloroformate) with mild base. Alloc-Cl may form mixed anhydride with free COOH. Acyl chlorides on substrate react with base. Prereq excludes amide NH, sulfonamide NH, and pyrrole-type NH. Alloc is removed by Pd(0)/scavenger; stable to acid, base, and H2/Pd/C (Pd/C reduces Alloc slowly but Pd(0) with scavenger is specific).",
    "prereq": "[NX3;H1,H2;!$(NC=O);!$(NS(=O)=O);!$(nc):1]",
    "rxn": "[NX3;H1,H2;!$(NC=O);!$(NS(=O)=O);!$(nc):1]>>[N:1]C(=O)OCC=C",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "Q07_Alloc_protect_forward": {
    "brief": "Amine protected as Alloc carbamate using Alloc-Cl + base. Alloc = allyloxycarbonyl.",
    "category": "protection",
    "co_reactant_examples": [
      "Alloc-Cl/NaHCO3/dioxane-H2O",
      "Alloc-Cl/DIPEA/DCM",
      "Alloc-Cl/pyridine/DCM"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[C](=O)[OH]"
    ],
    "name": "Alloc protection (forward)",
    "note": "Alloc-Cl (allyl chloroformate) reacts with amine nucleophile in presence of base. Alloc-Cl may form mixed anhydride with free COOH. Acyl chlorides on substrate react with base. Alloc is orthogonal to Boc (acid-labile), Fmoc (base-labile), and Cbz (H2/Pd-labile). Alloc removed by Pd(0)/scavenger. Prereq excludes amide NH, sulfonamide NH, and pyrrole-type NH.",
    "prereq": "[NX3;H1,H2;!$(NC=O);!$(NS(=O)=O);!$(nc):1]",
    "rxn": "[NX3;H1,H2;!$(NC=O);!$(NS(=O)=O);!$(nc):1]>>[N:1]C(=O)OCC=C",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "Q07_Alloc_protect_retro": {
    "brief": "Retro: Alloc-N disconnects to free amine via Pd(0)-catalyzed pi-allyl deprotection.",
    "category": "protection",
    "co_reactant_examples": [
      "Pd(PPh3)4/PhSiH3/DCM",
      "Pd(PPh3)4/morpholine/THF",
      "Pd(PPh3)4/dimedone/THF"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[c][I]",
      "[OX2][CH2]C=C",
      "[CX3](=[OX1])O[CH2]C=C"
    ],
    "name": "Alloc protection (retro; deprotection heuristic)",
    "note": "Retro direction: Alloc-protected amine disconnects to free amine via Pd(0)-catalyzed deprotection. Pd(0) forms pi-allyl complex; nucleophile scavenger traps allyl fragment. Incompatible: thiols poison Pd(0); aryl iodides undergo oxidative addition; other allyl ethers/esters also cleaved. Boc, Fmoc, Cbz, Troc stable to Pd(0)/scavenger.",
    "prereq": "[N:1]C(=O)OCC=C",
    "rxn": "[N:1]C(=O)OCC=C>>[NX3;H1,H2:1]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "Q08_Troc_deprotect_forward": {
    "brief": "Troc removed by Zn/AcOH reductive elimination. Zn reduces C-Cl bonds triggering beta-elimination, releasing amine.",
    "category": "protection",
    "co_reactant_examples": [
      "Zn_dust/AcOH/THF",
      "Zn/AcOH/MeOH",
      "Cd-Pb_couple/AcOH(alternative)"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]",
      "[N]=[N]=[N]",
      "[CH1]=[O]",
      "[SX2][SX2]"
    ],
    "name": "Troc deprotection (forward)",
    "note": "Mechanism: Zn reduces the trichloroethyl C-Cl bonds (single-electron transfer), generating a carbanion that undergoes beta-elimination to release CO2 and free amine. Zn/AcOH is mildly reductive and acidic. Incompatible: nitro groups reduced by Zn; azides reduced to amines; aldehydes may be reduced; disulfide bonds cleaved. Boc groups are acid-labile but typically survive brief Zn/AcOH. Fmoc, Cbz, Alloc stable to Zn/AcOH.",
    "prereq": "[N:1]C(=O)OCC(Cl)(Cl)Cl",
    "rxn": "[N:1]C(=O)OCC(Cl)(Cl)Cl>>[NX3;H1,H2:1]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "Q08_Troc_deprotect_retro": {
    "brief": "Retro: free amine -> install Troc. Troc-Cl + base.",
    "category": "protection",
    "co_reactant_examples": [
      "Troc-Cl/pyridine/DCM",
      "Troc-Cl/Na2CO3/dioxane-H2O",
      "Troc-Cl/DIPEA/DCM"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[C](=O)[OH]"
    ],
    "name": "Troc deprotection (retro; protection heuristic)",
    "note": "Retro direction: free amine disconnects to Troc-protected amine. Installation uses Troc-Cl (2,2,2-trichloroethyl chloroformate) with base. Troc-Cl may form mixed anhydride with free COOH. Acyl chlorides on substrate react with base. Troc is removed by Zn/AcOH (reductive); stable to acid, base, H2/Pd/C, and Pd(0). Prereq excludes amide NH, sulfonamide NH, and pyrrole-type NH.",
    "prereq": "[NX3;H1,H2;!$(NC=O);!$(NS(=O)=O);!$(nc):1]",
    "rxn": "[NX3;H1,H2;!$(NC=O);!$(NS(=O)=O);!$(nc):1]>>[N:1]C(=O)OCC(Cl)(Cl)Cl",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "Q08_Troc_protect_forward": {
    "brief": "Amine protected as Troc carbamate using Troc-Cl + base. Troc = 2,2,2-trichloroethoxycarbonyl.",
    "category": "protection",
    "co_reactant_examples": [
      "Troc-Cl/pyridine/DCM",
      "Troc-Cl/Na2CO3/dioxane-H2O",
      "Troc-Cl/DIPEA/DCM"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[C](=O)[OH]"
    ],
    "name": "Troc protection (forward)",
    "note": "Troc-Cl (2,2,2-trichloroethyl chloroformate) reacts with amine nucleophile in presence of base. Troc-Cl may form mixed anhydride with free COOH. Acyl chlorides on substrate react with base. Troc is orthogonal to Boc (acid), Fmoc (base), Cbz (H2/Pd), and Alloc (Pd(0)). Troc removed by Zn/AcOH (reductive). Prereq excludes amide NH, sulfonamide NH, and pyrrole-type NH.",
    "prereq": "[NX3;H1,H2;!$(NC=O);!$(NS(=O)=O);!$(nc):1]",
    "rxn": "[NX3;H1,H2;!$(NC=O);!$(NS(=O)=O);!$(nc):1]>>[N:1]C(=O)OCC(Cl)(Cl)Cl",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "Q08_Troc_protect_retro": {
    "brief": "Retro: Troc-N disconnects to free amine via Zn/AcOH reductive elimination.",
    "category": "protection",
    "co_reactant_examples": [
      "Zn_dust/AcOH/THF",
      "Zn/AcOH/MeOH",
      "Cd-Pb_couple/AcOH(alternative)"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]",
      "[N]=[N]=[N]",
      "[CH1]=[O]",
      "[SX2][SX2]"
    ],
    "name": "Troc protection (retro; deprotection heuristic)",
    "note": "Retro direction: Troc-protected amine disconnects to free amine via Zn/AcOH reductive elimination. Zn reduces CCl3 triggering beta-elimination (CO2 + amine). Incompatible: nitro groups reduced by Zn; azides reduced to amines; aldehydes may be reduced; disulfide bonds cleaved. Fmoc, Cbz, Alloc stable to Zn/AcOH.",
    "prereq": "[N:1]C(=O)OCC(Cl)(Cl)Cl",
    "rxn": "[N:1]C(=O)OCC(Cl)(Cl)Cl>>[NX3;H1,H2:1]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "R01_nef_reaction_primary_nitro_forward": {
    "brief": "Substrates: SMARTS([#6:2][CH2:1][N+](=O)[O-]) -> Products: SMARTS([#6:2][CH:1](=[O:3])).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "base to nitronate",
      "acidic hydrolysis/oxidation (protocol-dependent)"
    ],
    "incompatible_groups": [
      "[C](=O)Cl",
      "[S](=O)(=O)O"
    ],
    "name": "Nef reaction (primary nitroalkane -> aldehyde) (forward)",
    "note": "Substrates: SMARTS([#6:2][CH2:1][N+](=O)[O-]) -> Products: SMARTS([#6:2][CH:1](=[O:3])). Typical co-reactants/conditions: base to nitronate, acidic hydrolysis/oxidation (protocol-dependent). First-principles: the feasibility is dominated by (i) thermodynamics of bond making/breaking (e.g., relative bond dissociation energies, redox potentials, and acid–base equilibria) and (ii) kinetic control via transition-state stabilization and/or catalyst coordination geometry. Stereochemical outcome, regioselectivity, and chemoselectivity depend strongly on substrate electronics/sterics, catalyst/ligand, solvent, and temperature; treat this template as a retrosynthetic disconnection heuristic rather than a guarantee. Incompatible_groups flags motifs likely to (a) be consumed by the reagent/catalyst, (b) poison catalysts, or (c) undergo competing pathways under typical conditions (SMARTS: [C](=O)Cl; [S](=O)(=O)O). Forward direction: nitronate formation then conversion to carbonyl (aldehyde) under acidic conditions; specific oxidants/hydrolysis conditions vary.",
    "prereq": "[#6:2][CH2:1][N+](=O)[O-]",
    "rxn": "[#6:2][CH2:1][N+](=O)[O-]>>[#6:2][CH:1](=[O:3])",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "R01_nef_reaction_primary_nitro_retro": {
    "brief": "Substrates: SMARTS([#6:2][CH:1](=[O:3])) -> Products: SMARTS([#6:2][CH2:1][N+](=O)[O-]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "Henry (nitroaldol) + oxidation/functionalization routes",
      "nitro installation strategies"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]"
    ],
    "name": "Nef reaction (retro; aldehyde -> primary nitroalkane heuristic)",
    "note": "Substrates: SMARTS([#6:2][CH:1](=[O:3])) -> Products: SMARTS([#6:2][CH2:1][N+](=O)[O-]). Typical co-reactants/conditions: Henry (nitroaldol) + oxidation/functionalization routes, nitro installation strategies. First-principles: the feasibility is dominated by (i) thermodynamics of bond making/breaking (e.g., relative bond dissociation energies, redox potentials, and acid–base equilibria) and (ii) kinetic control via transition-state stabilization and/or catalyst coordination geometry. Stereochemical outcome, regioselectivity, and chemoselectivity depend strongly on substrate electronics/sterics, catalyst/ligand, solvent, and temperature; treat this template as a retrosynthetic disconnection heuristic rather than a guarantee. Incompatible_groups flags motifs likely to (a) be consumed by the reagent/catalyst, (b) poison catalysts, or (c) undergo competing pathways under typical conditions (SMARTS: [N+](=O)[O-]). Retrosynthetic marker: nitroalkanes are versatile masked carbonyls via Nef; forward installation of nitro often proceeds via Henry or radical nitration variants.",
    "prereq": "[#6:2][CH:1](=[O:3])",
    "rxn": "[#6:2][CH:1](=[O:3])>>[#6:2][CH2:1][N+](=O)[O-]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "R02_nef_reaction_secondary_nitro_forward": {
    "brief": "Substrates: SMARTS([#6:2][CH:1]([#6:4])[N+](=O)[O-]) -> Products: SMARTS([#6:2][C:1](=[O:3])[#6:4]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "base to nitronate",
      "acidic hydrolysis/oxidation (protocol-dependent)"
    ],
    "incompatible_groups": [
      "[C](=O)Cl"
    ],
    "name": "Nef reaction (secondary nitroalkane -> ketone) (forward)",
    "note": "Substrates: SMARTS([#6:2][CH:1]([#6:4])[N+](=O)[O-]) -> Products: SMARTS([#6:2][C:1](=[O:3])[#6:4]). Typical co-reactants/conditions: base to nitronate, acidic hydrolysis/oxidation (protocol-dependent). First-principles: the feasibility is dominated by (i) thermodynamics of bond making/breaking (e.g., relative bond dissociation energies, redox potentials, and acid–base equilibria) and (ii) kinetic control via transition-state stabilization and/or catalyst coordination geometry. Stereochemical outcome, regioselectivity, and chemoselectivity depend strongly on substrate electronics/sterics, catalyst/ligand, solvent, and temperature; treat this template as a retrosynthetic disconnection heuristic rather than a guarantee. Incompatible_groups flags motifs likely to (a) be consumed by the reagent/catalyst, (b) poison catalysts, or (c) undergo competing pathways under typical conditions (SMARTS: [C](=O)Cl). Forward direction yields ketones from secondary nitroalkanes; competing elimination/over-oxidation can occur depending on conditions.",
    "prereq": "[#6:2][CH:1]([#6:4])[N+](=O)[O-]",
    "rxn": "[#6:2][CH:1]([#6:4])[N+](=O)[O-]>>[#6:2][C:1](=[O:3])[#6:4]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "R02_nef_reaction_secondary_nitro_retro": {
    "brief": "Substrates: SMARTS([#6:2][C:1](=[O:3])[#6:4]) -> Products: SMARTS([#6:2][CH:1]([#6:4])[N+](=O)[O-]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "nitroalkane → carbonyl via Nef (forward)",
      "nitro installation strategies"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]"
    ],
    "name": "Nef reaction (retro; ketone -> secondary nitroalkane heuristic)",
    "note": "Substrates: SMARTS([#6:2][C:1](=[O:3])[#6:4]) -> Products: SMARTS([#6:2][CH:1]([#6:4])[N+](=O)[O-]). Typical co-reactants/conditions: nitroalkane → carbonyl via Nef (forward), nitro installation strategies. First-principles: the feasibility is dominated by (i) thermodynamics of bond making/breaking (e.g., relative bond dissociation energies, redox potentials, and acid–base equilibria) and (ii) kinetic control via transition-state stabilization and/or catalyst coordination geometry. Stereochemical outcome, regioselectivity, and chemoselectivity depend strongly on substrate electronics/sterics, catalyst/ligand, solvent, and temperature; treat this template as a retrosynthetic disconnection heuristic rather than a guarantee. Incompatible_groups flags motifs likely to (a) be consumed by the reagent/catalyst, (b) poison catalysts, or (c) undergo competing pathways under typical conditions (SMARTS: [N+](=O)[O-]). Retrosynthetic marker for 'carbonyl umpolung' using nitro as masked carbonyl; ensure that the nitro precursor is synthetically accessible.",
    "prereq": "[#6:2][C:1](=[O:3])[#6:4]",
    "rxn": "[#6:2][C:1](=[O:3])[#6:4]>>[#6:2][CH:1]([#6:4])[N+](=O)[O-]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "R03_ramberg_backlund_forward": {
    "brief": "Substrates: SMARTS([CH:1]([Cl,Br])[CH2:2][S:3](=O)(=O)[#6:4]) -> Products: SMARTS([CH:1]=[CH2:2]).",
    "category": "special",
    "co_reactant_examples": [
      "base (e.g., KOH)",
      "phase-transfer conditions or polar solvent",
      "often requires α-halo sulfone substrate"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]"
    ],
    "name": "Ramberg–Bäcklund reaction (α-halo sulfone -> alkene) (forward; simplified)",
    "note": "Substrates: SMARTS([CH:1]([Cl,Br])[CH2:2][S:3](=O)(=O)[#6:4]) -> Products: SMARTS([CH:1]=[CH2:2]). Typical co-reactants/conditions: base (e.g., KOH), phase-transfer conditions or polar solvent, often requires α-halo sulfone substrate. First-principles: the feasibility is dominated by (i) thermodynamics of bond making/breaking (e.g., relative bond dissociation energies, redox potentials, and acid–base equilibria) and (ii) kinetic control via transition-state stabilization and/or catalyst coordination geometry. Stereochemical outcome, regioselectivity, and chemoselectivity depend strongly on substrate electronics/sterics, catalyst/ligand, solvent, and temperature; treat this template as a retrosynthetic disconnection heuristic rather than a guarantee. Incompatible_groups flags motifs likely to (a) be consumed by the reagent/catalyst, (b) poison catalysts, or (c) undergo competing pathways under typical conditions (SMARTS: [N+](=O)[O-]). Forward direction: base-induced formation of episulfone and SO2 extrusion yields alkene; stereochemistry depends on substrate and conditions. [Retro: see R03_ramberg_backlund_retro]",
    "prereq": "[CH:1]([Cl,Br])[CH2:2][S:3](=O)(=O)[#6:4]",
    "rxn": "[CH:1]([Cl,Br])[CH2:2][S:3](=O)(=O)[#6:4]>>[CH:1]=[CH2:2]",
    "stereo_policy": "not_applicable",
    "type": "forward",
    "stereo_detail": "E/Z mixture (poor geometric selectivity)"
  },
  "R03_ramberg_backlund_retro": {
    "brief": "Substrates: SMARTS([CH:1]=[CH2:2]) -> Products: SMARTS([CH:1](Cl)[CH2:2][S](=O)(=O)C).",
    "category": "special",
    "co_reactant_examples": [
      "α-halo sulfone preparation (halogenation + sulfone installation)",
      "then Ramberg–Bäcklund (forward)"
    ],
    "incompatible_groups": [
      "[S](=O)(=O)O"
    ],
    "name": "Ramberg–Bäcklund (retro; alkene -> α-halo sulfone heuristic)",
    "note": "Substrates: SMARTS([CH:1]=[CH2:2]) -> Products: SMARTS([CH:1](Cl)[CH2:2][S](=O)(=O)C). Typical co-reactants/conditions: α-halo sulfone preparation (halogenation + sulfone installation), then Ramberg–Bäcklund (forward). First-principles: the feasibility is dominated by (i) thermodynamics of bond making/breaking (e.g., relative bond dissociation energies, redox potentials, and acid–base equilibria) and (ii) kinetic control via transition-state stabilization and/or catalyst coordination geometry. Stereochemical outcome, regioselectivity, and chemoselectivity depend strongly on substrate electronics/sterics, catalyst/ligand, solvent, and temperature; treat this template as a retrosynthetic disconnection heuristic rather than a guarantee. Incompatible_groups flags motifs likely to (a) be consumed by the reagent/catalyst, (b) poison catalysts, or (c) undergo competing pathways under typical conditions (SMARTS: [S](=O)(=O)O). Retrosynthetic marker: alkenes can be accessed from α-halo sulfones; the sulfone 'C' is a placeholder for an alkyl/aryl sulfone substituent.",
    "prereq": "[CH:1]=[CH2:2]",
    "rxn": "[CH:1]=[CH2:2]>>[CH:1](Cl)[CH2:2][S](=O)(=O)C",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "R04_pummerer_rearrangement_forward": {
    "brief": "Substrates: SMARTS([#6:3][S:1](=O)[CH2:2][#6:4]) -> Products: SMARTS([#6:3][S:1][CH:2](OC(=O)C)[#6:4]).",
    "category": "rearrangement",
    "co_reactant_examples": [
      "Ac2O or TFAA (activator)",
      "base/acid (protocol-dependent)"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]"
    ],
    "name": "Pummerer rearrangement (sulfoxide -> α-acetoxy thioether) (forward; simplified)",
    "note": "Substrates: SMARTS([#6:3][S:1](=O)[CH2:2][#6:4]) -> Products: SMARTS([#6:3][S:1][CH:2](OC(=O)C)[#6:4]). Typical co-reactants/conditions: Ac2O or TFAA (activator), base/acid (protocol-dependent). First-principles: the feasibility is dominated by (i) thermodynamics of bond making/breaking (e.g., relative bond dissociation energies, redox potentials, and acid–base equilibria) and (ii) kinetic control via transition-state stabilization and/or catalyst coordination geometry. Stereochemical outcome, regioselectivity, and chemoselectivity depend strongly on substrate electronics/sterics, catalyst/ligand, solvent, and temperature; treat this template as a retrosynthetic disconnection heuristic rather than a guarantee. Incompatible_groups flags motifs likely to (a) be consumed by the reagent/catalyst, (b) poison catalysts, or (c) undergo competing pathways under typical conditions (SMARTS: [N+](=O)[O-]). Forward direction: sulfoxide activation forms sulfonium; α-functionalization occurs via rearrangement/ionization and nucleophile capture (often acetate). [Retro: see R04_pummerer_rearrangement_retro]",
    "prereq": "[#6:3][S:1](=O)[CH2:2][#6:4]",
    "rxn": "[#6:3][S:1](=O)[CH2:2][#6:4]>>[#6:3][S:1][CH:2](OC(=O)C)[#6:4]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "R04_pummerer_rearrangement_retro": {
    "brief": "Substrates: SMARTS([#6:3][S:1][CH:2](OC(=O)C)[#6:4]) -> Products: SMARTS([#6:3][S:1](=O)[CH2:2][#6:4]).",
    "category": "rearrangement",
    "co_reactant_examples": [
      "oxidation to sulfoxide (mCPBA, H2O2)",
      "then Pummerer (forward) for α-functionalization"
    ],
    "incompatible_groups": [
      "[S](=O)(=O)O"
    ],
    "name": "Pummerer rearrangement (retro; α-functionalized sulfide -> sulfoxide)",
    "note": "Substrates: SMARTS([#6:3][S:1][CH:2](OC(=O)C)[#6:4]) -> Products: SMARTS([#6:3][S:1](=O)[CH2:2][#6:4]). Typical co-reactants/conditions: oxidation to sulfoxide (mCPBA, H2O2), then Pummerer (forward) for α-functionalization. First-principles: the feasibility is dominated by (i) thermodynamics of bond making/breaking (e.g., relative bond dissociation energies, redox potentials, and acid–base equilibria) and (ii) kinetic control via transition-state stabilization and/or catalyst coordination geometry. Stereochemical outcome, regioselectivity, and chemoselectivity depend strongly on substrate electronics/sterics, catalyst/ligand, solvent, and temperature; treat this template as a retrosynthetic disconnection heuristic rather than a guarantee. Incompatible_groups flags motifs likely to (a) be consumed by the reagent/catalyst, (b) poison catalysts, or (c) undergo competing pathways under typical conditions (SMARTS: [S](=O)(=O)O). Retrosynthetic marker: α-oxy thioethers can be traced back to sulfoxides as precursors for Pummerer-type α-functionalization.",
    "prereq": "[#6:3][S:1][CH:2](OC(=O)C)[#6:4]",
    "rxn": "[#6:3][S:1][CH:2](OC(=O)C)[#6:4]>>[#6:3][S:1](=O)[CH2:2][#6:4]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "R05_moffatt_oxidation_forward": {
    "brief": "Substrates: SMARTS([C:1][OH:2]) -> Products: SMARTS([C:1]=[O:2]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "DMSO",
      "DCC",
      "Et3N",
      "CH2Cl2"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]"
    ],
    "name": "Moffatt oxidation (DMSO/DCC) (forward)",
    "note": "Substrates: SMARTS([C:1][OH:2]) -> Products: SMARTS([C:1]=[O:2]). Typical co-reactants/conditions: DMSO, DCC, Et3N, CH2Cl2. First-principles: the feasibility is dominated by (i) thermodynamics of bond making/breaking (e.g., relative bond dissociation energies, redox potentials, and acid–base equilibria) and (ii) kinetic control via transition-state stabilization and/or catalyst coordination geometry. Stereochemical outcome, regioselectivity, and chemoselectivity depend strongly on substrate electronics/sterics, catalyst/ligand, solvent, and temperature; treat this template as a retrosynthetic disconnection heuristic rather than a guarantee. Incompatible_groups flags motifs likely to (a) be consumed by the reagent/catalyst, (b) poison catalysts, or (c) undergo competing pathways under typical conditions (SMARTS: [N+](=O)[O-]). Named DMSO/high-valent iodine oxidation variant; selectivity and over-oxidation depend on substrate (primary vs secondary alcohol) and workup. [Retro: see A09_swern_retro]",
    "prereq": "[C:1][OH:2]",
    "rxn": "[C:1][OH:2]>>[C:1]=[O:2]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "R06_parikh_doering_oxidation_forward": {
    "brief": "Substrates: SMARTS([C:1][OH:2]) -> Products: SMARTS([C:1]=[O:2]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "SO3·Py",
      "DMSO",
      "Et3N",
      "CH2Cl2"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]"
    ],
    "name": "Parikh–Doering oxidation (SO3·Py/DMSO) (forward)",
    "note": "Substrates: SMARTS([C:1][OH:2]) -> Products: SMARTS([C:1]=[O:2]). Typical co-reactants/conditions: SO3·Py, DMSO, Et3N, CH2Cl2. First-principles: the feasibility is dominated by (i) thermodynamics of bond making/breaking (e.g., relative bond dissociation energies, redox potentials, and acid–base equilibria) and (ii) kinetic control via transition-state stabilization and/or catalyst coordination geometry. Stereochemical outcome, regioselectivity, and chemoselectivity depend strongly on substrate electronics/sterics, catalyst/ligand, solvent, and temperature; treat this template as a retrosynthetic disconnection heuristic rather than a guarantee. Incompatible_groups flags motifs likely to (a) be consumed by the reagent/catalyst, (b) poison catalysts, or (c) undergo competing pathways under typical conditions (SMARTS: [N+](=O)[O-]). Named DMSO/high-valent iodine oxidation variant; selectivity and over-oxidation depend on substrate (primary vs secondary alcohol) and workup. [Retro: see A09_swern_retro]",
    "prereq": "[C:1][OH:2]",
    "rxn": "[C:1][OH:2]>>[C:1]=[O:2]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "R07_IBX_oxidation_forward": {
    "brief": "Substrates: SMARTS([C:1][OH:2]) -> Products: SMARTS([C:1]=[O:2]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "IBX (or Dess–Martin)",
      "DMSO/CH2Cl2 (varies)"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]"
    ],
    "name": "IBX oxidation (forward)",
    "note": "Substrates: SMARTS([C:1][OH:2]) -> Products: SMARTS([C:1]=[O:2]). Typical co-reactants/conditions: IBX (or Dess–Martin), DMSO/CH2Cl2 (varies). First-principles: the feasibility is dominated by (i) thermodynamics of bond making/breaking (e.g., relative bond dissociation energies, redox potentials, and acid–base equilibria) and (ii) kinetic control via transition-state stabilization and/or catalyst coordination geometry. Stereochemical outcome, regioselectivity, and chemoselectivity depend strongly on substrate electronics/sterics, catalyst/ligand, solvent, and temperature; treat this template as a retrosynthetic disconnection heuristic rather than a guarantee. Incompatible_groups flags motifs likely to (a) be consumed by the reagent/catalyst, (b) poison catalysts, or (c) undergo competing pathways under typical conditions (SMARTS: [N+](=O)[O-]). Named DMSO/high-valent iodine oxidation variant; selectivity and over-oxidation depend on substrate (primary vs secondary alcohol) and workup. [Retro: see A09_swern_retro]",
    "prereq": "[C:1][OH:2]",
    "rxn": "[C:1][OH:2]>>[C:1]=[O:2]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "R08_corey_kim_oxidation_forward": {
    "brief": "Substrates: SMARTS([C:1][OH:2]) -> Products: SMARTS([C:1]=[O:2]).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "NCS",
      "DMS",
      "Et3N",
      "CH2Cl2"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]"
    ],
    "name": "Corey–Kim oxidation (NCS/DMS) (forward)",
    "note": "Substrates: SMARTS([C:1][OH:2]) -> Products: SMARTS([C:1]=[O:2]). Typical co-reactants/conditions: NCS, DMS, Et3N, CH2Cl2. First-principles: the feasibility is dominated by (i) thermodynamics of bond making/breaking (e.g., relative bond dissociation energies, redox potentials, and acid–base equilibria) and (ii) kinetic control via transition-state stabilization and/or catalyst coordination geometry. Stereochemical outcome, regioselectivity, and chemoselectivity depend strongly on substrate electronics/sterics, catalyst/ligand, solvent, and temperature; treat this template as a retrosynthetic disconnection heuristic rather than a guarantee. Incompatible_groups flags motifs likely to (a) be consumed by the reagent/catalyst, (b) poison catalysts, or (c) undergo competing pathways under typical conditions (SMARTS: [N+](=O)[O-]). Named DMSO/high-valent iodine oxidation variant; selectivity and over-oxidation depend on substrate (primary vs secondary alcohol) and workup. [Retro: see A09_swern_retro]",
    "prereq": "[C:1][OH:2]",
    "rxn": "[C:1][OH:2]>>[C:1]=[O:2]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "R09_shapiro_reaction_forward": {
    "brief": "Substrates: SMARTS([#6:3][C:1](=[O:2])[CH3:4]) -> Products: SMARTS([#6:3][CH:1]=[CH2:4]).",
    "category": "special",
    "co_reactant_examples": [
      "TsNHNH2 (tosylhydrazone formation step)",
      "BuLi / LDA (strong base)",
      "then protonation/electrophile"
    ],
    "incompatible_groups": [
      "[C](=O)Cl",
      "[N+](=O)[O-]"
    ],
    "name": "Shapiro reaction (tosylhydrazone -> alkene via vinyllithium) (forward; simplified net)",
    "note": "Substrates: SMARTS([#6:3][C:1](=[O:2])[CH3:4]) -> Products: SMARTS([#6:3][CH:1]=[CH2:4]). Typical co-reactants/conditions: TsNHNH2 (tosylhydrazone formation step), BuLi / LDA (strong base), then protonation/electrophile. First-principles: the feasibility is dominated by (i) thermodynamics of bond making/breaking (e.g., relative bond dissociation energies, redox potentials, and acid–base equilibria) and (ii) kinetic control via transition-state stabilization and/or catalyst coordination geometry. Stereochemical outcome, regioselectivity, and chemoselectivity depend strongly on substrate electronics/sterics, catalyst/ligand, solvent, and temperature; treat this template as a retrosynthetic disconnection heuristic rather than a guarantee. Incompatible_groups flags motifs likely to (a) be consumed by the reagent/catalyst, (b) poison catalysts, or (c) undergo competing pathways under typical conditions (SMARTS: [C](=O)Cl; [N+](=O)[O-]). Simplified net transform shown for a methyl ketone to a terminal alkene (e.g., acetophenone -> styrene). Actual sequence proceeds via tosylhydrazone and vinyllithium; substitution patterns dictate alkene geometry and regiochemistry. [Retro: see R09_shapiro_reaction_retro]",
    "prereq": "[#6:3][C:1](=[O:2])[CH3:4]",
    "rxn": "[#6:3][C:1](=[O:2])[CH3:4]>>[#6:3][CH:1]=[CH2:4]",
    "stereo_policy": "not_applicable",
    "type": "forward",
    "stereo_detail": "E/Z mixture (poor geometric selectivity)"
  },
  "R09_shapiro_reaction_retro": {
    "brief": "Substrates: SMARTS([#6:3][CH:1]=[CH2:4]) -> Products: SMARTS([#6:3][C:1](=[O:2])[CH3:4]).",
    "category": "special",
    "co_reactant_examples": [
      "Shapiro (forward) via tosylhydrazone/vinyllithium",
      "alternatives: ozonolysis + reduction, Wittig, etc."
    ],
    "incompatible_groups": [
      "[C](=O)Cl"
    ],
    "name": "Shapiro reaction (retro; alkene -> carbonyl heuristic)",
    "note": "Substrates: SMARTS([#6:3][CH:1]=[CH2:4]) -> Products: SMARTS([#6:3][C:1](=[O:2])[CH3:4]). Typical co-reactants/conditions: Shapiro (forward) via tosylhydrazone/vinyllithium, alternatives: ozonolysis + reduction, Wittig, etc.. First-principles: the feasibility is dominated by (i) thermodynamics of bond making/breaking (e.g., relative bond dissociation energies, redox potentials, and acid–base equilibria) and (ii) kinetic control via transition-state stabilization and/or catalyst coordination geometry. Stereochemical outcome, regioselectivity, and chemoselectivity depend strongly on substrate electronics/sterics, catalyst/ligand, solvent, and temperature; treat this template as a retrosynthetic disconnection heuristic rather than a guarantee. Incompatible_groups flags motifs likely to (a) be consumed by the reagent/catalyst, (b) poison catalysts, or (c) undergo competing pathways under typical conditions (SMARTS: [C](=O)Cl). Retrosynthetic marker: a terminal alkene may be traced to a methyl ketone precursor if Shapiro conditions are feasible; confirm that a tosylhydrazone can be formed and that strong base is compatible.",
    "prereq": "[#6:3][CH:1]=[CH2:4]",
    "rxn": "[#6:3][CH:1]=[CH2:4]>>[#6:3][C:1](=[O:2])[CH3:4]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "R10_eschenmoser_fragmentation_forward": {
    "brief": "Substrates: SMARTS([#6:6][C:1](=O)[CH:2]1[O:3][CH2:4]1) -> Products: SMARTS([#6:6][C:1](=O)[C:2]#[C:4]).",
    "category": "rearrangement",
    "co_reactant_examples": [
      "aryl/alkylsulfonylhydrazine (Eschenmoser reagent class)",
      "base/heat (protocol-dependent)"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]"
    ],
    "name": "Eschenmoser fragmentation (α,β-epoxyketone -> alkynone) (forward; simplified)",
    "note": "Substrates: SMARTS([#6:6][C:1](=O)[CH:2]1[O:3][CH2:4]1) -> Products: SMARTS([#6:6][C:1](=O)[C:2]#[C:4]). Typical co-reactants/conditions: aryl/alkylsulfonylhydrazine (Eschenmoser reagent class), base/heat (protocol-dependent). First-principles: the feasibility is dominated by (i) thermodynamics of bond making/breaking (e.g., relative bond dissociation energies, redox potentials, and acid–base equilibria) and (ii) kinetic control via transition-state stabilization and/or catalyst coordination geometry. Stereochemical outcome, regioselectivity, and chemoselectivity depend strongly on substrate electronics/sterics, catalyst/ligand, solvent, and temperature; treat this template as a retrosynthetic disconnection heuristic rather than a guarantee. Incompatible_groups flags motifs likely to (a) be consumed by the reagent/catalyst, (b) poison catalysts, or (c) undergo competing pathways under typical conditions (SMARTS: [N+](=O)[O-]). Forward direction: converts α,β-epoxyketones to alkynes (often alkynones) via sulfonylhydrazone formation and fragmentation; net removal of epoxide oxygen and formation of C≡C. [Retro: see R10_eschenmoser_fragmentation_retro]",
    "prereq": "[#6:6][C:1](=O)[CH:2]1[O:3][CH2:4]1",
    "rxn": "[#6:6][C:1](=O)[CH:2]1[O:3][CH2:4]1>>[#6:6][C:1](=O)[C:2]#[C:4]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "R10_eschenmoser_fragmentation_retro": {
    "brief": "Substrates: SMARTS([#6:6][C:1](=O)[C:2]#[C:4]) -> Products: SMARTS([#6:6][C:1](=O)[CH:2]1[O:3][CH2:4]1).",
    "category": "rearrangement",
    "co_reactant_examples": [
      "epoxidation of enone/alkene to α,β-epoxyketone",
      "then Eschenmoser fragmentation (forward)"
    ],
    "incompatible_groups": [
      "[O-][S](=O)(=O)[O-]"
    ],
    "name": "Eschenmoser fragmentation (retro; alkynone -> α,β-epoxyketone heuristic)",
    "note": "Substrates: SMARTS([#6:6][C:1](=O)[C:2]#[C:4]) -> Products: SMARTS([#6:6][C:1](=O)[CH:2]1[O:3][CH2:4]1). Typical co-reactants/conditions: epoxidation of enone/alkene to α,β-epoxyketone, then Eschenmoser fragmentation (forward). First-principles: the feasibility is dominated by (i) thermodynamics of bond making/breaking (e.g., relative bond dissociation energies, redox potentials, and acid–base equilibria) and (ii) kinetic control via transition-state stabilization and/or catalyst coordination geometry. Stereochemical outcome, regioselectivity, and chemoselectivity depend strongly on substrate electronics/sterics, catalyst/ligand, solvent, and temperature; treat this template as a retrosynthetic disconnection heuristic rather than a guarantee. Incompatible_groups flags motifs likely to (a) be consumed by the reagent/catalyst, (b) poison catalysts, or (c) undergo competing pathways under typical conditions (SMARTS: [O-][S](=O)(=O)[O-]). Retrosynthetic marker for installing an alkyne adjacent to a carbonyl via epoxide fragmentation. Ensure that the corresponding epoxyketone is accessible (often from enone epoxidation).",
    "prereq": "[#6:6][C:1](=O)[C:2]#[C:4]",
    "rxn": "[#6:6][C:1](=O)[C:2]#[C:4]>>[#6:6][C:1](=O)[CH:2]1[O:3][CH2:4]1",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "R11_wharton_reaction_forward": {
    "brief": "Substrates: SMARTS([#6:6][C:1](=O)[CH:2]1[O:3][CH2:4]1) -> Products: SMARTS([#6:6][CH:1]([OH:5])[CH:2]=[CH2:4]).",
    "category": "rearrangement",
    "co_reactant_examples": [
      "hydrazine (NH2NH2) or derivatives",
      "base/heat (protocol-dependent)"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]"
    ],
    "name": "Wharton reaction (α,β-epoxyketone -> allylic alcohol) (forward; simplified)",
    "note": "Substrates: SMARTS([#6:6][C:1](=O)[CH:2]1[O:3][CH2:4]1) -> Products: SMARTS([#6:6][CH:1]([OH:5])[CH:2]=[CH2:4]). Typical co-reactants/conditions: hydrazine (NH2NH2) or derivatives, base/heat (protocol-dependent). First-principles: the feasibility is dominated by (i) thermodynamics of bond making/breaking (e.g., relative bond dissociation energies, redox potentials, and acid–base equilibria) and (ii) kinetic control via transition-state stabilization and/or catalyst coordination geometry. Stereochemical outcome, regioselectivity, and chemoselectivity depend strongly on substrate electronics/sterics, catalyst/ligand, solvent, and temperature; treat this template as a retrosynthetic disconnection heuristic rather than a guarantee. Incompatible_groups flags motifs likely to (a) be consumed by the reagent/catalyst, (b) poison catalysts, or (c) undergo competing pathways under typical conditions (SMARTS: [N+](=O)[O-]). Forward direction: proceeds via hydrazone formation and rearrangement/fragmentation to give an allylic alcohol; net reduction of carbonyl and migration of unsaturation. [Retro: see R11_wharton_reaction_retro]",
    "prereq": "[#6:6][C:1](=O)[CH:2]1[O:3][CH2:4]1",
    "rxn": "[#6:6][C:1](=O)[CH:2]1[O:3][CH2:4]1>>[#6:6][CH:1]([OH:5])[CH:2]=[CH2:4]",
    "stereo_policy": "not_applicable",
    "type": "forward",
    "stereo_detail": "E/Z mixture (poor geometric selectivity)"
  },
  "R11_wharton_reaction_retro": {
    "brief": "Substrates: SMARTS([#6:6][CH:1]([OH:5])[CH:2]=[CH2:4]) -> Products: SMARTS([#6:6][C:1](=O)[CH:2]1[O:3][CH2:4]1).",
    "category": "rearrangement",
    "co_reactant_examples": [
      "oxidation to epoxyketone (epoxidation + oxidation state control)",
      "then Wharton (forward)"
    ],
    "incompatible_groups": [
      "[O-][S](=O)(=O)[O-]"
    ],
    "name": "Wharton reaction (retro; allylic alcohol -> α,β-epoxyketone heuristic)",
    "note": "Substrates: SMARTS([#6:6][CH:1]([OH:5])[CH:2]=[CH2:4]) -> Products: SMARTS([#6:6][C:1](=O)[CH:2]1[O:3][CH2:4]1). Typical co-reactants/conditions: oxidation to epoxyketone (epoxidation + oxidation state control), then Wharton (forward). First-principles: the feasibility is dominated by (i) thermodynamics of bond making/breaking (e.g., relative bond dissociation energies, redox potentials, and acid–base equilibria) and (ii) kinetic control via transition-state stabilization and/or catalyst coordination geometry. Stereochemical outcome, regioselectivity, and chemoselectivity depend strongly on substrate electronics/sterics, catalyst/ligand, solvent, and temperature; treat this template as a retrosynthetic disconnection heuristic rather than a guarantee. Incompatible_groups flags motifs likely to (a) be consumed by the reagent/catalyst, (b) poison catalysts, or (c) undergo competing pathways under typical conditions (SMARTS: [O-][S](=O)(=O)[O-]). Retrosynthetic marker for converting allylic alcohol patterns into epoxyketone precursors; forward Wharton requires an α,β-epoxyketone (often from enone epoxidation).",
    "prereq": "[#6:6][CH:1]([OH:5])[CH:2]=[CH2:4]",
    "rxn": "[#6:6][CH:1]([OH:5])[CH:2]=[CH2:4]>>[#6:6][C:1](=O)[CH:2]1[O:3][CH2:4]1",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "S01_domino_michael_aldol_robinson_retro": {
    "brief": "Substrates: SMARTS([#6:1]1[#6:2][#6:3](=[O:7])[#6:4][#6:5][#6:6]1) -> Products: SMARTS([#6:1]=[#6:2].[#6:3](=[O:7])[#6:4]=[#6:5].[#6:6]=O).",
    "category": "special",
    "co_reactant_examples": [
      "base (NaOH, KOH, alkoxide)",
      "Michael acceptor (e.g., MVK)",
      "intramolecular aldol/dehydration cascade"
    ],
    "incompatible_groups": [
      "[C](=O)Cl",
      "[N+](=O)[O-]"
    ],
    "name": "Domino Michael–Aldol (Robinson annulation) (retro; alias)",
    "note": "Substrates: SMARTS([#6:1]1[#6:2][#6:3](=[O:7])[#6:4][#6:5][#6:6]1) -> Products: SMARTS([#6:1]=[#6:2].[#6:3](=[O:7])[#6:4]=[#6:5].[#6:6]=O). Typical co-reactants/conditions: base (NaOH, KOH, alkoxide), Michael acceptor (e.g., MVK), intramolecular aldol/dehydration cascade. First-principles: the feasibility is dominated by (i) thermodynamics of bond making/breaking (e.g., relative bond dissociation energies, redox potentials, and acid–base equilibria) and (ii) kinetic control via transition-state stabilization and/or catalyst coordination geometry. Stereochemical outcome, regioselectivity, and chemoselectivity depend strongly on substrate electronics/sterics, catalyst/ligand, solvent, and temperature; treat this template as a retrosynthetic disconnection heuristic rather than a guarantee. Incompatible_groups flags motifs likely to (a) be consumed by the reagent/catalyst, (b) poison catalysts, or (c) undergo competing pathways under typical conditions (SMARTS: [C](=O)Cl; [N+](=O)[O-]). This entry duplicates the existing Robinson annulation disconnection under an explicit 'domino' label to support cascade-reaction coverage audits.",
    "prereq": "[#6:1]1[#6:2][#6:3](=[O:7])[#6:4][#6:5][#6:6]1",
    "rxn": "[#6:1]1[#6:2][#6:3](=[O:7])[#6:4][#6:5][#6:6]1>>[#6:1]=[#6:2].[#6:3](=[O:7])[#6:4]=[#6:5].[#6:6]=O",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "S02_tandem_RCM_retro": {
    "brief": "Substrates: SMARTS(C1=CCCCC1C1=CCCCC1) -> Products: SMARTS(C=CCCCCC=CCCCCC).",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "Ru metathesis catalysts (Grubbs/Hoveyda)",
      "dilute conditions",
      "inert atmosphere"
    ],
    "incompatible_groups": [
      "[S](=O)(=O)O",
      "[P](=O)(O)(O)O"
    ],
    "name": "Tandem ring-closing metathesis (RCM) (retro; schematic)",
    "note": "Substrates: SMARTS(C1=CCCCC1C1=CCCCC1) -> Products: SMARTS(C=CCCCCC=CCCCCC). Typical co-reactants/conditions: Ru metathesis catalysts (Grubbs/Hoveyda), dilute conditions, inert atmosphere. First-principles: the feasibility is dominated by (i) thermodynamics of bond making/breaking (e.g., relative bond dissociation energies, redox potentials, and acid–base equilibria) and (ii) kinetic control via transition-state stabilization and/or catalyst coordination geometry. Stereochemical outcome, regioselectivity, and chemoselectivity depend strongly on substrate electronics/sterics, catalyst/ligand, solvent, and temperature; treat this template as a retrosynthetic disconnection heuristic rather than a guarantee. Incompatible_groups flags motifs likely to (a) be consumed by the reagent/catalyst, (b) poison catalysts, or (c) undergo competing pathways under typical conditions (SMARTS: [S](=O)(=O)O; [P](=O)(O)(O)O). Schematic: tandem RCM often closes two rings from polyenes/dienes in a single operation. This template is a placeholder for multi-alkene ring closures; refine SMARTS to your substrate (ring sizes, tether lengths).",
    "prereq": "C1=CCCCC1C1=CCCCC1",
    "rxn": "C1=CCCCC1C1=CCCCC1>>C=CCCCCC=CCCCCC",
    "stereo_policy": "not_applicable",
    "type": "retro",
    "stereo_detail": "E/Z mixture (poor geometric selectivity)"
  },
  "S03_cascade_cyclization_retro": {
    "brief": "Retrosynthetic placeholder: fused bicyclic (decalin-type) skeleton disconnects to polyene precursor via cation-olefin cascade cyclization.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "Lewis acid (BF3·Et2O, SnCl4, TiCl4)",
      "Brønsted acid (H2SO4, TFA, HCO2H)",
      "radical initiator (AIBN, photoredox)"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]",
      "[SX2][#6]",
      "[NX3;H2,H1;+0]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Cascade cyclization (multi-ring formation) (retro; schematic placeholder)",
    "note": "SCHEMATIC PLACEHOLDER — disabled for automated matching. Cascade (cation-olefin, radical, or anionic) cyclizations form polycyclic frameworks from polyene precursors in a single operation. Stork-Eschenmoser hypothesis predicts trans-anti-trans ring junctions from chair-like TS. Real applications require substrate-specific SMARTS capturing ring size, substitution pattern, and ring-junction stereochemistry. This template exists only as a conceptual retrosynthetic reminder; do NOT use for automated route scoring. Incompatible groups expanded: nitro (radical quencher), thioethers (Lewis acid coordination/poisoning), free amines (Lewis acid sequestration), acyl chlorides (hydrolysis under protic conditions).",
    "prereq": "DISABLED_PLACEHOLDER",
    "rxn": "C1CCC2CCCCC2C1>>C=CC=CC=CC=C",
    "stereo_policy": "substrate_dependent",
    "type": "retro"
  },
  "S04_polyene_cyclization_retro": {
    "brief": "Retrosynthetic placeholder: terpene/steroid-type polycyclic skeleton disconnects to isoprenoid polyene via biomimetic cation-olefin cyclization.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "Brønsted acid (H2SO4, TFA, formic acid)",
      "Lewis acid (BF3·Et2O, SnCl4)",
      "epoxide initiation (biomimetic: 2,3-oxidosqualene → lanosterol paradigm)",
      "enzyme (oxidosqualene cyclase, for reference)"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]",
      "[SX2][#6]",
      "[NX3;H2,H1;+0]",
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Polyene cyclization (terpene/steroid-type) (retro; schematic placeholder)",
    "note": "SCHEMATIC PLACEHOLDER — disabled for automated matching. Biomimetic polyene cyclizations convert acyclic isoprenoid polyenes into polycyclic terpenoid/steroid skeletons. Stereochemistry is governed by Stork-Eschenmoser hypothesis: chair-like TS conformations dictate trans-anti-trans ring junctions. Initiation typically via protonation of terminal alkene or epoxide opening. Requires precise (E)-alkene geometry in precursor for correct ring fusion. This template exists only as a conceptual retrosynthetic reminder; do NOT use for automated route scoring. Substrate-specific SMARTS needed for real applications. Incompatible groups: nitro (radical quencher), thioethers (Lewis acid coordination), free amines (Lewis acid sequestration), acyl chlorides (hydrolysis), epoxides (competing acid-catalyzed opening).",
    "prereq": "DISABLED_PLACEHOLDER",
    "rxn": "CC1CCC2CCCCC2C1C>>C=C(C)CCC=C(C)CCC=C(C)C",
    "stereo_policy": "substrate_dependent",
    "type": "retro"
  },
  "A11_clemmensen_retro": {
    "brief": "Retrosynthetic: benzylic or α-heteroatom methylene (CH2) disconnects to aryl ketone / carbonyl via Clemmensen reduction.",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "Zn(Hg)/conc_HCl"
    ],
    "incompatible_groups": [
      "[CX4]([OX2][#6])([OX2][#6])",
      "[OX2r3]",
      "C(=O)OC(C)(C)C",
      "[#6][OX2][Si]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Clemmensen Reduction (Retro, oxidation reduction)",
    "note": "Retrosynthetic: methylene disconnects to carbonyl via Clemmensen reduction. Zn(Hg) amalgam in concentrated HCl. Strongly acidic conditions: acetals hydrolyzed, Boc groups cleaved, epoxides opened, silyl ethers cleaved. Most classically applied after Friedel-Crafts acylation (ArCOR → ArCH2R). prereq restricted to benzylic CH2 (adjacent to aromatic ring) to avoid massive false positives from generic [#6][CH2][#6]. Complementary to Wolff-Kishner (basic conditions). Free amines added to incompatible_groups (protonated/salt formation under conc HCl, may interfere).",
    "prereq": "[c:1][CH2:2][#6:3]",
    "rxn": "[c:1][CH2:2][#6:3]>>[c:1][C:2](=[O])[#6:3]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "A13_meerwein_ponndorf_verley_retro": {
    "brief": "Retrosynthetic: secondary alcohol (CHROH with H on carbinol C) disconnects to ketone via MPV reduction.",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "Al(OiPr)3/iPrOH"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Meerwein-Ponndorf-Verley Reduction (Retro, oxidation reduction)",
    "note": "Retrosynthetic: secondary alcohol disconnects to ketone via MPV reduction. Al(OiPr)3 catalyzes hydride transfer from iPrOH to ketone via six-membered TS. Very mild, chemoselective for ketones/aldehydes. Does not reduce esters, amides, alkenes. Produces racemic alcohol. prereq now requires [CH1] to ensure only secondary alcohols match (tertiary alcohols cannot arise from ketone reduction and must be excluded).",
    "prereq": "[CH1:1]([OH:2])([#6:3])[#6:4]",
    "rxn": "[CH1:1]([OH:2])([#6:3])[#6:4]>>[C:1](=[O:2])([#6:3])[#6:4]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "A32_peracid_epoxidation_general_retro": {
    "brief": "Retrosynthetic: non-allylic-alcohol epoxide disconnects to alkene via racemic peracid epoxidation (mCPBA/DMDO/MMPP).",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "mCPBA/DCM",
      "DMDO/acetone",
      "MMPP"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Peracid Epoxidation (Retro, oxidation reduction)",
    "note": "Retrosynthetic: epoxide disconnects to alkene via racemic peracid epoxidation. mCPBA, DMDO, or MMPP. Forward reaction is syn-addition (concerted butterfly mechanism), giving retention of alkene geometry in epoxide (cis-alkene → cis-epoxide, trans → trans). Thioethers oxidized to sulfoxides. Free amines may be N-oxidized. prereq excludes epoxides bearing an allylic alcohol (those should use A15 Sharpless AE retro for enantioselective disconnection). For non-allylic enantioselective epoxidation, consider Jacobsen (Mn-salen) or Shi (fructose-derived ketone/Oxone).",
    "prereq": "[C:1]1[O][C:2]1[CX4;!$([CX4][OH])]",
    "rxn": "[C:1]1[O][C:2]1>>[C:1]=[C:2]",
    "stereo_policy": "syn",
    "type": "retro"
  },
  "I10_duff_reaction_retro": {
    "brief": "Retrosynthetic: ortho- or para-hydroxybenzaldehyde disconnects via Duff reaction (HMTA/acid formylation of phenol).",
    "category": "special",
    "co_reactant_examples": [
      "HMTA/TFA/reflux",
      "HMTA/AcOH/reflux"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[CX4]([OX2][#6])([OX2][#6])",
      "C(=O)OC(C)(C)C"
    ],
    "name": "Duff Reaction ortho (Retro, special)",
    "note": "Retrosynthetic: ortho-formyl phenol disconnects to phenol via Duff reaction. HMTA (hexamethylenetetramine) in TFA/AcOH introduces formyl group ortho (or para) to OH via electrophilic aromatic substitution. This template covers the ortho isomer; see I10b for para. Acidic conditions: acetals hydrolyzed, Boc groups cleaved. Similar to Reimer-Tiemann but uses HMTA instead of CHCl3/base. [CH1] explicitly specified for aldehyde H count clarity.",
    "prereq": "[c:1]([OH:2])[c:3]([CH1]=[O])",
    "rxn": "[c:1]([OH:2])[c:3]([CH1]=[O])>>[c:1]([OH:2])[cH:3]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "I10b_duff_reaction_para_retro": {
    "brief": "Retrosynthetic: para-hydroxybenzaldehyde disconnects via Duff reaction (HMTA/acid formylation of phenol, para isomer).",
    "category": "special",
    "co_reactant_examples": [
      "HMTA/TFA/reflux",
      "HMTA/AcOH/reflux"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[CX4]([OX2][#6])([OX2][#6])",
      "C(=O)OC(C)(C)C"
    ],
    "name": "Duff Reaction para (Retro, special)",
    "note": "Retrosynthetic: para-formyl phenol disconnects to phenol via Duff reaction. HMTA in TFA/AcOH introduces formyl group para to OH. Covers the para regioisomer complementary to I10 (ortho). Acidic conditions: acetals hydrolyzed, Boc groups cleaved.",
    "prereq": "[c:1]([OH:2])[c:3][c:4][c:5]([CH1]=[O])",
    "rxn": "[c:1]([OH:2])[c:3][c:4][c:5]([CH1]=[O])>>[c:1]([OH:2])[c:3][c:4][cH:5]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "I20_ley_oxidation_retro": {
    "brief": "Retrosynthetic: aldehyde/ketone (not ester/amide/acid) disconnects to alcohol via Ley (TPAP/NMO) oxidation.",
    "category": "special",
    "co_reactant_examples": [
      "TPAP/NMO/DCM/4A_sieves"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Ley Oxidation (Retro, special)",
    "note": "Retrosynthetic: aldehyde/ketone disconnects to alcohol via TPAP/NMO (Ley) oxidation. TPAP (tetrapropylammonium perruthenate) catalytic with NMO as stoichiometric oxidant. Mild, selective. Primary alcohols give aldehydes without over-oxidation. prereq uses recursive SMARTS to exclude esters [CX3](=O)[OX2], amides [CX3](=O)[NX3], and carboxylic acids [CX3](=O)[OH] — only true aldehyde/ketone C=O should match. Functionally equivalent to A09 Swern retro but different reagent system. Thioethers may be oxidized by TPAP; free amines may coordinate Ru and inhibit catalysis.",
    "prereq": "[CX3:1;!$([CX3](=[OX1])[OX2]);!$([CX3](=[OX1])[NX3]);!$([CX3](=[OX1])[OH])](=[O:2])",
    "rxn": "[CX3:1;!$([CX3](=[OX1])[OX2]);!$([CX3](=[OX1])[NX3]);!$([CX3](=[OX1])[OH])](=[O:2])>>[C:1]([H])[OH:2]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "R01_nef_reaction_primary_nitro_retro_alt": {
    "brief": "Retrosynthetic (low priority): aldehyde with α-CH disconnects to primary nitroalkane via Nef reaction. Specialist disconnection, not a default retro for generic aldehydes.",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "1) NaOH or KOH (nitronate formation)",
      "2) H2SO4 (aq) or TiCl3 or MCPBA/DMDO (Nef hydrolysis/oxidation)",
      "McMurry–Nef: NaNO2/AcOH then NaOH/H2SO4"
    ],
    "incompatible_groups": [
      "[C](=O)Cl",
      "[S](=O)(=O)O",
      "[OX2r3]",
      "[CX4]([OX2][#6])([OX2][#6])"
    ],
    "name": "Nef reaction (primary nitroalkane → aldehyde) (retro, low priority)",
    "note": "Retrosynthetic: aldehyde disconnects to primary nitroalkane via Nef reaction. The Nef reaction converts nitronate anion to carbonyl under acidic hydrolysis. This is a specialist disconnection — nitroalkanes are typically introduced via Henry (nitroaldol) reaction or Michael addition of nitromethane, so the Nef retro is most useful when the synthetic plan already involves nitro intermediates. prereq tightened: requires aldehyde with at least one α-hydrogen on the aldehyde carbon (matching the CH that bore the nitro group), and the α-carbon must bear a carbon substituent (not formaldehyde). Incompatible groups expanded: acyl chlorides (base-labile), sulfonates (competing elimination), epoxides (acid-labile), acetals (acid-labile under Nef hydrolysis conditions).",
    "prereq": "[CX4:2][CH1:1](=[O:3])",
    "rxn": "[CX4:2][CH1:1](=[O:3])>>[CX4:2][CH2:1][N+](=O)[O-]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "R02_nef_reaction_secondary_nitro_retro_alt": {
    "brief": "Retrosynthetic (low priority): ketone with α-CH disconnects to secondary nitroalkane via Nef reaction. Specialist disconnection, not a default retro for generic ketones.",
    "category": "oxidation_reduction",
    "co_reactant_examples": [
      "1) NaOH or KOH (nitronate formation)",
      "2) H2SO4 (aq) or TiCl3 (Nef hydrolysis)",
      "McMurry–Nef variant"
    ],
    "incompatible_groups": [
      "[C](=O)Cl",
      "[S](=O)(=O)O",
      "[OX2r3]",
      "[CX4]([OX2][#6])([OX2][#6])"
    ],
    "name": "Nef reaction (secondary nitroalkane → ketone) (retro, low priority)",
    "note": "Retrosynthetic: ketone disconnects to secondary nitroalkane via Nef reaction. Specialist disconnection — most useful when nitro intermediates are already part of the synthetic plan (e.g., Henry/nitroaldol or conjugate addition of nitroalkane). prereq tightened: requires ketone carbonyl flanked by two sp3 carbons (CX4), ensuring the carbonyl carbon bore a nitro group in the forward direction. Generic aromatic ketones (ArCOR) are excluded because Nef from Ar-bearing secondary nitroalkanes is rare. Incompatible groups unified with R01.",
    "prereq": "[CX4:2][C:1](=[O:3])[CX4:4]",
    "rxn": "[CX4:2][C:1](=[O:3])[CX4:4]>>[CX4:2][CH:1]([CX4:4])[N+](=O)[O-]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "M01_barton_decarboxylation_forward_retro": {
    "brief": "Retrosynthetic (low priority): tertiary or bridgehead C-H disconnects to carboxylic acid via Barton decarboxylation. Restricted to sterically hindered positions where radical decarboxylation is strategically valuable.",
    "category": "special",
    "co_reactant_examples": [
      "1) (COCl)2 or DCC to activate acid",
      "2) N-hydroxypyridine-2-thione (Barton ester formation)",
      "3) hν (visible light or tungsten lamp, photolysis)",
      "4) H-donor (t-BuSH, Bu3SnH, or (TMS)3SiH)",
      "inert atmosphere (N2 or Ar)"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]",
      "[C](=O)Cl",
      "[C]=[C]",
      "[SX2H]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Barton decarboxylation (retro; RCO2H → RH, tertiary/bridgehead)",
    "note": "Retrosynthetic: C-H at tertiary or bridgehead position disconnects to carboxylic acid via Barton decarboxylation (radical chain via thiohydroxamic ester photolysis). prereq drastically tightened: requires quaternary-adjacent tertiary carbon [CX4;H1] bearing three carbon substituents, which captures tertiary and bridgehead positions where Barton decarboxylation is most strategically useful. The old prereq [CX4;H1,H2,H3]([#6]) matched virtually every sp3 carbon in any molecule — a catastrophic false-positive source. Barton decarboxylation at primary/secondary positions is possible but rarely the strategic choice in retrosynthesis (simpler methods exist). Alkenes incompatible due to competing radical addition. Thiols incompatible (radical chain transfer interference). Free amines added as incompatible (may react with activated ester intermediate). stereo_policy: radical intermediate at tertiary carbon can lead to epimerization; retention is common but not guaranteed.",
    "prereq": "[CX4;H1:1]([#6])([#6])[#6]",
    "rxn": "[CX4;H1:1]([#6])([#6])[#6]>>[CX4:1]([#6])([#6])([#6])[C](=O)[OH]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "I34_nfsi_heteroarene_fluorination_retro": {
    "brief": "Retrosynthetic: F on electron-rich heteroarene (pyrrole/indole C2/C3) disconnects via NFSI electrophilic fluorination.",
    "category": "special",
    "co_reactant_examples": [
      "NFSI/THF/rt",
      "NFSI/MeCN/rt",
      "NFSI/Cs2CO3/DMF",
      "Selectfluor as alternative"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "NFSI Heteroarene Fluorination (Retro, special)",
    "note": "Retrosynthetic: C-F on electron-rich five-membered heteroarene disconnects to C-H via NFSI electrophilic fluorination. NFSI (N-fluorodibenzenesulfonimide) is an electrophilic F+ source that fluorinates electron-rich aromatic positions. Most commonly applied to pyrrole C2/C5 (alpha to N) and indole C3 (most nucleophilic position). prereq matches F on any carbon of a five-membered ring containing at least one nitrogen, covering pyrrole, indole (five-membered ring portion), imidazole, pyrazole etc. Thioethers may be oxidized by NFSI. Free amines may undergo competing N-fluorination. Thiols react rapidly with NFSI.",
    "prereq": "[c:1]([F])1[c:2][c:3][n:4][c:5]1",
    "rxn": "[c:1]([F])1[c:2][c:3][n:4][c:5]1>>[cH:1]1[c:2][c:3][n:4][c:5]1",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "K08_brook_rearrangement_retro": {
    "brief": "Retrosynthetic: silyl ether α to anion-stabilizing group disconnects to α-silyl alcohol via Brook rearrangement ([1,2]-Si C→O migration).",
    "category": "rearrangement",
    "co_reactant_examples": [
      "base (BuLi, LDA, NaH) to form alkoxide",
      "often followed by electrophile trapping of resulting carbanion",
      "low temperature (-78°C typical)",
      "THF or Et2O solvent"
    ],
    "incompatible_groups": [
      "[C](=O)Cl",
      "[N+](=O)[O-]",
      "[S](=O)(=O)O",
      "[OX2H]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Brook rearrangement (retro; silyl ether → α-silyl alcohol)",
    "note": "Retrosynthetic: silyl ether disconnects to α-silyl alcohol via Brook rearrangement (base-promoted [1,2]-shift of silyl from C to O). The driving force is the thermodynamic preference for Si-O over Si-C bond (~30 kcal/mol). prereq requires the carbon bearing O-Si to also bear an anion-stabilizing group: carbonyl (C=O), cyano (C#N), or aryl (c). This prevents false positives on generic silyl ethers (TBS/TMS protecting groups) which are not Brook rearrangement products. Free alcohols and amines are incompatible with the strong base conditions (BuLi/LDA). Acyl chlorides react with organolithium. stereo_policy: the migrating carbon center may undergo inversion or retention depending on substrate; marked as substrate_dependent.",
    "prereq": "[C:2]([O:3][Si:1])([#6:4])[$([CX3]=[O]),$([CX2]#[NX1]),$([c]):5]",
    "rxn": "[C:2]([O:3][Si:1])([#6:4])[#6:5]>>[Si:1][C:2]([OH:3])([#6:4])[#6:5]",
    "stereo_policy": "substrate_dependent",
    "type": "retro"
  },
  "O08_donor_acceptor_cyclopropane_ring_opening_aryl_retro": {
    "brief": "Retro: 1,3-chain with geminal diester (acceptor) and aryl group (donor) disconnects to donor-acceptor cyclopropane.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "Lewis acid (BF3·Et2O, Yb(OTf)3, Sc(OTf)3, MgI2)",
      "nucleophile or dipolarophile for [3+n] trapping",
      "DCM or DCE solvent, rt to reflux"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]",
      "C(=O)OC(C)(C)C",
      "[OX2r3]",
      "[NX3;H2,H1;+0]",
      "[SX2][#6]"
    ],
    "name": "D-A cyclopropane ring opening, aryl donor (retro)",
    "note": "Retrosynthetic: 1,3-difunctionalized chain bearing geminal diester (acceptor, typically malonate) and aryl group (donor) disconnects to donor-acceptor cyclopropane. Lewis acid activates the acceptor end, generating a 1,3-zwitterionic intermediate stabilized by the aryl donor. This template covers the aryl-donor variant; see O08b for vinyl-donor. prereq uses [a] (aromatic atom) for the donor and requires geminal diester pattern C(C(=O)O)(C(=O)O) for the acceptor. The old prereq used [a,C]=[C] which cannot match aromatic atoms (aromatic bonds are not = in SMARTS). Free amines sequester Lewis acid catalyst. Thioethers may coordinate Lewis acids. Boc groups cleaved by strong Lewis acids. Epoxides opened by Lewis acids.",
    "prereq": "[C:1][C:2]([C:3](=O)[OX2])([C:4](=O)[OX2])[C:5]([a:6])",
    "rxn": "[C:1][C:2]([C:3](=O)[OX2])([C:4](=O)[OX2])[C:5]([a:6])>>[C:1]1[C:2]([C:3](=O)[OX2])([C:4](=O)[OX2])[C:5]1([a:6])",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "O08b_donor_acceptor_cyclopropane_ring_opening_vinyl_retro": {
    "brief": "Retro: 1,3-chain with geminal diester (acceptor) and vinyl group (donor) disconnects to donor-acceptor cyclopropane.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "Lewis acid (BF3·Et2O, Yb(OTf)3, Sc(OTf)3)",
      "nucleophile or dipolarophile for [3+n] trapping",
      "DCM or DCE solvent"
    ],
    "incompatible_groups": [
      "[N+](=O)[O-]",
      "C(=O)OC(C)(C)C",
      "[OX2r3]",
      "[NX3;H2,H1;+0]",
      "[SX2][#6]"
    ],
    "name": "D-A cyclopropane ring opening, vinyl donor (retro)",
    "note": "Retrosynthetic: 1,3-difunctionalized chain bearing geminal diester (acceptor) and vinyl/alkenyl group (donor) disconnects to vinyl-donor-acceptor cyclopropane. Vinyl donor stabilizes the cationic end via allylic delocalization. This template covers the vinyl-donor variant; see O08 for aryl-donor. prereq requires C=C double bond on the donor carbon.",
    "prereq": "[C:1][C:2]([C:3](=O)[OX2])([C:4](=O)[OX2])[C:5]([C:6]=[C:7])",
    "rxn": "[C:1][C:2]([C:3](=O)[OX2])([C:4](=O)[OX2])[C:5]([C:6]=[C:7])>>[C:1]1[C:2]([C:3](=O)[OX2])([C:4](=O)[OX2])[C:5]1([C:6]=[C:7])",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "C45_michael_addition_cc_retro": {
    "brief": "Michael 1,4-conjugate addition retro: disconnect C(alpha)-C(beta) in 1,5-dicarbonyl to give nucleophile + enone.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "LDA/THF/-78C",
      "NaH/THF",
      "KOtBu/THF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Michael Addition C-C Disconnection (Retro, cc formation)",
    "note": "Retrosynthetic: 1,5-dicarbonyl disconnects at C(alpha)-C(beta) to give stabilized nucleophile (enolate, malonate, nitroalkane) + Michael acceptor (enone, acrylate, vinyl sulfone). The nucleophile must be stabilized (pKa < 25). Regioselectivity: 1,4-addition favored over 1,2- under thermodynamic control or with soft nucleophiles (organocuprates, malonates). Pattern: C1(=O2)-C3-C4-C5-C6(=O7), break C3-C4.",
    "prereq": "[C:1](=[O:2])[C:3][C:4][C:5][C:6](=[O:7])",
    "rxn": "[C:1](=[O:2])[C:3][C:4][C:5][C:6](=[O:7])>>[C:1](=[O:2])[C:3].[C:4]=[C:5][C:6](=[O:7])",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "C45_michael_addition_cc_forward": {
    "brief": "Michael 1,4-conjugate addition: stabilized carbanion adds to enone at beta-carbon.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "LDA/THF/-78C",
      "NaH/THF",
      "KOtBu/THF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Michael Addition C-C (Forward, cc formation)",
    "note": "1,4-Conjugate addition of stabilized carbanion to alpha,beta-unsaturated carbonyl. Thermodynamic product. Soft nucleophiles (enolates, malonates, organocuprates) favor 1,4- over 1,2-addition.",
    "prereq": "[C:1](=[O:2])[C:3].[C:4]=[C:5][C:6](=[O:7])",
    "rxn": "[C:1](=[O:2])[C:3].[C:4]=[C:5][C:6](=[O:7])>>[C:1](=[O:2])[C:3][C:4][C:5][C:6](=[O:7])",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "C46_aza_michael_retro": {
    "brief": "Aza-Michael retro: disconnect N-C(beta) bond to give amine + enone.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "neat/rt",
      "MeOH/reflux",
      "InCl3(cat)"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl"
    ],
    "name": "Aza-Michael Addition (Retro, cc formation)",
    "note": "Retrosynthetic: beta-amino carbonyl disconnects at N-C(beta) to give amine + Michael acceptor. Amines are good soft nucleophiles for 1,4-addition. Primary and secondary amines both work. No base needed for unhindered amines. Reversible under forcing conditions.",
    "prereq": "[N:1][C:2][C:3][C:4](=[O:5])",
    "rxn": "[N:1][C:2][C:3][C:4](=[O:5])>>[NH:1].[C:2]=[C:3][C:4](=[O:5])",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "C46_aza_michael_forward": {
    "brief": "Aza-Michael: amine 1,4-addition to alpha,beta-unsaturated carbonyl.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "neat/rt",
      "MeOH/reflux",
      "InCl3(cat)"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl"
    ],
    "name": "Aza-Michael Addition (Forward, cc formation)",
    "note": "Amine adds 1,4 to enone/acrylate. Primary amines may undergo double addition. Reversible.",
    "prereq": "[NH:1].[C:2]=[C:3][C:4](=[O:5])",
    "rxn": "[NH:1].[C:2]=[C:3][C:4](=[O:5])>>[N:1][C:2][C:3][C:4](=[O:5])",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "C47_thia_michael_retro": {
    "brief": "Thia-Michael retro: disconnect S-C(beta) bond to give thiol + enone.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "Et3N/MeOH",
      "DBU(cat)",
      "neat"
    ],
    "incompatible_groups": [],
    "name": "Thia-Michael Addition (Retro, cc formation)",
    "note": "Retrosynthetic: beta-thio carbonyl disconnects at S-C(beta) to give thiol + Michael acceptor. Thiols are excellent soft nucleophiles, highly selective for 1,4-addition. Very fast, often quantitative. Used extensively in bioconjugation (maleimide-thiol click).",
    "prereq": "[S:1][C:2][C:3][C:4](=[O:5])",
    "rxn": "[S:1][C:2][C:3][C:4](=[O:5])>>[SH:1].[C:2]=[C:3][C:4](=[O:5])",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "C47_thia_michael_forward": {
    "brief": "Thia-Michael: thiol 1,4-addition to alpha,beta-unsaturated carbonyl.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "Et3N/MeOH",
      "DBU(cat)",
      "neat"
    ],
    "incompatible_groups": [],
    "name": "Thia-Michael Addition (Forward, cc formation)",
    "note": "Thiol adds 1,4 to enone/acrylate/maleimide. Very fast, selective. Key reaction in bioconjugation.",
    "prereq": "[SH:1].[C:2]=[C:3][C:4](=[O:5])",
    "rxn": "[SH:1].[C:2]=[C:3][C:4](=[O:5])>>[S:1][C:2][C:3][C:4](=[O:5])",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "E21_imine_formation_retro": {
    "brief": "Imine (Schiff base) retro: C=N disconnects to aldehyde/ketone + primary amine.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "TiCl4/Et3N",
      "MgSO4(drying)",
      "molecular_sieves_4A"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl"
    ],
    "name": "Imine Formation (Retro, nitrogen)",
    "note": "Retrosynthetic: imine (C=N-R) disconnects to carbonyl + primary amine with loss of H2O. Equilibrium reaction, driven forward by water removal (molecular sieves, Dean-Stark). Aldehydes more reactive than ketones. Imines from ketones (ketimines) are less stable. Lewis acids (TiCl4) can promote formation.",
    "prereq": "[C:1](=[N:2][#6:3])[#6:4]",
    "rxn": "[C:1](=[N:2][#6:3])[#6:4]>>[C:1](=[O])[#6:4].[NH2:2][#6:3]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "E21_imine_formation_forward": {
    "brief": "Imine (Schiff base) formation: aldehyde/ketone + primary amine → C=N + H2O.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "TiCl4/Et3N",
      "MgSO4(drying)",
      "molecular_sieves_4A"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl"
    ],
    "name": "Imine Formation (Forward, nitrogen)",
    "note": "Condensation of carbonyl with primary amine. Equilibrium driven by water removal.",
    "prereq": "[C:1](=[O])[#6:4].[NH2:2][#6:3]",
    "rxn": "[C:1](=[O])[#6:4].[NH2:2][#6:3]>>[C:1](=[N:2][#6:3])[#6:4]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "C48_cyanohydrin_retro": {
    "brief": "Cyanohydrin retro: alpha-hydroxy nitrile disconnects to aldehyde/ketone + HCN.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "HCN/KCN",
      "TMSCN/ZnI2_then_acid"
    ],
    "incompatible_groups": [],
    "name": "Cyanohydrin Formation (Retro, cc formation)",
    "note": "Retrosynthetic: alpha-hydroxy nitrile disconnects to carbonyl + HCN (or TMSCN). Reversible under basic conditions. Asymmetric variants use chiral Lewis acids or enzymes (HNL). TMSCN/Lewis acid gives TMS-protected cyanohydrin initially.",
    "prereq": "[C:1]([OH:2])(C#[N:3])",
    "rxn": "[C:1]([OH:2])(C#[N:3])>>[C:1](=[O:2])",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "C48_cyanohydrin_forward": {
    "brief": "Cyanohydrin formation: HCN/KCN adds to aldehyde/ketone.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "HCN/KCN",
      "TMSCN/ZnI2"
    ],
    "incompatible_groups": [],
    "name": "Cyanohydrin Formation (Forward, cc formation)",
    "note": "Nucleophilic addition of cyanide to carbonyl. Reversible. Aldehydes more reactive than ketones.",
    "prereq": "[C:1](=[O:2])",
    "rxn": "[C:1](=[O:2])>>[C:1]([OH:2])(C#N)",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "C49_strecker_retro": {
    "brief": "Strecker retro: alpha-amino nitrile disconnects to aldehyde + amine + HCN (3-component).",
    "category": "cc_formation",
    "co_reactant_examples": [
      "NH4Cl/KCN/H2O",
      "R-NH2/TMSCN/Lewis_acid"
    ],
    "incompatible_groups": [],
    "name": "Strecker Synthesis (Retro, cc formation)",
    "note": "Retrosynthetic: alpha-amino nitrile disconnects to aldehyde + amine + HCN. Proceeds via imine intermediate. Hydrolysis of nitrile gives alpha-amino acid. Asymmetric Strecker uses chiral catalysts (Jacobsen thiourea, Rueping phosphoric acid).",
    "prereq": "[C:1]([NH:2][#6:3])(C#[N:4])",
    "rxn": "[C:1]([NH:2][#6:3])(C#[N:4])>>[CH1:1](=[O]).[NH2:2][#6:3]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "D53_epoxide_opening_amine_retro": {
    "brief": "Epoxide opening by amine retro: beta-amino alcohol disconnects to epoxide + amine.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "neat/60C",
      "H2O/rt",
      "LiClO4(cat)/MeCN"
    ],
    "incompatible_groups": [],
    "name": "Epoxide Opening Amine (Retro, ring reaction)",
    "note": "Retrosynthetic: 1,2-amino alcohol disconnects to epoxide + amine. Regioselectivity: amine attacks less hindered carbon (SN2) under neutral/basic conditions. Under acid catalysis, attack at more substituted carbon (SN1-like). Anti-periplanar opening gives trans-diaxial product.",
    "prereq": "[C:1]([OH:2])[C:3]([N:4])",
    "rxn": "[C:1]([OH:2])[C:3]([N:4])>>[C:1]1[O:2][C:3]1.[NH:4]",
    "stereo_policy": "diastereoselective",
    "type": "retro"
  },
  "D53_epoxide_opening_amine_forward": {
    "brief": "Epoxide opening by amine: amine nucleophile opens epoxide to give beta-amino alcohol.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "neat/60C",
      "H2O/rt",
      "LiClO4(cat)/MeCN"
    ],
    "incompatible_groups": [],
    "name": "Epoxide Opening Amine (Forward, ring reaction)",
    "note": "Amine opens epoxide at less hindered carbon (SN2). Anti opening gives trans product.",
    "prereq": "[C:1]1[O:2][C:3]1.[NH:4]",
    "rxn": "[C:1]1[O:2][C:3]1.[NH:4]>>[C:1]([OH:2])[C:3]([N:4])",
    "stereo_policy": "diastereoselective",
    "type": "forward"
  },
  "D54_epoxide_opening_alcohol_retro": {
    "brief": "Epoxide opening by alcohol retro: 1,2-diol monoether disconnects to epoxide + alcohol.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "BF3.Et2O/ROH",
      "NaOR/ROH",
      "pTSA(cat)/ROH"
    ],
    "incompatible_groups": [],
    "name": "Epoxide Opening Alcohol (Retro, ring reaction)",
    "note": "Retrosynthetic: beta-alkoxy alcohol disconnects to epoxide + alcohol. Acid-catalyzed: attack at more substituted carbon (SN1-like). Base-catalyzed (alkoxide): attack at less hindered carbon (SN2). BF3.Et2O is a common Lewis acid catalyst.",
    "prereq": "[C:1]([OH:2])[C:3]([O:4][#6:5])",
    "rxn": "[C:1]([OH:2])[C:3]([O:4][#6:5])>>[C:1]1[O:2][C:3]1.[OH:4][#6:5]",
    "stereo_policy": "diastereoselective",
    "type": "retro"
  },
  "H20_snar_cyclization_N_retro": {
    "brief": "SNAr with N-nucleophile retro: aryl amine disconnects to aryl fluoride + amine.",
    "category": "aromatic",
    "co_reactant_examples": [
      "K2CO3/DMF/120C",
      "Cs2CO3/DMSO/100C",
      "NaH/DMF"
    ],
    "incompatible_groups": [],
    "name": "SNAr N-Nucleophile (Retro, aromatic)",
    "note": "Retrosynthetic: aryl amine (Ar-NHR) on electron-poor ring disconnects to aryl fluoride + amine via SNAr. Requires electron-withdrawing group (NO2, CN, CF3, SO2R) ortho or para to leaving group. Fluorine is the best leaving group in SNAr (C-F bond is strongest but Meisenheimer complex formation is rate-determining, and F stabilizes the anionic sigma complex best). Works for primary and secondary amines. For unactivated rings, use Buchwald-Hartwig (Pd-catalyzed) instead.",
    "prereq": "[c:1](!@[NH:2][#6:3])",
    "rxn": "[c:1](!@[NH:2][#6:3])>>[c:1]F.[NH2:2][#6:3]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "H21_snar_cyclization_O_retro": {
    "brief": "SNAr with O-nucleophile retro: aryl ether disconnects to aryl fluoride + alcohol.",
    "category": "aromatic",
    "co_reactant_examples": [
      "K2CO3/DMF/120C",
      "Cs2CO3/DMSO/100C",
      "NaH/DMF"
    ],
    "incompatible_groups": [],
    "name": "SNAr O-Nucleophile (Retro, aromatic)",
    "note": "Retrosynthetic: aryl ether (Ar-OR) on electron-poor ring disconnects to aryl fluoride + alcohol via SNAr. Requires EWG activation (NO2, CN, CF3). Oxygen nucleophile is weaker than nitrogen, so higher temperature or stronger base needed. For unactivated rings, use Buchwald etherification (Pd-catalyzed) or Williamson ether synthesis instead.",
    "prereq": "[c:1](!@[O:2][#6:3])",
    "rxn": "[c:1](!@[O:2][#6:3])>>[c:1]F.[OH:2][#6:3]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "H22_snar_thiol_retro": {
    "brief": "SNAr with thiol retro: aryl thioether disconnects to aryl fluoride + thiol.",
    "category": "aromatic",
    "co_reactant_examples": [
      "K2CO3/DMF",
      "Cs2CO3/DMSO",
      "Et3N/DMF"
    ],
    "incompatible_groups": [],
    "name": "SNAr Thiol (Retro, aromatic)",
    "note": "Retrosynthetic: aryl thioether (Ar-SR) on electron-poor ring disconnects to aryl fluoride + thiol via SNAr. Thiols are excellent soft nucleophiles for SNAr. Requires EWG (NO2, CN, CF3) ortho/para to leaving group. Faster than SNAr with amines or alcohols due to thiolate nucleophilicity. For unactivated rings, consider Pd-catalyzed C-S coupling.",
    "prereq": "[c:1](!@[S:4][#6:5])",
    "rxn": "[c:1](!@[S:4][#6:5])>>[c:1]F.[SH:4][#6:5]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "F15_e1cb_elimination_retro": {
    "brief": "E1cb elimination retro: enone disconnects to beta-hydroxy carbonyl.",
    "category": "elimination",
    "co_reactant_examples": [
      "NaOH/H2O",
      "KOH/EtOH",
      "DBU"
    ],
    "incompatible_groups": [
      "[OX2r3]"
    ],
    "name": "E1cb Elimination (Retro, elimination)",
    "note": "Retrosynthetic: alpha,beta-unsaturated carbonyl (enone/enal) disconnects to beta-hydroxy carbonyl via E1cb elimination. E1cb mechanism: base deprotonates alpha-H first (forming enolate), then hydroxide leaves. Favored when alpha-H is acidic (adjacent to C=O) and leaving group is poor (OH after activation, or mesylate/tosylate). Common in aldol-dehydration sequences.",
    "prereq": "[C:1]=[C:2][C:3](=[O:4])",
    "rxn": "[C:1]=[C:2][C:3](=[O:4])>>[C:1]([OH])[C:2][C:3](=[O:4])",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "F15_e1cb_elimination_forward": {
    "brief": "E1cb elimination: beta-hydroxy carbonyl dehydrates to enone under basic conditions.",
    "category": "elimination",
    "co_reactant_examples": [
      "NaOH/H2O",
      "KOH/EtOH",
      "DBU"
    ],
    "incompatible_groups": [
      "[OX2r3]"
    ],
    "name": "E1cb Elimination (Forward, elimination)",
    "note": "Base-promoted E1cb: deprotonation alpha to C=O, then loss of beta-OH. Common in aldol-dehydration.",
    "prereq": "[C:1]([OH])[C:2][C:3](=[O:4])",
    "rxn": "[C:1]([OH])[C:2][C:3](=[O:4])>>[C:1]=[C:2][C:3](=[O:4])",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "F16_acid_dehydration_retro": {
    "brief": "Acid-catalyzed dehydration retro: alkene disconnects to alcohol.",
    "category": "elimination",
    "co_reactant_examples": [
      "H2SO4/heat",
      "pTSA/toluene/reflux",
      "POCl3/pyridine"
    ],
    "incompatible_groups": [
      "[OX2r3]",
      "[CX4]([OX2][#6])([OX2][#6])"
    ],
    "name": "Acid Dehydration (Retro, elimination)",
    "note": "Retrosynthetic: alkene disconnects to alcohol via acid-catalyzed dehydration. Zaitsev's rule: more substituted alkene is major product. Tertiary alcohols dehydrate fastest (E1 mechanism). Primary alcohols require stronger conditions or POCl3/pyridine (E2). Acetals and epoxides are acid-labile.",
    "prereq": "[C:1]=[C:2]",
    "rxn": "[C:1]=[C:2]>>[C:1]([OH])[C:2]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "F17_mesylate_elimination_retro": {
    "brief": "Mesylate/tosylate E2 elimination retro: alkene disconnects to mesylate/tosylate.",
    "category": "elimination",
    "co_reactant_examples": [
      "DBU/toluene",
      "KOtBu/THF",
      "Et3N/reflux"
    ],
    "incompatible_groups": [],
    "name": "Mesylate Elimination (Retro, elimination)",
    "note": "Retrosynthetic: alkene disconnects to mesylate (or tosylate) via E2 elimination. Two-step from alcohol: mesylation (MsCl/Et3N) then base-induced elimination. Better leaving group than OH. Anti-periplanar geometry required for E2.",
    "prereq": "[C:1]=[C:2]",
    "rxn": "[C:1]=[C:2]>>[C:1]([H])[C:2][OS](=O)(=O)C",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "D55_iodolactonization_retro": {
    "brief": "Iodolactonization retro: iodo-lactone disconnects to unsaturated acid.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "I2/NaHCO3/THF-H2O",
      "I2/KI/NaHCO3"
    ],
    "incompatible_groups": [
      "[SX2][#6]"
    ],
    "name": "Iodolactonization (Retro, ring reaction)",
    "note": "Retrosynthetic: gamma-iodolactone (5-exo-trig product, most common per Baldwin's rules) disconnects to unsaturated carboxylic acid + I2. Iodonium ion activates alkene, carboxylate attacks intramolecularly. Highly diastereoselective (anti addition). Pattern matches 5-exo product where I is adjacent to the O-bearing carbon: C(=O)-O-C(I)-C.",
    "prereq": "[C:1](=[O:2])[O:3][C:5]([I:6])[C:4]",
    "rxn": "[C:1](=[O:2])[O:3][C:5]([I:6])[C:4]>>[C:1](=[O:2])[OH:3].[C:4]=[C:5]",
    "stereo_policy": "diastereoselective",
    "type": "retro"
  },
  "D56_bromolactonization_retro": {
    "brief": "Bromolactonization retro: bromo-lactone disconnects to unsaturated acid.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "NBS/DMF",
      "Br2/NaHCO3"
    ],
    "incompatible_groups": [
      "[SX2][#6]"
    ],
    "name": "Bromolactonization (Retro, ring reaction)",
    "note": "Retrosynthetic: gamma-bromolactone (5-exo-trig product) disconnects to unsaturated carboxylic acid + Br2/NBS. Analogous to iodolactonization. NBS is milder than Br2.",
    "prereq": "[C:1](=[O:2])[O:3][C:5]([Br:6])[C:4]",
    "rxn": "[C:1](=[O:2])[O:3][C:5]([Br:6])[C:4]>>[C:1](=[O:2])[OH:3].[C:4]=[C:5]",
    "stereo_policy": "diastereoselective",
    "type": "retro"
  },
  "E22_buchwald_etherification_retro": {
    "brief": "Buchwald Pd-catalyzed C-O coupling retro: aryl ether disconnects to aryl halide + alcohol.",
    "category": "aromatic",
    "co_reactant_examples": [
      "Pd2(dba)3/tBuXPhos/Cs2CO3/toluene",
      "Pd(OAc)2/BINAP/K3PO4/toluene"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]"
    ],
    "name": "Buchwald Etherification (Retro, aromatic)",
    "note": "Retrosynthetic: aryl alkyl ether disconnects to aryl halide (Br, I, OTf) + alcohol via Pd-catalyzed C-O coupling. Bulky biaryl phosphine ligands (tBuXPhos, RuPhos) are essential. Works for primary, secondary, and phenolic alcohols. Complementary to Williamson (which requires SN2-active electrophile) and Ullmann (Cu-catalyzed, harsher conditions). Free amines may poison Pd catalyst.",
    "prereq": "[c:1]!@[O:2][#6:3]",
    "rxn": "[c:1]!@[O:2][#6:3]>>[c:1]Br.[OH:2][#6:3]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "C50_thiol_ene_radical_retro": {
    "brief": "Thiol-ene (radical) retro: thioether disconnects to thiol + alkene.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "AIBN/hv",
      "DMPA/hv(365nm)",
      "thermal/80C"
    ],
    "incompatible_groups": [],
    "name": "Thiol-Ene Radical (Retro, cc formation)",
    "note": "Retrosynthetic: thioether disconnects to thiol + terminal alkene via radical thiol-ene. Anti-Markovnikov selectivity (radical adds to terminal carbon). Initiated by UV or radical initiator (AIBN, DMPA). Very fast, high conversion, tolerant of water and oxygen. Key click chemistry reaction for polymer and bioconjugation.",
    "prereq": "[S:1][CH2:2][C:3]",
    "rxn": "[S:1][CH2:2][C:3]>>[SH:1].[CH2:2]=[C:3]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "B32_dimethyl_acetal_protect_retro": {
    "brief": "Dimethyl acetal protection retro: dimethyl acetal disconnects to aldehyde/ketone.",
    "category": "protection",
    "co_reactant_examples": [
      "MeOH/pTSA(cat)",
      "MeOH/BF3.Et2O",
      "HC(OMe)3/pTSA"
    ],
    "incompatible_groups": [],
    "name": "Dimethyl Acetal Protect (Retro, protection)",
    "note": "Retrosynthetic: dimethyl acetal C(OMe)2 disconnects to carbonyl C=O. Acid-catalyzed formation with MeOH or trimethyl orthoformate. Protects aldehydes/ketones from nucleophilic attack, reduction, and Grignard conditions. Stable to base, nucleophiles, and mild reducing agents. Removed by aqueous acid.",
    "prereq": "[C:1]([O:2]C)([O:3]C)",
    "rxn": "[C:1]([O:2]C)([O:3]C)>>[C:1](=[O:2])",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "B33_dimethyl_acetal_deprotect_retro": {
    "brief": "Dimethyl acetal deprotection retro: aldehyde/ketone (not ester/amide/acid) disconnects to dimethyl acetal.",
    "category": "protection",
    "co_reactant_examples": [
      "HCl/H2O/THF",
      "pTSA/acetone-H2O",
      "AcOH/H2O"
    ],
    "incompatible_groups": [],
    "name": "Dimethyl Acetal Deprotect (Retro, protection)",
    "note": "Retrosynthetic: carbonyl disconnects to dimethyl acetal via acid hydrolysis. Aqueous acid cleaves acetal to regenerate carbonyl + 2 MeOH. Prereq restricted to aldehydes/ketones: the carbonyl carbon must be bonded to C or H only, not to O (ester/acid) or N (amide). Only aldehydes and ketones form acetals.",
    "prereq": "[CX3;$([CX3](=[O])([#6])[#6]),$([CX3;H1](=[O])[#6]):1](=[O:2])",
    "rxn": "[C:1](=[O:2])>>[C:1]([O:2]C)(OC)",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "E23_aza_wittig_retro": {
    "brief": "Aza-Wittig retro: imine (C=N) disconnects to aldehyde/ketone + iminophosphorane (R-N=PPh3).",
    "category": "nitrogen",
    "co_reactant_examples": [
      "PPh3/DIAD_then_TMSN3",
      "PPh3/toluene/reflux"
    ],
    "incompatible_groups": [],
    "name": "Aza-Wittig (Retro, nitrogen)",
    "note": "Retrosynthetic: imine C=N disconnects to carbonyl C=O + iminophosphorane R-N=PPh3. Analogous to Wittig but forms C=N instead of C=C. Iminophosphorane generated in situ from azide + PPh3 (Staudinger). Intramolecular aza-Wittig is powerful for heterocycle synthesis (indoles, quinazolines, benzimidazoles). Driving force: strong P=O bond formation (~540 kJ/mol).",
    "prereq": "[C:1](=[N:2][#6:3])",
    "rxn": "[C:1](=[N:2][#6:3])>>[C:1](=[O]).[N:2](=[P]([c]1[cH][cH][cH][cH][c]1)([c]1[cH][cH][cH][cH][c]1)[c]1[cH][cH][cH][cH][c]1)[#6:3]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "C51_wittig_stabilized_retro": {
    "brief": "Stabilized Wittig retro: trans alpha,beta-unsaturated ester disconnects to aldehyde + stabilized phosphorus ylide.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "Ph3P=CHCO2Et/toluene/reflux",
      "Ph3P=CHCO2Me/DCM"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl"
    ],
    "name": "Wittig Stabilized (Retro, cc formation)",
    "note": "Retrosynthetic: trans alpha,beta-unsaturated ester (E-alkene) disconnects to aldehyde + stabilized phosphorus ylide (Ph3P=CHCO2R). Stabilized ylides (with EWG: ester, nitrile, ketone) give predominantly E-alkene via Wittig. Contrast with non-stabilized ylides (Ph3P=CHR) which give Z-alkene. HWE (Horner-Wadsworth-Emmons) variant uses phosphonate ester instead of phosphonium ylide, easier workup.",
    "prereq": "[#6:1]/[CH:2]=[CH:3]/[C:4](=[O:5])[O:6]",
    "rxn": "[#6:1]/[CH:2]=[CH:3]/[C:4](=[O:5])[O:6]>>[#6:1][CH:2]=[O].[CH:3]([C:4](=[O:5])[O:6])=[P]([c]1[cH][cH][cH][cH][c]1)([c]1[cH][cH][cH][cH][c]1)[c]1[cH][cH][cH][cH][c]1",
    "stereo_policy": "E_selective",
    "type": "retro"
  },
  "C51_wittig_stabilized_forward": {
    "brief": "Stabilized Wittig: aldehyde + stabilized ylide → trans alpha,beta-unsaturated ester.",
    "category": "cc_formation",
    "co_reactant_examples": [
      "Ph3P=CHCO2Et/toluene/reflux",
      "Ph3P=CHCO2Me/DCM"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl"
    ],
    "name": "Wittig Stabilized (Forward, cc formation)",
    "note": "Stabilized Wittig olefination. E-selective. Aldehyde + stabilized ylide → trans-alkene + Ph3P=O.",
    "prereq": "[#6:1][CH:2]=[O]",
    "rxn": "[#6:1][CH:2]=[O]>>[#6:1]/[CH:2]=[CH]/[C](=[O])[O]",
    "stereo_policy": "E_selective",
    "type": "forward"
  },
  "C36_azole_N_alkylation_sn2": {
    "brief": "Azole NH alkylated by alkyl halide via SN2. Base deprotonates azole NH, nitrogen attacks electrophilic carbon with inversion.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "K2CO3/DMF",
      "Cs2CO3/DMF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Azole N Alkylation SN2 (Forward, cc formation)",
    "note": "Azole N-alkylation: base deprotonates azole NH, nucleophilic nitrogen attacks alkyl halide via SN2. Primary halides preferred. Cs2CO3/DMF standard conditions. Acid chlorides would acylate instead.",
    "prereq": "[nH:1].[C;X4;H1,H2:2][Br,Cl,I]",
    "rxn": "[nH:1].[C;X4;H1,H2:2][Br,Cl,I]>>[n:1][C:2]",
    "stereo_policy": "inversion",
    "type": "forward"
  },
  "C36_azole_N_alkylation_sn2_retro": {
    "brief": "Retro-azole N-alkylation: N-alkyl azole disconnected to azole NH + alkyl halide. Forward: base-mediated SN2 of azole nitrogen on alkyl halide.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "K2CO3/DMF",
      "Cs2CO3/DMF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Azole N Alkylation SN2 (Retro, cc formation)",
    "note": "Retrosynthetic disconnection of N-C(sp3) bond in N-alkyl azole. Forward reaction uses K2CO3 or Cs2CO3 in DMF. Primary alkyl halides preferred for SN2. Benzyl halides also good electrophiles. Regioselectivity (N1 vs N3) depends on azole type and conditions.",
    "prereq": "[n:1][C:2]",
    "rxn": "[n:1][C:2]>>[nH:1].[C;X4:2][Br,Cl,I]",
    "stereo_policy": "inversion",
    "type": "retro"
  },
  "C38_imidazole_N_benzylation": {
    "brief": "Imidazole NH benzylated by benzyl halide via SN2. Base deprotonates imidazole, N attacks benzylic carbon. Bn removable by H2/Pd-C.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "BnBr/K2CO3/DMF",
      "BnCl/NaH/DMF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Imidazole N Benzylation (Forward, cc formation)",
    "note": "Imidazole N-benzylation: BnBr + K2CO3/DMF. N1 usually preferred over N3. Benzyl group is a protecting group for imidazole NH, removable by hydrogenolysis.",
    "prereq": "[nH:1]1[c:2][n:3][c:4][c:5]1.[CH2:6][Br,Cl,I]",
    "rxn": "[nH:1]1[c:2][n:3][c:4][c:5]1.[CH2:6][Br,Cl,I]>>[CH2:6][n:1]1[c:2][n:3][c:4][c:5]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "C38_imidazole_N_benzylation_retro": {
    "brief": "Retro-imidazole N-benzylation: N-benzyl imidazole disconnected to imidazole NH + benzyl halide. Forward: base-mediated SN2.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "BnBr/K2CO3/DMF",
      "BnCl/Cs2CO3/DMF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Imidazole N Benzylation (Retro, cc formation)",
    "note": "Retrosynthetic disconnection of N-Bn bond in N-benzyl imidazole. Forward uses BnBr/K2CO3/DMF. Bn group is a protecting group for imidazole NH, removable by H2/Pd-C. N1 vs N3 regiochemistry must be considered.",
    "prereq": "[CH2:6][n:1]1[c:2][n:3][c:4][c:5]1",
    "rxn": "[CH2:6][n:1]1[c:2][n:3][c:4][c:5]1>>[nH:1]1[c:2][n:3][c:4][c:5]1.[CH2:6][Br,Cl,I]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "D17_lactonization_forward": {
    "brief": "Intramolecular lactonization of gamma-hydroxy acid to gamma-lactone (5-membered cyclic ester).",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "p-TsOH/toluene/Dean-Stark",
      "DCC/DMAP/DCM",
      "Yamaguchi_reagent/Et3N/DMAP/toluene"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Lactonization (Forward, ring reaction)",
    "note": "γ-Butyrolactones (5-ring) and δ-valerolactones (6-ring) form spontaneously under mild acid. Larger rings require high-dilution (Ziegler) or Yamaguchi/Corey-Nicolaou macrolactonization. DCC/DMAP for activated ester route. Retention at chiral centers (acyl substitution). Co-reactant SMARTS represent diol fragments for intramolecular cyclization.",
    "prereq": "[O:6][CH2:5][CH2:4][CH2:7][C:1](=[O:2])[OH]",
    "rxn": "[O:6][CH2:5][CH2:4][CH2:7][C:1](=[O:2])[OH]>>[O:6]1[CH2:5][CH2:4][CH2:7][C:1](=[O:2])1",
    "stereo_policy": "substrate_dependent",
    "type": "forward"
  },
  "D17_lactonization_retro": {
    "brief": "Retro-lactonization: gamma-lactone disconnected to gamma-hydroxy acid precursor.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "p-TsOH/toluene/Dean-Stark",
      "DCC/DMAP/DCM"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Lactonization (Retro, ring reaction)",
    "note": "Retrosynthetic disconnection. Forward: p-TsOH/Dean-Stark or DCC/DMAP. γ/δ-Lactones form readily. Retention at chiral centers.",
    "prereq": "[O:6]1[CH2:5][CH2:4][CH2:7][C:1](=[O:2])1",
    "rxn": "[O:6]1[CH2:5][CH2:4][CH2:7][C:1](=[O:2])1>>[O:6][CH2:5][CH2:4][CH2:7][C:1](=[O:2])[OH]",
    "stereo_policy": "substrate_dependent",
    "type": "retro"
  },
  "D18_lactamization_forward": {
    "brief": "Intramolecular lactamization of gamma-amino acid to gamma-lactam (5-membered cyclic amide).",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "EDC/HOBt/DCM",
      "DCC/DMAP/DCM",
      "T3P/iPr2NEt/DMF"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Lactamization (Forward, ring reaction)",
    "note": "γ-Lactams (5-ring) and δ-lactams (6-ring) form readily. β-Lactams (4-ring) need Staudinger or special activation. EDC/HOBt, DCC/DMAP, or T3P as coupling reagents. High-dilution for macrolactams. Retention at chiral centers. Co-reactant SMARTS represent amino-acid fragments.",
    "prereq": "[N:6][CH2:5][CH2:4][CH2:7][C:1](=[O:2])[OH]",
    "rxn": "[N:6][CH2:5][CH2:4][CH2:7][C:1](=[O:2])[OH]>>[N:6]1[CH2:5][CH2:4][CH2:7][C:1](=[O:2])1",
    "stereo_policy": "substrate_dependent",
    "type": "forward"
  },
  "D18_lactamization_retro": {
    "brief": "Retro-lactamization: gamma-lactam disconnected to gamma-amino acid precursor.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "EDC/HOBt/DCM",
      "DCC/DMAP/DCM"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Lactamization (Retro, ring reaction)",
    "note": "Retrosynthetic disconnection. Forward: EDC/HOBt or DCC/DMAP. γ/δ-Lactams form readily. Retention at chiral centers.",
    "prereq": "[N:6]1[CH2:5][CH2:4][CH2:7][C:1](=[O:2])1",
    "rxn": "[N:6]1[CH2:5][CH2:4][CH2:7][C:1](=[O:2])1>>[N:6][CH2:5][CH2:4][CH2:7][C:1](=[O:2])[OH]",
    "stereo_policy": "substrate_dependent",
    "type": "retro"
  },
  "D19_rcm_forward": {
    "brief": "Ring-closing metathesis: acyclic diene cyclized to endocyclic alkene using Grubbs Ru-carbene catalyst. Releases ethylene gas, driving equilibrium.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "Grubbs_II/DCM/40C",
      "Hoveyda-Grubbs_II/toluene/80C"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "RCM (Forward, ring reaction)",
    "note": "RCM: Grubbs II or Hoveyda-Grubbs II catalyst. Diene substrate requires appropriate tether length (5-ring to macrocycle). Releases ethylene (use N2 purge or vacuum to drive). E/Z mixture of product alkene (not retention). Thiols and free amines poison Ru catalyst. Dilute conditions minimize oligomerization.",
    "prereq": "[CH2:1]=[CH:2][CH2:3][CH2:4][CH:5]=[CH2:6]",
    "rxn": "[CH2:1]=[CH:2][CH2:3][CH2:4][CH:5]=[CH2:6]>>[CH2:1]1[CH2:2][CH2:3][CH2:4][CH:5]=[CH:6]1",
    "stereo_policy": "substrate_dependent",
    "type": "forward"
  },
  "D19_rcm_retro": {
    "brief": "Retro-RCM: cyclic alkene disconnected to acyclic diene. Forward: Grubbs catalyst ring-closing metathesis.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "Grubbs_II/DCM",
      "Hoveyda-Grubbs_II/toluene"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "RCM (Retro, ring reaction)",
    "note": "Retrosynthetic disconnection. Forward: Grubbs II/Hoveyda-Grubbs II. E/Z mixture. Thiols poison Ru.",
    "prereq": "[CH2:1]1[CH2:2][CH2:3][CH2:4][CH:5]=[CH:6]1",
    "rxn": "[CH2:1]1[CH2:2][CH2:3][CH2:4][CH:5]=[CH:6]1>>[CH2:1]=[CH:2][CH2:3][CH2:4][CH:5]=[CH2:6]",
    "stereo_policy": "substrate_dependent",
    "type": "retro"
  },
  "D22_pauson_khand_forward": {
    "brief": "Pauson-Khand [2+2+1]: alkyne + alkene + CO -> cyclopentenone core.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "Co2(CO)8/NMO/DCM",
      "Co2(CO)8/heat/toluene",
      "[Rh(CO)2Cl]2/CO(1atm)/DCE"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Pauson Khand (Forward, ring reaction)",
    "note": "Pauson-Khand: Co2(CO)8 complexes alkyne, then insertion of alkene and CO gives cyclopentenone. NMO (N-methylmorpholine N-oxide) promotes CO dissociation. Regioselectivity: bulky alkyne substituent α to C=O. Racemic. Rh and Mo catalysts also work. Intramolecular PK is powerful for natural product synthesis.",
    "prereq": "[C:1]#[C:2].[C:3]=[C:4].[C:5]#O",
    "rxn": "[C:1]#[C:2].[C:3]=[C:4].[C:5]#O>>[C:1]1[C:2][C:3][C:4][C:5](=[O])1",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "D22_pauson_khand_retro": {
    "brief": "Retro Pauson-Khand disconnection of cyclopentenone to alkyne + alkene + CO.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "Co2(CO)8/NMO/DCM",
      "Co2(CO)8/heat/toluene"
    ],
    "incompatible_groups": [
      "[SX2H]",
      "[CX3](=[OX1])Cl"
    ],
    "name": "Pauson Khand (Retro, ring reaction)",
    "note": "Retrosynthetic disconnection. Forward: Co2(CO)8/NMO. Racemic. Regioselectivity: larger substituent α to C=O.",
    "prereq": "[C:1]1[C:2][C:3][C:4][C:5](=[O])1",
    "rxn": "[C:1]1[C:2][C:3][C:4][C:5](=[O])1>>[C:1]#[C:2].[C:3]=[C:4].[C:5]#O",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "D41_2plus2": {
    "brief": "Photochemical [2+2] cycloaddition: two alkenes combine under UV to form cyclobutane. Woodward-Hoffmann allowed photochemically.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "hv(UV)/acetone_sensitizer",
      "hv(254nm)/quartz"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "[2+2] Cycloaddition (Forward, ring reaction)",
    "note": "[2+2]: thermally forbidden, photochemically allowed. UV excites one alkene, stepwise diradical. Racemic.",
    "prereq": "[C:1]=[C:2].[C:3]=[C:4]",
    "rxn": "[C:1]=[C:2].[C:3]=[C:4]>>[C:1]1[C:2][C:3][C:4]1",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "D41_2plus2_retro": {
    "brief": "Retro-[2+2]: cyclobutane disconnected to two alkenes. Forward: photochemical [2+2] cycloaddition under UV irradiation.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "hv(UV)/acetone_sensitizer",
      "hv(254nm)/quartz"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[NX3;H2,H1;+0]"
    ],
    "name": "[2+2] Cycloaddition (Retro, ring reaction)",
    "note": "Retro-[2+2] disconnection. Forward [2+2] is photochemically allowed (Woodward-Hoffmann). UV excites one alkene, stepwise diradical mechanism gives cyclobutane. Thermal retro-[2+2] is also possible at high temperature. Racemic at new stereocenters.",
    "prereq": "[C:1]1[C:2][C:3][C:4]1",
    "rxn": "[C:1]1[C:2][C:3][C:4]1>>[C:1]=[C:2].[C:3]=[C:4]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "D42_FC_acylation_indanone": {
    "brief": "Intramolecular Friedel-Crafts acylation: arylpropanoyl chloride cyclizes to indanone under AlCl3. No rearrangement.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "AlCl3/DCM",
      "AlCl3/nitrobenzene"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Intramolecular FC Acylation Indanone (Forward, ring reaction)",
    "note": "Intramolecular FC acylation. AlCl3 activates acyl chloride. 5-exo-trig. No rearrangement. Free amines incompatible.",
    "prereq": "[c:5]1ccccc1[CH2:4][CH2:3][C:2](=[O:1])Cl",
    "rxn": "[c:5]1ccccc1[CH2:4][CH2:3][C:2](=[O:1])Cl>>[O:1]=[C:2]1[CH2:3][CH2:4][c:5]2ccccc21",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "D42_FC_acylation_indanone_retro": {
    "brief": "Retro-intramolecular FC acylation: indanone disconnected to arylpropanoyl chloride. Forward: AlCl3-catalyzed intramolecular electrophilic acylation.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "AlCl3/DCM",
      "AlCl3/nitrobenzene"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Intramolecular FC Acylation Indanone (Retro, ring reaction)",
    "note": "Retrosynthetic disconnection of indanone C-C(aryl) bond. Forward uses AlCl3/DCM. No rearrangement (acylium). Free amines and alcohols incompatible with Lewis acid. Not_applicable stereo (no stereocenter in indanone).",
    "prereq": "[O:1]=[C:2]1[CH2:3][CH2:4][c:5]2ccccc21",
    "rxn": "[O:1]=[C:2]1[CH2:3][CH2:4][c:5]2ccccc21>>[c:5]1ccccc1[CH2:4][CH2:3][C:2](=[O:1])Cl",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "D43_FC_acylation_tetralone": {
    "brief": "Intramolecular Friedel-Crafts acylation: arylbutanoyl chloride cyclizes to tetralone under AlCl3.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "AlCl3/DCM",
      "polyphosphoric_acid(PPA)"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Intramolecular FC Acylation Tetralone (Forward, ring reaction)",
    "note": "Intramolecular FC acylation for 6-ring. AlCl3 activates acyl chloride. Haworth synthesis step. Free amines incompatible.",
    "prereq": "[c:6]1ccccc1[CH2:5][CH2:4][CH2:3][C:2](=[O:1])Cl",
    "rxn": "[c:6]1ccccc1[CH2:5][CH2:4][CH2:3][C:2](=[O:1])Cl>>[O:1]=[C:2]1[CH2:3][CH2:4][CH2:5][c:6]2ccccc21",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "D43_FC_acylation_tetralone_retro": {
    "brief": "Retro-intramolecular FC acylation: tetralone disconnected to arylbutanoyl chloride. Forward: AlCl3-catalyzed intramolecular electrophilic acylation.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "AlCl3/DCM",
      "polyphosphoric_acid(PPA)"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Intramolecular FC Acylation Tetralone (Retro, ring reaction)",
    "note": "Retrosynthetic disconnection of tetralone C-C(aryl) bond. Forward uses AlCl3/DCM. Haworth synthesis step. Free amines and alcohols incompatible. Not_applicable stereo.",
    "prereq": "[O:1]=[C:2]1[CH2:3][CH2:4][CH2:5][c:6]2ccccc21",
    "rxn": "[O:1]=[C:2]1[CH2:3][CH2:4][CH2:5][c:6]2ccccc21>>[c:6]1ccccc1[CH2:5][CH2:4][CH2:3][C:2](=[O:1])Cl",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "D44_baeyer_villiger": {
    "brief": "Baeyer-Villiger oxidation: ketone oxidized to ester by peracid. Oxygen inserted between C=O and most substituted α-carbon.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "mCPBA/DCM",
      "CF3CO3H/DCM"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Baeyer-Villiger (Forward, ring reaction)",
    "note": "BV oxidation: peracid attacks C=O, Criegee intermediate, migration of more substituted group. Retention at migrating carbon. Sulfides and amines compete.",
    "prereq": "[C:6][C:1](=[O:2])[C:4]",
    "rxn": "[C:6][C:1](=[O:2])[C:4]>>[C:6][C:1](=[O:2])[O][C:4]",
    "stereo_policy": "substrate_dependent",
    "type": "forward"
  },
  "D44_baeyer_villiger_retro": {
    "brief": "Retro-Baeyer-Villiger: ester/lactone disconnected to ketone. Forward: peracid oxidation inserts oxygen adjacent to carbonyl.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "mCPBA/DCM",
      "CF3CO3H/DCM",
      "H2O2/SeO2"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Baeyer-Villiger (Retro, ring reaction)",
    "note": "Retro-BV disconnection: ester → ketone (remove O between C=O and alkyl). Forward BV uses mCPBA or CF3CO3H. Migratory aptitude determines which group migrates (tert > sec > aryl > primary > methyl). Retention at migrating carbon. Sulfides and amines are competing nucleophiles for peracid.",
    "prereq": "[C:6][C:1](=[O:2])[O][C:4]",
    "rxn": "[C:6][C:1](=[O:2])[O][C:4]>>[C:6][C:1](=[O:2])[C:4]",
    "stereo_policy": "substrate_dependent",
    "type": "retro"
  },
  "D49_beckmann_rearrangement_lactam": {
    "brief": "Beckmann rearrangement: cyclic ketoxime → lactam (ring expansion). Anti-periplanar group migrates to nitrogen. Retention at migrating carbon.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "H2SO4/heat",
      "PCl5/Et2O",
      "cyanuric_chloride/DMF"
    ],
    "incompatible_groups": [
      "[OX2H]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Beckmann Rearrangement Lactam (Forward, ring reaction)",
    "note": "Acid (H2SO4, PCl5, SOCl2) activates oxime OH. Anti group migrates. Ring expands by one atom. Industrial route to caprolactam (nylon-6).",
    "prereq": "[CH2:1]1[CH2:2][CH2:3][CH2:4][CH2:5][C:6](=[N:7][OH:8])1",
    "rxn": "[CH2:1]1[CH2:2][CH2:3][CH2:4][CH2:5][C:6](=[N:7][OH:8])1>>[NH:7]1[C:6](=[O:8])[CH2:1][CH2:2][CH2:3][CH2:4][CH2:5]1",
    "stereo_policy": "substrate_dependent",
    "type": "forward"
  },
  "D49_beckmann_rearrangement_lactam_retro": {
    "brief": "Retro-Beckmann: lactam disconnected to cyclic oxime. Forward: Beckmann rearrangement of cyclic ketoxime to lactam (ring expansion by one atom). Anti-periplanar group migrates.",
    "category": "ring_reaction",
    "co_reactant_examples": [
      "H2SO4/heat",
      "PCl5/Et2O",
      "SOCl2/pyridine",
      "cyanuric_chloride/DMF"
    ],
    "incompatible_groups": [
      "[OX2H]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Beckmann Rearrangement Lactam (Retro, ring reaction)",
    "note": "Beckmann rearrangement: cyclic oxime → lactam. Acid (H2SO4, PCl5, SOCl2, Beckmann mixture) activates oxime OH as leaving group. Group anti-periplanar to departing OH migrates to electron-deficient nitrogen. Ring expands by one atom (e.g., cyclohexanone oxime → caprolactam). Retention of configuration at migrating carbon. Industrial route to nylon-6 precursor.",
    "prereq": "[NH:7]1[C:6](=[O:8])[CH2:1][CH2:2][CH2:3][CH2:4][CH2:5]1",
    "rxn": "[NH:7]1[C:6](=[O:8])[CH2:1][CH2:2][CH2:3][CH2:4][CH2:5]1>>[CH2:1]1[CH2:2][CH2:3][CH2:4][CH2:5][C:6](=[N:7][OH:8])1",
    "stereo_policy": "substrate_dependent",
    "type": "retro"
  },
  "E05_beckmann": {
    "brief": "Oxime rearranges to amide under acid catalysis. The group anti to the hydroxyl migrates. Cyclic ketoximes give lactams (e.g., caprolactam from cyclohexanone oxime).",
    "category": "nitrogen",
    "co_reactant_examples": [
      "H2SO4/heat",
      "PCl5",
      "SOCl2",
      "Beckmann_mixture(AcOH/HCl)"
    ],
    "incompatible_groups": [
      "[OX2r3]",
      "[CX4]([OX2][#6])([OX2][#6])"
    ],
    "name": "Beckmann Rearrangement (Forward, nitrogen)",
    "note": "Beckmann rearrangement: oxime → amide via 1,2-shift. Anti group to OH migrates with retention of configuration. Strongly acidic conditions. Epoxides and acetals are acid-labile and incompatible.",
    "prereq": "[#6:1][C:2](=[N:3][OH:5])[#6:4]",
    "rxn": "[#6:1][C:2](=[N:3][OH:5])[#6:4]>>[#6:1][C:2](=[O:5])[NH:3][#6:4]",
    "stereo_policy": "substrate_dependent",
    "type": "forward"
  },
  "E05_beckmann_retro": {
    "brief": "Retro-Beckmann: amide disconnected to oxime. Forward: Beckmann rearrangement of oxime to amide. Anti group migrates with retention.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "H2SO4/heat",
      "PCl5/Et2O",
      "SOCl2/pyridine"
    ],
    "incompatible_groups": [
      "[OX2H]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Beckmann (Retro, nitrogen)",
    "note": "Beckmann rearrangement: oxime → amide. Acid (H2SO4, PCl5, SOCl2) activates oxime OH. Group anti to departing OH migrates to N. Retention at migrating carbon. For cyclic oximes → lactam (ring expansion).",
    "prereq": "[#6:1][C:2](=[O:5])[NH:3][#6:4]",
    "rxn": "[#6:1][C:2](=[O:5])[NH:3][#6:4]>>[#6:1][C:2](=[N:3][OH:5])[#6:4]",
    "stereo_policy": "substrate_dependent",
    "type": "retro"
  },
  "E09_reductive_amination_forward": {
    "brief": "Reductive amination: aldehyde + amine → imine → amine. NaBH3CN or NaBH(OAc)3 selectively reduces imine in presence of aldehyde.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "NaBH3CN/AcOH/MeOH",
      "NaBH(OAc)3/AcOH/DCE",
      "NaBH3CN/pH7_buffer/MeOH"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Reductive Amination (Forward, nitrogen)",
    "note": "Reductive amination: aldehyde + amine condense to imine (Schiff base), then selective reduction. NaBH3CN at pH 6-7 reduces C=N but not C=O. NaBH(OAc)3 in DCE is milder alternative. AcOH catalyzes imine formation. Racemic at new stereocenter.",
    "prereq": "[CH1:1](=[O]).[N:3]",
    "rxn": "[CH1:1](=[O]).[N:3]>>[CH2:1][N:3]",
    "stereo_policy": "racemic",
    "type": "forward"
  },
  "E09_reductive_amination_retro": {
    "brief": "Retro-reductive amination: amine disconnected to aldehyde + amine. Forward: one-pot imine formation + NaBH3CN reduction.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "NaBH3CN/AcOH/MeOH",
      "NaBH(OAc)3/DCE"
    ],
    "incompatible_groups": [
      "[CX3](=[OX1])Cl",
      "[OX2r3]"
    ],
    "name": "Reductive Amination (Retro, nitrogen)",
    "note": "Retrosynthetic disconnection of C-N bond adjacent to CH2. Forward uses NaBH3CN/AcOH/MeOH or NaBH(OAc)3/DCE. Racemic.",
    "prereq": "[CH2:1][N:3]",
    "rxn": "[CH2:1][N:3]>>[CH1:1](=[O]).[N:3]",
    "stereo_policy": "racemic",
    "type": "retro"
  },
  "E10_buchwald_hartwig_forward": {
    "brief": "Buchwald-Hartwig: Pd(0)-catalyzed C-N coupling of aryl bromide with secondary amine. Bulky phosphine ligands enable challenging substrates.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "Pd2(dba)3/XPhos/NaOtBu/toluene",
      "Pd(OAc)2/BINAP/Cs2CO3/toluene",
      "Pd2(dba)3/BrettPhos/NaOtBu/dioxane"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "Buchwald Hartwig (Forward, nitrogen)",
    "note": "Buchwald-Hartwig: Pd(0)/ligand catalyzes ArBr + R2NH → Ar-NR2. Oxidative addition → amine coordination → deprotonation → reductive elimination. Base (NaOtBu, Cs2CO3) required. XPhos, BrettPhos, RuPhos are modern ligands. Free thiols poison Pd.",
    "prereq": "[c:1]Br.[N:2]([#6:3])[#6:4]",
    "rxn": "[c:1]Br.[N:2]([#6:3])[#6:4]>>[c:1][N:2]([#6:3])[#6:4]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "E10_buchwald_hartwig_retro": {
    "brief": "Retro-Buchwald-Hartwig: Ar-NR2 disconnected to aryl bromide + amine. Forward: Pd(0)-catalyzed C-N coupling.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "Pd2(dba)3/XPhos/NaOtBu/toluene",
      "Pd(OAc)2/BINAP/Cs2CO3/toluene"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "Buchwald Hartwig (Retro, nitrogen)",
    "note": "Retrosynthetic disconnection of Ar-N bond. Forward uses Pd2(dba)3/XPhos/NaOtBu/toluene. Free thiols poison Pd catalyst.",
    "prereq": "[c:1][N:2]([#6:3])[#6:4]",
    "rxn": "[c:1][N:2]([#6:3])[#6:4]>>[c:1]Br.[N:2]([#6:3])[#6:4]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "E13_sulfonamide_formation": {
    "brief": "Sulfonamide formation: amine + sulfonyl chloride (RSO2Cl) → sulfonamide + HCl. Base scavenges HCl. Mild, high-yielding N-S bond formation.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "TsCl/Et3N/DCM",
      "MsCl/Et3N/DCM",
      "PhSO2Cl/pyridine"
    ],
    "incompatible_groups": [
      "[OX2H]"
    ],
    "name": "Sulfonamide Formation (Forward, nitrogen)",
    "note": "Sulfonamide formation: RSO2Cl + R'NH2 → RSO2NHR' + HCl. Base (Et3N, pyridine, NaHCO3) required to neutralize HCl. Highly chemoselective for amines over alcohols. Free OH groups may react slowly but amines are much faster. Sulfonyl chlorides are moisture-sensitive.",
    "prereq": "[NH2:1].[S:2](=O)(=O)Cl",
    "rxn": "[NH2:1].[S:2](=O)(=O)Cl>>[N:1][S:2](=O)(=O)",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "E13_sulfonamide_formation_retro": {
    "brief": "Retro-sulfonamide: sulfonamide N-S bond disconnected to amine + sulfonyl chloride. Forward: RSO2Cl + amine with base.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "TsCl/Et3N/DCM",
      "MsCl/Et3N/DCM"
    ],
    "incompatible_groups": [
      "[OX2H]"
    ],
    "name": "Sulfonamide Formation (Retro, nitrogen)",
    "note": "Retrosynthetic disconnection of N-S bond in sulfonamide. Forward uses TsCl/Et3N/DCM or MsCl/pyridine. Sulfonamides are robust protecting groups for amines (removed by Na/naphthalene or HBr/AcOH).",
    "prereq": "[N:1][S:2](=O)(=O)",
    "rxn": "[N:1][S:2](=O)(=O)>>[NH2:1].[S:2](=O)(=O)Cl",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "E16_urea_from_amine_isocyanate": {
    "brief": "Urea formation: amine + isocyanate → urea. Fast nucleophilic addition, no catalyst needed.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "R-N=C=O/DCM/rt",
      "PhNCO/Et3N/THF"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[OX2H]"
    ],
    "name": "Urea From Amine Isocyanate (Forward, nitrogen)",
    "note": "Amine attacks electrophilic C of isocyanate. Exothermic, no catalyst. Moisture-sensitive isocyanate. Symmetric ureas from phosgene + 2 amines.",
    "prereq": "[N:1].[N:4]=[C:2]=[O:3]",
    "rxn": "[N:1].[N:4]=[C:2]=[O:3]>>[N:1][C:2](=[O:3])[N:4]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "E16_urea_from_amine_isocyanate_retro": {
    "brief": "Retro-urea: urea disconnected to amine + isocyanate. Forward: amine nucleophilic addition to R-N=C=O.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "R-N=C=O/DCM/rt",
      "PhNCO/THF"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[OX2H]"
    ],
    "name": "Urea From Amine Isocyanate (Retro, nitrogen)",
    "note": "Retrosynthetic disconnection of urea C-N bond. Forward uses amine + isocyanate (no catalyst, rt). Isocyanates are moisture-sensitive. Thiocarbamates and carbamates are related disconnections.",
    "prereq": "[N:1][C:2](=[O:3])[N:4]",
    "rxn": "[N:1][C:2](=[O:3])[N:4]>>[N:1].[N:4]=[C:2]=[O:3]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "E18_alkyl_halide_amination_sn2": {
    "brief": "Direct SN2 amination: amine displaces halide from alkyl halide with inversion. Over-alkylation is common side reaction.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "R-NH2(excess)/K2CO3/DMF",
      "R2NH/Et3N/CH3CN"
    ],
    "incompatible_groups": [
      "[OX2H]",
      "[SX2H]"
    ],
    "name": "Alkyl Halide Amination SN2 (Forward, nitrogen)",
    "note": "SN2 amination: amine nucleophile attacks alkyl halide with backside attack (inversion). Primary halides preferred. Excess amine minimizes over-alkylation. Benzyl and allyl halides are good substrates.",
    "prereq": "[C;X4;H1,H2:1][Br,Cl,I].[N:2]",
    "rxn": "[C;X4;H1,H2:1][Br,Cl,I].[N:2]>>[C:1][N:2]",
    "stereo_policy": "inversion",
    "type": "forward"
  },
  "E18_alkyl_halide_amination_sn2_retro": {
    "brief": "Retro-SN2 amination: amine disconnected to alkyl halide + amine. Forward: direct SN2 displacement with inversion.",
    "category": "nitrogen",
    "co_reactant_examples": [
      "R-NH2(excess)/K2CO3/DMF",
      "R2NH/Et3N/CH3CN"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[OX2H]"
    ],
    "name": "Alkyl Halide Amination SN2 (Retro, nitrogen)",
    "note": "Retrosynthetic disconnection of C-N bond. Forward SN2 amination with inversion. Primary alkyl halides preferred. Over-alkylation problem — use excess amine or Gabriel synthesis.",
    "prereq": "[C:1][N:2]",
    "rxn": "[C:1][N:2]>>[C;X4:1][Br,Cl,I].[N:2]",
    "stereo_policy": "inversion",
    "type": "retro"
  },
  "F10_bamford_stevens_retro": {
    "brief": "Retro-Bamford-Stevens: alkene disconnected to tosylhydrazone. Forward: base-induced decomposition of tosylhydrazone → diazo → carbene → alkene.",
    "category": "elimination",
    "co_reactant_examples": [
      "NaOMe/diglyme/heat",
      "NaH/DME/heat"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Bamford-Stevens (Retro, elimination)",
    "note": "Retrosynthetic Bamford-Stevens: alkene traced to tosylhydrazone (from ketone + TsNHNH2). Forward: NaOMe/diglyme or NaH/DME decomposes tosylhydrazone via diazo intermediate. Protic conditions → less substituted alkene; aprotic → more substituted. Related to Shapiro (2 equiv BuLi → vinyl lithium).",
    "prereq": "[C:1]=[C:2]",
    "rxn": "[C:1]=[C:2]>>[C:1]([N]=[N]S(=O)(=O)c1ccc(C)cc1)[C:2]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "G10_amidation_from_acid_chloride": {
    "brief": "Amidation: acyl chloride + amine → amide + HCl. Base (Et3N, pyridine) scavenges HCl. Fast, high-yielding amide bond formation.",
    "category": "ester_amide",
    "co_reactant_examples": [
      "RCOCl/Et3N/DCM",
      "RCOCl/pyridine",
      "RCOCl/NaOH(aq)/DCM(Schotten-Baumann)"
    ],
    "incompatible_groups": [
      "[OX2H]"
    ],
    "name": "Amidation From Acid Chloride (Forward, ester amide)",
    "note": "Acyl chloride + amine → amide. Very fast, exothermic. Base (Et3N, pyridine, NaHCO3) required to neutralize HCl. Schotten-Baumann conditions (aqueous NaOH/DCM biphasic). Free OH groups may compete (amines are faster nucleophiles). Acid chlorides are moisture-sensitive.",
    "prereq": "[C:1](=[O:2])Cl.[N:3]",
    "rxn": "[C:1](=[O:2])Cl.[N:3]>>[C:1](=[O:2])[N:3]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "G10_amidation_from_acid_chloride_retro": {
    "brief": "Retro-amidation: amide disconnected to acyl chloride + amine. Forward: RCOCl + amine with base scavenger.",
    "category": "ester_amide",
    "co_reactant_examples": [
      "RCOCl/Et3N/DCM",
      "RCOCl/pyridine"
    ],
    "incompatible_groups": [
      "[OX2H]"
    ],
    "name": "Amidation From Acid Chloride (Retro, ester amide)",
    "note": "Retrosynthetic amidation: amide C-N bond traced to acyl chloride + amine. Forward uses RCOCl/Et3N/DCM. Alternative: RCOOH + amine + coupling reagent (EDC, HATU).",
    "prereq": "[C:1](=[O:2])[N:3]",
    "rxn": "[C:1](=[O:2])[N:3]>>[C:1](=[O:2])Cl.[N:3]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "G16_carbamate_from_chloroformate": {
    "brief": "Carbamate formation: amine + chloroformate → carbamate. Standard amine protection (Boc, Cbz, Fmoc).",
    "category": "ester_amide",
    "co_reactant_examples": [
      "CbzCl/NaHCO3/dioxane-H2O",
      "Boc2O/Et3N/DCM",
      "FmocCl/Na2CO3/dioxane-H2O"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Carbamate From Chloroformate (Forward, ester amide)",
    "note": "Amine + ROC(=O)Cl → carbamate + HCl. Base scavenges HCl. Boc2O is alternative for Boc protection. CbzCl for Cbz. FmocCl for Fmoc.",
    "prereq": "[N:1].[O:4][C:2](=[O:3])Cl",
    "rxn": "[N:1].[O:4][C:2](=[O:3])Cl>>[N:1][C:2](=[O:3])[O:4][#6]",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "G16_carbamate_from_chloroformate_retro": {
    "brief": "Retro-carbamate: carbamate disconnected to amine + chloroformate. Forward: amine + ROC(=O)Cl with base scavenger.",
    "category": "ester_amide",
    "co_reactant_examples": [
      "CbzCl/NaHCO3/dioxane-H2O",
      "Boc2O/Et3N/DCM"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[OX2H]"
    ],
    "name": "Carbamate From Chloroformate (Retro, ester amide)",
    "note": "Retrosynthetic carbamate disconnection. Forward uses amine + chloroformate (CbzCl, Boc2O, FmocCl) with base. Standard protecting group chemistry.",
    "prereq": "[N:1][C:2](=[O:3])[O:4][#6]",
    "rxn": "[N:1][C:2](=[O:3])[O:4][#6]>>[N:1].[O:4][C:2](=[O:3])Cl",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "H14_snar_heteroaryl_amine": {
    "brief": "SNAr on heteroaromatic: amine displaces halide on N-heterocycle. Ring nitrogen activates adjacent C-X.",
    "category": "aromatic",
    "co_reactant_examples": [
      "R-NH2/DIPEA/nBuOH/120C",
      "R-NH2/K2CO3/DMF/80C"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2][#6]"
    ],
    "name": "SNAr Heteroaryl Amine (Forward, aromatic)",
    "note": "Heteroaromatic SNAr: amine attacks C adjacent to ring N bearing halide. F > Cl leaving group. Base and heat required.",
    "prereq": "[cH:2]1[cH:3][cH:4][n:7][c:5]([F,Cl,Br])[cH:1]1.[N:6]",
    "rxn": "[cH:2]1[cH:3][cH:4][n:7][c:5]([F,Cl,Br])[cH:1]1.[N:6]>>[cH:2]1[cH:3][cH:4][n:7][c:5]([N:6])[cH:1]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "H14_snar_heteroaryl_amine_retro": {
    "brief": "Retro-SNAr heteroaryl: heteroaryl amine disconnected to halo-heterocycle + amine. Forward: nucleophilic displacement on N-heterocycle.",
    "category": "aromatic",
    "co_reactant_examples": [
      "R-NH2/DIPEA/nBuOH/120C",
      "R-NH2/K2CO3/DMF"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2][#6]"
    ],
    "name": "SNAr Heteroaryl Amine (Retro, aromatic)",
    "note": "Retrosynthetic SNAr: HetAr-NR2 traced to HetAr-F/Cl/Br + amine. Ring nitrogen activates position toward SNAr.",
    "prereq": "[cH:2]1[cH:3][cH:4][n:7][c:5]([N:6])[cH:1]1",
    "rxn": "[cH:2]1[cH:3][cH:4][n:7][c:5]([N:6])[cH:1]1>>[cH:2]1[cH:3][cH:4][n:7][c:5]([F,Cl,Br])[cH:1]1.[N:6]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "H17_minisci_alkylation": {
    "brief": "Minisci radical alkylation: carboxylic acid decarboxylated to alkyl radical (Ag/persulfate), adds to protonated N-heterocycle at C2/C4.",
    "category": "aromatic",
    "co_reactant_examples": [
      "RCOOH/AgNO3/K2S2O8/H2SO4/H2O",
      "RCOOH/AgNO3/(NH4)2S2O8/TFA"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "Minisci Alkylation (Forward, aromatic)",
    "note": "Minisci: oxidative decarboxylation generates alkyl radical. Adds to protonated heterocycle (pyridine, quinoline). C2 > C4 selectivity. Acidic conditions required.",
    "prereq": "[n:1]1[c:2][c:3][c:5][c:6][c:7]1.[CH2:4][C](=O)O",
    "rxn": "[n:1]1[c:2][c:3][c:5][c:6][c:7]1.[CH2:4][C](=O)O>>[n:1]1[c:2][c:3]([CH2:4])[c:5][c:6][c:7]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "H17_minisci_alkylation_retro": {
    "brief": "Retro-Minisci: alkyl-heterocycle disconnected to carboxylic acid + heterocycle. Forward: Ag/persulfate radical addition.",
    "category": "aromatic",
    "co_reactant_examples": [
      "RCOOH/AgNO3/K2S2O8/H2SO4",
      "RCOOH/(NH4)2S2O8/TFA"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "Minisci Alkylation (Retro, aromatic)",
    "note": "Retrosynthetic Minisci: alkyl-HetAr traced to RCOOH. Forward uses AgNO3/K2S2O8 radical decarboxylation.",
    "prereq": "[n:1]1[c:2][c:3]([CH2:4])[c:5][c:6][c:7]1",
    "rxn": "[n:1]1[c:2][c:3]([CH2:4])[c:5][c:6][c:7]1>>[n:1]1[c:2][c:3][c:5][c:6][c:7]1.[CH2:4][C](=O)O",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "H20_chan_lam_O_arylation_retro": {
    "brief": "Retro-Chan-Lam O-arylation: aryl ether disconnected to aryl boronic acid + alcohol. Forward: Cu(OAc)2/air coupling at rt.",
    "category": "aromatic",
    "co_reactant_examples": [
      "Cu(OAc)2/Et3N/4A_MS/DCM/air/rt",
      "Cu(OAc)2/pyridine/DCM/O2"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "Chan Lam O Arylation (Retro, aromatic)",
    "note": "Retrosynthetic Chan-Lam: Ar-OR traced to ArB(OH)2 + ROH. Forward uses Cu(OAc)2/Et3N/air at room temperature.",
    "prereq": "[c:1][O:2][#6:3]",
    "rxn": "[c:1][O:2][#6:3]>>[c:1]B(O)O.[OH:2][#6:3]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "I17_wohl_ziegler": {
    "brief": "Wohl-Ziegler allylic bromination: NBS/radical initiator brominates allylic CH2 to CHBr. Radical chain mechanism, low [Br2] prevents addition.",
    "category": "special",
    "co_reactant_examples": [
      "NBS/AIBN/CCl4/reflux",
      "NBS/hv/CCl4",
      "NBS/benzoyl_peroxide/CCl4"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2H]"
    ],
    "name": "Wohl Ziegler (Forward, special)",
    "note": "Wohl-Ziegler: variant of NBS allylic bromination targeting methylene (CH2) positions. NBS + AIBN or hv in CCl4. Radical chain. Selectivity: allylic > benzylic > tertiary C-H. Racemic product.",
    "prereq": "[C:1]=[C:2][CH2:3]",
    "rxn": "[C:1]=[C:2][CH2:3]>>[C:1]=[C:2][CH:3]Br",
    "stereo_policy": "substrate_dependent",
    "type": "forward"
  },
  "I17_wohl_ziegler_retro": {
    "brief": "Retro-Wohl-Ziegler: allylic bromide disconnected to alkene with allylic CH2. Forward: NBS radical allylic bromination.",
    "category": "special",
    "co_reactant_examples": [
      "NBS/AIBN/CCl4",
      "NBS/hv/CCl4"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]",
      "[SX2H]"
    ],
    "name": "Wohl Ziegler (Retro, special)",
    "note": "Retrosynthetic Wohl-Ziegler: allylic CHBr traced to allylic CH2. Forward uses NBS/AIBN/CCl4.",
    "prereq": "[C:1]=[C:2][CH:3]Br",
    "rxn": "[C:1]=[C:2][CH:3]Br>>[C:1]=[C:2][CH2:3]",
    "stereo_policy": "substrate_dependent",
    "type": "retro"
  },
  "I26_ring_closure_biaryl_retro_placeholder": {
    "brief": "Retro-oxidative biaryl cyclization: fused polycyclic aromatic system disconnected to a biaryl precursor differing by one missing aryl–aryl bond.",
    "category": "special",
    "co_reactant_examples": [
      "FeCl3/DCM",
      "Pd(OAc)2/K2S2O8/TFA",
      "DDQ/TfOH"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]"
    ],
    "name": "Oxidative Biaryl Ring Closure to Fused PAH (Retro, special)",
    "note": "Retrosynthetic disconnection for oxidative biaryl ring closure (Scholl-like): fused polycyclic aromatic systems can be traced to biaryl precursors with an open bond. Forward realization usually requires strong oxidizing/Lewis-acidic conditions (FeCl3, DDQ/acid, etc.) and appropriate substrate geometry. This is a coarse disconnection.",
    "prereq": "[c:1]1ccc2c(c1)ccc3ccccc23",
    "rxn": "[c:1]1ccc2c(c1)ccc3ccccc23>>[c:1]1ccc(cc1)c2ccccc2",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "I26_ring_closure_biaryl_retro_placeholder_forward": {
    "brief": "Intramolecular oxidative aryl–aryl coupling of a biaryl/oligoaryl framework to form an additional fused aromatic ring (e.g., Scholl-like cyclodehydrogenation).",
    "category": "special",
    "co_reactant_examples": [
      "FeCl3/DCM",
      "Pd(OAc)2/K2S2O8/TFA"
    ],
    "incompatible_groups": [
      "[NX3;H2,H1;+0]"
    ],
    "name": "Oxidative Biaryl Ring Closure to Fused PAH (Forward, special)",
    "note": "Net oxidative biaryl ring closure: forms a new aryl–aryl bond with loss of two hydrogens (rearomatization). Typical reagent sets include FeCl3 or Pd-catalyzed oxidative conditions. First-principles: bond formation is favored when the reacting aryl positions are geometrically close and electronically activated; strongly basic/oxidizable amines can be problematic under strongly Lewis-acidic/oxidizing conditions (hence the incompatible_groups flag). This template is simplified.",
    "prereq": "[c:1]1ccc(cc1)c2ccccc2",
    "rxn": "[c:1]1ccc(cc1)c2ccccc2>>[c:1]1ccc2c(c1)ccc3ccccc23",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "I30_ncs_heteroarene_halogenation_forward": {
    "brief": "NCS chlorination of electron-rich heterocycle: electrophilic aromatic substitution at most nucleophilic position. Analogous to NBS but introduces Cl.",
    "category": "special",
    "co_reactant_examples": [
      "NCS/DMF/0C",
      "NCS/THF/-78C",
      "NCS/CHCl3/rt"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "NCS Heteroarene Halogenation (Forward, special)",
    "note": "NCS on electron-rich heterocycles: electrophilic chlorination. Same regioselectivity as NBS (C2 for pyrrole/furan/thiophene). NCS is milder electrophile than NBS. Low temperature for selectivity. DMF or THF solvent.",
    "prereq": "[nH:1]1[c:2][c:3][c:4][c:5]1",
    "rxn": "[nH:1]1[c:2][c:3][c:4][c:5]1>>[nH:1]1[c:2]([Cl])[c:3][c:4][c:5]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "I30_ncs_heteroarene_halogenation_retro": {
    "brief": "Retro-NCS heteroarene chlorination: chlorinated heterocycle disconnected to parent heterocycle. Forward: NCS electrophilic chlorination.",
    "category": "special",
    "co_reactant_examples": [
      "NCS/DMF/0C",
      "NCS/THF/-78C"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "NCS Heteroarene Halogenation (Retro, special)",
    "note": "Retrosynthetic: chloro-heterocycle traced to unsubstituted heterocycle. Forward uses NCS/DMF at low temperature.",
    "prereq": "[nH:1]1[c:2]([Cl])[c:3][c:4][c:5]1",
    "rxn": "[nH:1]1[c:2]([Cl])[c:3][c:4][c:5]1>>[nH:1]1[c:2][c:3][c:4][c:5]1",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "I33_selectfluor_heteroarene_fluorination_forward": {
    "brief": "Selectfluor fluorination of electron-rich heterocycle: electrophilic F+ source introduces fluorine at most nucleophilic position of pyrrole/indole/thiophene.",
    "category": "special",
    "co_reactant_examples": [
      "Selectfluor/MeCN/rt",
      "Selectfluor/DMF/rt",
      "Selectfluor/MeCN-H2O/rt"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "Selectfluor Heteroarene Fluorination (Forward, special)",
    "note": "Selectfluor (1-chloromethyl-4-fluoro-1,4-diazoniabicyclo[2.2.2]octane bis(tetrafluoroborate)): electrophilic F+ reagent. Fluorinates electron-rich heterocycles at C2 (pyrrole, furan) or C3 (indole). MeCN or DMF solvent. Room temperature. Water-compatible.",
    "prereq": "[nH:1]1[c:2][c:3][c:4][c:5]1",
    "rxn": "[nH:1]1[c:2][c:3][c:4][c:5]1>>[nH:1]1[c:2]([F])[c:3][c:4][c:5]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "I33_selectfluor_heteroarene_fluorination_retro": {
    "brief": "Retro-Selectfluor: fluorinated heterocycle disconnected to parent heterocycle. Forward: Selectfluor electrophilic fluorination.",
    "category": "special",
    "co_reactant_examples": [
      "Selectfluor/MeCN/rt",
      "Selectfluor/DMF/rt"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "Selectfluor Heteroarene Fluorination (Retro, special)",
    "note": "Retrosynthetic: fluoro-heterocycle traced to unsubstituted heterocycle. Forward uses Selectfluor/MeCN.",
    "prereq": "[nH:1]1[c:2]([F])[c:3][c:4][c:5]1",
    "rxn": "[nH:1]1[c:2]([F])[c:3][c:4][c:5]1>>[nH:1]1[c:2][c:3][c:4][c:5]1",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "I34_nfsi_heteroarene_fluorination_forward": {
    "brief": "NFSI fluorination of electron-rich heterocycle: N-fluorobenzenesulfonimide as electrophilic F+ source. Complementary to Selectfluor with different selectivity profile.",
    "category": "special",
    "co_reactant_examples": [
      "NFSI/THF/rt",
      "NFSI/MeCN/rt",
      "NFSI/Cs2CO3/DMF"
    ],
    "incompatible_groups": [
      "[SX2H]"
    ],
    "name": "NFSI Heteroarene Fluorination (Forward, special)",
    "note": "NFSI (N-fluorobenzenesulfonimide): milder electrophilic F+ source than Selectfluor. Fluorinates electron-rich heterocycles. Often better selectivity for sensitive substrates. THF or MeCN solvent. Can be used with metal catalysts (Pd, Cu) for directed C-H fluorination.",
    "prereq": "[nH:1]1[c:2][c:3][c:4][c:5]1",
    "rxn": "[nH:1]1[c:2][c:3][c:4][c:5]1>>[nH:1]1[c:2]([F])[c:3][c:4][c:5]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J06_paal_knorr_furan_forward": {
    "brief": "Paal-Knorr furan: 1,4-dicarbonyl cyclodehydrated to furan under acid catalysis (P2O5, ZnCl2). Aromatic product, no stereocenter.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "P2O5/xylene/reflux",
      "ZnCl2/AcOH/heat",
      "H2SO4(cat)/toluene/reflux"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Paal Knorr Furan (Forward, heterocycle)",
    "note": "Paal-Knorr furan forward: 1,4-diketone + strong dehydrating agent -> furan. Harsher conditions than pyrrole/thiophene. Product is aromatic.",
    "prereq": "[C:1](=[O:2])[CH2:3][CH2:4][C:5](=[O])",
    "rxn": "[C:1](=[O:2])[CH2:3][CH2:4][C:5](=[O])>>[o:2]1[c:1][c:3][c:4][c:5]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J06_paal_knorr_furan_retro": {
    "brief": "Retro-Paal-Knorr furan: furan disconnected to 1,4-dicarbonyl. Forward: acid-catalyzed cyclodehydration.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "P2O5/xylene/reflux",
      "ZnCl2/AcOH/heat"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Paal Knorr Furan (Retro, heterocycle)",
    "note": "Retrosynthetic Paal-Knorr furan: furan traced to 1,4-diketone. Forward uses P2O5 or ZnCl2. Aromatic product.",
    "prereq": "[o:2]1[c:1][c:3][c:4][c:5]1",
    "rxn": "[o:2]1[c:1][c:3][c:4][c:5]1>>[C:1](=[O:2])[CH2:3][CH2:4][C:5](=[O])",
    "stereo_policy": "not_applicable",
    "type": "retro"
  },
  "J07_paal_knorr_pyrrole_forward": {
    "brief": "Paal-Knorr pyrrole: 1,4-dicarbonyl + primary amine condense to N-substituted pyrrole. Acid-catalyzed. Aromatic product.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "RNH2/AcOH/EtOH/reflux",
      "NH4OAc/AcOH/heat",
      "RNH2/p-TsOH/toluene/Dean-Stark"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Paal Knorr Pyrrole (Forward, heterocycle)",
    "note": "Paal-Knorr pyrrole forward: 1,4-diketone + RNH2 + acid catalyst (AcOH, p-TsOH). Double condensation/dehydration. Mild conditions. NH4OAc for NH-pyrrole.",
    "prereq": "[C:1](=[O])[CH2:3][CH2:4][C:5](=[O]).[N:7]",
    "rxn": "[C:1](=[O])[CH2:3][CH2:4][C:5](=[O]).[N:7]>>[nH:7]1[c:1][c:3][c:4][c:5]1",
    "stereo_policy": "not_applicable",
    "type": "forward"
  },
  "J07_paal_knorr_pyrrole_retro": {
    "brief": "Retro-Paal-Knorr pyrrole: pyrrole disconnected to 1,4-dicarbonyl + primary amine. Forward: acid-catalyzed condensation.",
    "category": "heterocycle",
    "co_reactant_examples": [
      "RNH2/AcOH/EtOH/reflux",
      "NH4OAc/AcOH/heat"
    ],
    "incompatible_groups": [
      "[SX2][#6]",
      "[NX3;H2,H1;+0]"
    ],
    "name": "Paal Knorr Pyrrole (Retro, heterocycle)",
    "note": "Retrosynthetic Paal-Knorr pyrrole: pyrrole traced to 1,4-diketone + RNH2. Forward uses AcOH catalyst.",
    "prereq": "[nH:7]1[c:1][c:3][c:4][c:5]1",
    "rxn": "[nH:7]1[c:1][c:3][c:4][c:5]1>>[C:1](=[O])[CH2:3][CH2:4][C:5](=[O]).[N:7]",
    "stereo_policy": "not_applicable",
    "type": "retro"
  }
}